<?xml version='1.0' encoding='UTF-8'?><?xml-stylesheet href="http://www.blogger.com/styles/atom.css" type="text/css"?><feed xmlns='http://www.w3.org/2005/Atom' xmlns:openSearch='http://a9.com/-/spec/opensearchrss/1.0/' xmlns:blogger='http://schemas.google.com/blogger/2008' xmlns:georss='http://www.georss.org/georss' xmlns:gd="http://schemas.google.com/g/2005" xmlns:thr='http://purl.org/syndication/thread/1.0'><id>tag:blogger.com,1999:blog-3470089366387037599</id><updated>2019-03-24T00:38:12.344-07:00</updated><category term="[011. AWS]"/><category term="[004. JAVA]"/><category term="[012. Web]"/><category term="[014. Node.js]"/><category term="[005. SQL]"/><category term="[007. Javascript]"/><category term="[013. Server]"/><category term="[002. web2py]"/><category term="[003. RaspberryPi ]"/><category term="[006. Arduino]"/><category term="[010. Python]"/><category term="[000. GitHub]"/><category term="[001. 일상]"/><category term="[008. MQTT]"/><category term="[009. Database]"/><category term="[015. Vue.js]"/><title type='text'>Hello ChanMin&#39;s World !</title><subtitle type='html'></subtitle><link rel='http://schemas.google.com/g/2005#feed' type='application/atom+xml' href='https://walkinpcm.blogspot.com/feeds/posts/default'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/3470089366387037599/posts/default'/><link rel='alternate' type='text/html' href='https://walkinpcm.blogspot.com/'/><link rel='hub' href='http://pubsubhubbub.appspot.com/'/><link rel='next' type='application/atom+xml' href='https://www.blogger.com/feeds/3470089366387037599/posts/default?start-index=26&amp;max-results=25'/><author><name>Unknown</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='https://img1.blogblog.com/img/b16-rounded.gif'/></author><generator version='7.00' uri='http://www.blogger.com'>Blogger</generator><openSearch:totalResults>74</openSearch:totalResults><openSearch:startIndex>1</openSearch:startIndex><openSearch:itemsPerPage>25</openSearch:itemsPerPage><entry><id>tag:blogger.com,1999:blog-3470089366387037599.post-3347390976726498129</id><published>2019-02-27T06:01:00.002-08:00</published><updated>2019-02-27T06:05:28.238-08:00</updated><category scheme="http://www.blogger.com/atom/ns#" term="[011. AWS]"/><category scheme="http://www.blogger.com/atom/ns#" term="[012. Web]"/><category scheme="http://www.blogger.com/atom/ns#" term="[013. Server]"/><category scheme="http://www.blogger.com/atom/ns#" term="[014. Node.js]"/><title type='text'>[AWS] 프론트엔드 개발자가 혼자 웹어플리케이션 만들기. #4. AWS API Gateway, Lambda, DynamoDB를 이용한 REST API 구현</title><content type='html'>&lt;h2&gt;&lt;span style=&quot;color: #cc0000;&quot;&gt;[AWS] 프론트엔드 개발자가 혼자 웹어플리케이션 만들기. #4. AWS API Gateway, Lambda, DynamoDB를 이용한 REST API 구현&lt;/span&gt;&lt;/h2&gt;&lt;br /&gt;&lt;table style=&quot;border-collapse: collapse; width: 100%;&quot;&gt;  &lt;tbody&gt;&lt;tr&gt;    &lt;th style=&quot;border: 1px solid #dddddd; padding: 8px; text-align: left;&quot;&gt;시리즈 포스팅 순서&lt;/th&gt;  &lt;/tr&gt;&lt;tr&gt;    &lt;td style=&quot;background-color: #eeeeee; border: 1px solid #dddddd; padding: 8px; text-align: left;&quot;&gt;&lt;a href=&quot;https://walkinpcm.blogspot.kr/2018/04/aws-1.html&quot; target=&quot;_blank&quot;&gt;&lt;span style=&quot;color: #0b5394;&quot;&gt;#1. 시리즈 포스팅 소개&lt;/span&gt;&lt;/a&gt;&lt;/td&gt;  &lt;/tr&gt;&lt;tr&gt;    &lt;td style=&quot;border: 1px solid #dddddd; padding: 8px; text-align: left;&quot;&gt;&lt;a href=&quot;https://walkinpcm.blogspot.kr/2018/04/aws-2-aws-amplify-cognito.html&quot; target=&quot;_blank&quot;&gt;&lt;span style=&quot;color: #0b5394;&quot;&gt;#2. AWS Amplify와 Cognito를 이용한 회원가입, 로그인 기능 구현&lt;/span&gt;&lt;/a&gt;&lt;/td&gt;  &lt;/tr&gt;&lt;tr&gt;    &lt;td style=&quot;background-color: #eeeeee; border: 1px solid #dddddd; padding: 8px; text-align: left;&quot;&gt;&lt;a href=&quot;https://walkinpcm.blogspot.kr/2018/04/aws-3-aws-amplify-s3.html&quot; target=&quot;_blank&quot;&gt;&lt;span style=&quot;color: #0b5394;&quot;&gt;#3. AWS Amplify와 S3를 이용한 이미지 저장&lt;/span&gt;&lt;/a&gt;&lt;/td&gt;  &lt;/tr&gt;&lt;tr&gt;    &lt;td style=&quot;border: 1px solid #dddddd; padding: 8px; text-align: left;&quot;&gt;&lt;a href=&quot;https://walkinpcm.blogspot.com/2019/02/aws-4-aws-api-gateway-lambda-dynamodb.html&quot; target=&quot;_blank&quot;&gt;&lt;span style=&quot;color: #0b5394;&quot;&gt;#4. AWS API Gateway, Lambda, DynamoDB를 이용한 REST API 구현&lt;/span&gt;&lt;/a&gt;&lt;/td&gt;  &lt;/tr&gt;&lt;tr&gt;    &lt;td style=&quot;background-color: #eeeeee; border: 1px solid #dddddd; padding: 8px; text-align: left;&quot;&gt;#5. AWS Lambda에 Express.js 기반의 웹어플리케이션 배포하기&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;(AWS ACM, API Gateway를 이용한 Custom Domain 적용 방법 포함)&lt;/td&gt;  &lt;/tr&gt;&lt;tr&gt;    &lt;td style=&quot;border: 1px solid #dddddd; padding: 8px; text-align: left;&quot;&gt;#6. AWS S3에 Static Web Hosting으로 SPA(Single Page Application) 웹어플리케이션 배포하기&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;(AWS CloudFront, Route53을 이용한 HTTPS 지원방법 포함)     &lt;/td&gt;  &lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; 이번 포스팅에서는 AWS의 Serverless(서버리스) 서비스들을 이용해서 REST API를 만드는 방법을 정리해보려합니다.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; REST API라 하면, API를 호출할 수 있는 endpoint와, 호출과 함께 전달되는 데이터를 가공 및 처리할 수 있는 로직, 그리고 로직에 따라 데이터가 저장되거나 읽혀지는 데이터베이스가 기본 구성이 될 것입니다.&lt;br /&gt;&amp;nbsp; 이와 같은 기본 구성은 AWS Serverless 서비스들로 구현 가능합니다. endpoint를 생성 할 수 있는 API Gateway, 로직을 담당하는 Lambda, 데이터베이스는 DynamoDB가 담당합니다.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;h4&gt;&lt;span style=&quot;background-color: #f4cccc;&quot;&gt;1. DynamoDB 테이블 생성&lt;/span&gt;&lt;/h4&gt;&amp;nbsp; 먼저, 데이터를 저장하기 위한 데이터베이스로 DynamoDB 테이블을 생성합니다.&lt;br /&gt;&amp;nbsp; DynamoDB는 AWS의 완전관리형 비관계형(NoSQL) 데이터베이스 서비스입니다. DynamoDB는 테이블 생성이 매우 간단하고, 인스턴스를 구동하는 방식이 아니기 때문에 RDS 처럼 인스턴스 스펙을 무엇으로 할지 고민할 필요가 없으며,&amp;nbsp;목표 처리량을 설정하기만 하면 나머지는 시스템에서 자동으로 처리합니다.&lt;br /&gt;&lt;br /&gt;&amp;nbsp; DynamoDB는 Console에서 테이블만 생성하면 데이터베이스 구축 완성입니다. 우선, DynamoDB 대시보드에서 &lt;b&gt;&#39;테이블 만들기&#39;&lt;/b&gt;를 클릭합니다.&lt;br /&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-ZKFadDPaY0A/WuH7kmMS3pI/AAAAAAAABNI/T9cgim7-zR4IOPbsVWfgHG6QdupqHNR8ACLcBGAs/s1600/rest_api__dynamodb_01.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;200&quot; data-original-width=&quot;1176&quot; height=&quot;108&quot; src=&quot;https://3.bp.blogspot.com/-ZKFadDPaY0A/WuH7kmMS3pI/AAAAAAAABNI/T9cgim7-zR4IOPbsVWfgHG6QdupqHNR8ACLcBGAs/s640/rest_api__dynamodb_01.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;(그림) DynamoDB 테이블 만들기&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;&lt;br /&gt;&amp;nbsp; 첫 단계로 테이블 생성을 위한 정보를 입력하는데, &lt;b&gt;&#39;테이블 이름&#39;&lt;/b&gt;을 입력하고 &lt;b&gt;&#39;기본키&#39;&lt;/b&gt;에서 &lt;b&gt;&#39;파티션 키&#39;&lt;/b&gt;의 이름과 타입만 입력해도 됩니다. 필요에 따라서 &lt;b&gt;&#39;정렬 키&#39;&lt;/b&gt;를 추가할 수도 있습니다. &#39;파티션 키&#39;만 입력한다면, &#39;파티션 키&#39;만으로 저장된 항목 하나를 식별할 수 있어야합니다. 하지만 &#39;정렬 키&#39;를 추가한다면, &#39;파티션 키&#39;와 &#39;정렬 키&#39;의 쌍으로 저장된 항목 하나를 식별할 수 있습니다.&lt;br /&gt;&amp;nbsp; 입력 후에는 하단에 &#39;생성&#39; 버튼을 클릭합니다.&lt;br /&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-SILcXWxq0zA/WuH7kjNSxtI/AAAAAAAABNM/oUNgm82OkNsrCWL8rKPXHlIqxSkQaBEvACLcBGAs/s1600/rest_api__dynamodb_02.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;776&quot; data-original-width=&quot;1217&quot; height=&quot;408&quot; src=&quot;https://3.bp.blogspot.com/-SILcXWxq0zA/WuH7kjNSxtI/AAAAAAAABNM/oUNgm82OkNsrCWL8rKPXHlIqxSkQaBEvACLcBGAs/s640/rest_api__dynamodb_02.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;(그림) 테이블 생성을 위한 정보 입력&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;&lt;br /&gt;&amp;nbsp; 이로써 테이블 생성이 끝났습니다. 테이블이 생성되면, 대시보드 좌측 리스트에 테이블이 나타나며, 테이블을 선택했을 때 우측에 나타나는 탭 중에서 &#39;항목&#39; 탭이 저장된 데이터를 볼 수 있는 탭입니다.&lt;br /&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-34oNHqu1Exc/WuH7kkGb4QI/AAAAAAAABNE/_LaQi18RO0QKtJITsh173q6EkkThTZU8gCLcBGAs/s1600/rest_api__dynamodb_03.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;578&quot; data-original-width=&quot;1600&quot; height=&quot;230&quot; src=&quot;https://4.bp.blogspot.com/-34oNHqu1Exc/WuH7kkGb4QI/AAAAAAAABNE/_LaQi18RO0QKtJITsh173q6EkkThTZU8gCLcBGAs/s640/rest_api__dynamodb_03.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;(그림) 테이블 생성 완료&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;&lt;br /&gt;&lt;h4&gt;&lt;span style=&quot;background-color: #f4cccc;&quot;&gt;2. Lambda Function 생성&lt;/span&gt;&lt;/h4&gt;&amp;nbsp; 데이터베이스가 준비되었다면, 해당 데이터베이스에 데이터를 Create, Read, Update, Delete 할 수 있는 로직을 수행할 Lambda Function(함수)를 생성할 차례입니다.&lt;br /&gt;&lt;br /&gt;&amp;nbsp; Lambda 대시보드에서 &#39;함수 생성&#39; 버튼을 클릭해서 Lambda Function 생성 절차를 시작합니다.&lt;br /&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-9V9KGrFdeWQ/WuXZoN3R9gI/AAAAAAAABNw/Axe4Atwo4kIcYBORfKljbXpjwsZFvROIgCLcBGAs/s1600/rest_api__lambda_01.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;325&quot; data-original-width=&quot;1302&quot; height=&quot;158&quot; src=&quot;https://3.bp.blogspot.com/-9V9KGrFdeWQ/WuXZoN3R9gI/AAAAAAAABNw/Axe4Atwo4kIcYBORfKljbXpjwsZFvROIgCLcBGAs/s640/rest_api__lambda_01.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;(그림) Lambda Function 생성 시작&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;&amp;nbsp; Lambda Function을 만드는 옵션은 총 3가지가 있습니다. 첫번째는 코드를 처음부터 새롭게 작성하는 &lt;b&gt;&#39;새로 작성&#39;&lt;/b&gt; 옵션, 두번째는 AWS에서 미리 작성해둔 템플릿을 기반으로 코드를 작성하는 &lt;b&gt;&#39;블루프린트&#39;&lt;/b&gt; 옵션, 세번째는 AWS 사용자들이 만들고 공유한 템플릿을 기반으로 코드를 작성하는 &lt;b&gt;&#39;서버리스 애플리케이션 리포지토리&#39;&lt;/b&gt; 옵션입니다. 세번째 옵션은 최근에 새로 추가되었습니다.&lt;br /&gt;&amp;nbsp; 이번 포스팅에서는 &#39;새로 작성&#39;을 선택하겠습니다. 그런 다음, Function 생성을 위한 기본 정보를 입력합니다. Function의 &lt;b&gt;이름&lt;/b&gt;을 입력하고 &lt;b&gt;런타임&lt;/b&gt;을 선택하고 &lt;b&gt;역할(Role)&lt;/b&gt;을 선택합니다. 이때의 역할은 현재 생성할 Function이 가지는 권한입니다. 만일 이 Function이 DynamoDB에 접근해야한다면 역할에 DynamoDB에 접근할 수 있는 정책(Policy)이 포함되어 있어야합니다.&lt;br /&gt;&amp;nbsp; 정보가 다 입력되면 하단에 &#39;함수 생성&#39;을 클릭합니다&lt;br /&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-AOFF1mqDQCA/WuXh8McuCbI/AAAAAAAABOM/c28Mi_ONskkVxqMUjgcWspb4xIOZR63OACLcBGAs/s1600/rest_api__lambda_03.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;661&quot; data-original-width=&quot;1600&quot; height=&quot;264&quot; src=&quot;https://1.bp.blogspot.com/-AOFF1mqDQCA/WuXh8McuCbI/AAAAAAAABOM/c28Mi_ONskkVxqMUjgcWspb4xIOZR63OACLcBGAs/s640/rest_api__lambda_03.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;(그림) Lambda Function 생성을 위한 정보 입력&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;&lt;br /&gt;&amp;nbsp; &#39;함수 생성&#39;을 누르고나면 Function의 코드를 작성할 수 있는 페이지가 나옵니다. 그곳에 원하는 동작을 하는 코드를 작성하면 됩니다. 아래 코드는 런타임이 Node.js 6 일때, DynamoDB에 기본적으로 CRUD하는 코드 예시입니다. 코드의 주석에서 중요 코드를 설명하겠습니다.&lt;br /&gt;&lt;br /&gt;&lt;div style=&quot;background: #333; overflow-x: scroll; width: 100%;&quot;&gt;&lt;pre style=&quot;color: #f8f8f8; font-family: Consolas, &amp;quot;Lucida Console&amp;quot;, &amp;quot;DejaVu Sans Mono&amp;quot;, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.9333em; font-stretch: normal; font-variant-east-asian: normal; font-variant-numeric: normal; line-height: 1.5em; padding: 4px;&quot;&gt;&lt;span style=&quot;color: #65b042;&quot;&gt;&#39;use strict&#39;&lt;/span&gt;;&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;color: #aeaeae; font-style: italic;&quot;&gt;// DynamoDB에 접근할 수 있는 객체 생성&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #99cf50;&quot;&gt;const&lt;/span&gt; doc &lt;span style=&quot;color: #e28964;&quot;&gt;=&lt;/span&gt; require(&lt;span style=&quot;color: #65b042;&quot;&gt;&#39;dynamodb-doc&#39;&lt;/span&gt;);&lt;br /&gt;&lt;span style=&quot;color: #99cf50;&quot;&gt;const&lt;/span&gt; dynamo &lt;span style=&quot;color: #e28964;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #e28964;&quot;&gt;new&lt;/span&gt; &lt;span style=&quot;text-decoration-line: underline;&quot;&gt;doc.DynamoDB&lt;/span&gt;();&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;color: #aeaeae; font-style: italic;&quot;&gt;// API Gateway를 이용해서 Lambda Function을 호출할 때,&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #aeaeae; font-style: italic;&quot;&gt;// Query String이나 Request Body의 데이터는 handler 함수의 event 매개변수로 전달되어옵니다.&lt;/span&gt;&lt;br /&gt;exports.handler &lt;span style=&quot;color: #e28964;&quot;&gt;=&lt;/span&gt; (&lt;span style=&quot;color: #9b859d;&quot;&gt;event&lt;/span&gt;, context, callback) &lt;span style=&quot;color: #e28964;&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: #e28964;&quot;&gt;&amp;gt;&lt;/span&gt; {&lt;br /&gt;&lt;br /&gt;  &lt;span style=&quot;color: #aeaeae; font-style: italic;&quot;&gt;// handler 함수의 callback 매개변수를 이용해서 Lambda에서 API Gateway로 Response를 전달할 수 있습니다.&lt;/span&gt;&lt;br /&gt;  &lt;span style=&quot;color: #99cf50;&quot;&gt;const&lt;/span&gt; done &lt;span style=&quot;color: #e28964;&quot;&gt;=&lt;/span&gt; (err, res) &lt;span style=&quot;color: #e28964;&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: #e28964;&quot;&gt;&amp;gt;&lt;/span&gt; callback(&lt;span style=&quot;color: #3387cc;&quot;&gt;null&lt;/span&gt;, {&lt;br /&gt;    statusCode: err ? &lt;span style=&quot;color: #65b042;&quot;&gt;&#39;400&#39;&lt;/span&gt; : &lt;span style=&quot;color: #65b042;&quot;&gt;&#39;200&#39;&lt;/span&gt;,&lt;br /&gt;    body: err ? err.message : JSON.stringify(res),&lt;br /&gt;    headers: {&lt;br /&gt;      &lt;span style=&quot;color: #65b042;&quot;&gt;&#39;Content-Type&#39;&lt;/span&gt;: &lt;span style=&quot;color: #65b042;&quot;&gt;&#39;application/json&#39;&lt;/span&gt;,&lt;br /&gt;    },&lt;br /&gt;  });&lt;br /&gt;&lt;br /&gt;  &lt;span style=&quot;color: #aeaeae; font-style: italic;&quot;&gt;// event 객체에는 API Gateway로 호출받은 HTTP Reqeust가 어떤 method인지 저장되어 있습니다.&lt;/span&gt;&lt;br /&gt;  &lt;span style=&quot;color: #aeaeae; font-style: italic;&quot;&gt;// 아래 코드는 HTTP method에 따라 DynamoDB에 CRUD하는 작업을 수행하는 부분입니다.&lt;/span&gt;&lt;br /&gt;  &lt;span style=&quot;color: #e28964;&quot;&gt;switch&lt;/span&gt; (&lt;span style=&quot;color: #9b859d;&quot;&gt;event&lt;/span&gt;.httpMethod) {&lt;br /&gt;    &lt;span style=&quot;color: #e28964;&quot;&gt;case&lt;/span&gt; &lt;span style=&quot;color: #65b042;&quot;&gt;&#39;DELETE&#39;&lt;/span&gt;:&lt;br /&gt;      dynamo.deleteItem(JSON.&lt;span style=&quot;color: #dad085;&quot;&gt;parse&lt;/span&gt;(&lt;span style=&quot;color: #9b859d;&quot;&gt;event&lt;/span&gt;.&lt;span style=&quot;color: #cf6a4c;&quot;&gt;body&lt;/span&gt;), done);&lt;br /&gt;      &lt;span style=&quot;color: #e28964;&quot;&gt;break&lt;/span&gt;;&lt;br /&gt;    &lt;span style=&quot;color: #e28964;&quot;&gt;case&lt;/span&gt; &lt;span style=&quot;color: #65b042;&quot;&gt;&#39;GET&#39;&lt;/span&gt;:&lt;br /&gt;      dynamo.scan({ TableName: &lt;span style=&quot;color: #9b859d;&quot;&gt;event&lt;/span&gt;.queryStringParameters.TableName }, done);&lt;br /&gt;      &lt;span style=&quot;color: #e28964;&quot;&gt;break&lt;/span&gt;;&lt;br /&gt;    &lt;span style=&quot;color: #e28964;&quot;&gt;case&lt;/span&gt; &lt;span style=&quot;color: #65b042;&quot;&gt;&#39;POST&#39;&lt;/span&gt;:&lt;br /&gt;      dynamo.putItem(JSON.&lt;span style=&quot;color: #dad085;&quot;&gt;parse&lt;/span&gt;(&lt;span style=&quot;color: #9b859d;&quot;&gt;event&lt;/span&gt;.&lt;span style=&quot;color: #cf6a4c;&quot;&gt;body&lt;/span&gt;), done);&lt;br /&gt;      &lt;span style=&quot;color: #e28964;&quot;&gt;break&lt;/span&gt;;&lt;br /&gt;    &lt;span style=&quot;color: #e28964;&quot;&gt;case&lt;/span&gt; &lt;span style=&quot;color: #65b042;&quot;&gt;&#39;PUT&#39;&lt;/span&gt;:&lt;br /&gt;      dynamo.updateItem(JSON.&lt;span style=&quot;color: #dad085;&quot;&gt;parse&lt;/span&gt;(&lt;span style=&quot;color: #9b859d;&quot;&gt;event&lt;/span&gt;.&lt;span style=&quot;color: #cf6a4c;&quot;&gt;body&lt;/span&gt;), done);&lt;br /&gt;      &lt;span style=&quot;color: #e28964;&quot;&gt;break&lt;/span&gt;;&lt;br /&gt;    &lt;span style=&quot;color: #e28964;&quot;&gt;default&lt;/span&gt;:&lt;br /&gt;      done(&lt;span style=&quot;color: #e28964;&quot;&gt;new&lt;/span&gt; &lt;span style=&quot;text-decoration-line: underline;&quot;&gt;Error&lt;/span&gt;(`Unsupported method &lt;span style=&quot;color: #65b042;&quot;&gt;&quot;${event.httpMethod}&quot;&lt;/span&gt;`));&lt;br /&gt;  }&lt;br /&gt;};&lt;/pre&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;&amp;nbsp; DynamoDB의 라이브러리에 대한 내용은 &lt;a href=&quot;https://docs.aws.amazon.com/ko_kr/amazondynamodb/latest/developerguide/GettingStarted.html&quot; target=&quot;_blank&quot;&gt;&lt;span style=&quot;background-color: #d9ead3; color: #0b5394;&quot;&gt;링크&lt;/span&gt;&lt;/a&gt;에서 확인가능합니다. Node.js용 DynamoDB SDK 확인은 &lt;a href=&quot;https://docs.aws.amazon.com/AWSJavaScriptSDK/latest/AWS/DynamoDB.html&quot; target=&quot;_blank&quot;&gt;&lt;span style=&quot;background-color: #d9ead3; color: #0b5394;&quot;&gt;여기&lt;/span&gt;&lt;/a&gt;에서 가능합니다. SDK 문서를 보면서 원하는 동작을 찾아가시면 됩니다.&lt;br /&gt;&lt;br /&gt;&amp;nbsp; 코드를 다 작성하고 &#39;저장&#39;을 누르면 Lambda도 준비가 끝났습니다.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;h4&gt;&lt;span style=&quot;background-color: #f4cccc;&quot;&gt;3. API Gateway 생성&lt;/span&gt;&lt;/h4&gt;&amp;nbsp; 이번에는 위에서 작성한 Lambda Function을 호출할 수 있는 endpoint를 만들기 위해서 API Gateway에서 API를 생성하는 방법을 정리합니다. API Gateway로 API를 생성하면 https를 지원하는 URL 형식의 endpoint를 받을 수 있습니다. 그래서 이 endpoint를 axios 같은 http request 라이브러리에서 사용할 수 있습니다.&lt;br /&gt;&lt;br /&gt;&amp;nbsp; API Gateway 대시보드에 들어가서 &lt;b&gt;&#39;API 작성&#39;&lt;/b&gt;을 클릭하여 API 생성 절차를 시작합니다.&lt;br /&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-OTe0aUORIv0/WvMBKfk7SqI/AAAAAAAABO4/BraC6I54xtEGJF-K-SjGF_Jp8q6KpzpuACLcBGAs/s1600/rest_api__apigateway_01.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;135&quot; data-original-width=&quot;451&quot; height=&quot;118&quot; src=&quot;https://2.bp.blogspot.com/-OTe0aUORIv0/WvMBKfk7SqI/AAAAAAAABO4/BraC6I54xtEGJF-K-SjGF_Jp8q6KpzpuACLcBGAs/s400/rest_api__apigateway_01.jpg&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;(그림) &#39;API 작성&#39; 클릭&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;&lt;br /&gt;&amp;nbsp; API 생성의 첫 단계는 생성할 API의 정보를 입력하는 것입니다. 새 API를 만들기 위해서는 &lt;b&gt;&#39;API 이름&#39;&lt;/b&gt;만 필수로 입력하면 됩니다.&lt;br /&gt;&amp;nbsp; &#39;엔드 포인트 유형&#39;은 &lt;a href=&quot;https://aws.amazon.com/ko/about-aws/whats-new/2017/11/amazon-api-gateway-supports-regional-api-endpoints/&quot; target=&quot;_blank&quot;&gt;&lt;span style=&quot;background-color: #d9ead3; color: #3d85c6;&quot;&gt;링크&lt;/span&gt;&lt;/a&gt;를 참고해서 서비스에 맞게 적절히 선택하시면 됩니다. 여기서는 기본값인 &#39;지역&#39;을 선택하겠습니다.&lt;br /&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-rGRnKA4gvMg/WvMFvRQTvdI/AAAAAAAABPE/crFHigd2yv0HntxWQyWGkvAEa3e8M-rAgCLcBGAs/s1600/rest_api__apigateway_02.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;450&quot; data-original-width=&quot;841&quot; height=&quot;340&quot; src=&quot;https://2.bp.blogspot.com/-rGRnKA4gvMg/WvMFvRQTvdI/AAAAAAAABPE/crFHigd2yv0HntxWQyWGkvAEa3e8M-rAgCLcBGAs/s640/rest_api__apigateway_02.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;(그림) API 생성을 위한 정보 입력&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;&lt;br /&gt;&amp;nbsp; API가 생성이되면 아래 그림처럼 &lt;b&gt;&#39;리소스&#39;&lt;/b&gt; 영역에 Root Path (&#39;/&#39;)가 나타납니다. 아래 그림의 /file 이나 /test는 제가 연습삼아 미리 추가한 것이고, 최초 API 생성 후에는 Root Path만 있습니다. 이 Root Path 하위에 여러 리소스들을 생성해서 여러 REST API URL을 만들어냅니다.&lt;br /&gt;&amp;nbsp; 새로운 하위 Path를 만들기 위해서는 Root Path를 선택한 상태에서 &lt;b&gt;&#39;작업&#39; &amp;gt; &#39;리소스 생성&#39;&lt;/b&gt;을 선택합니다.&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-D3ZstqWhXtQ/WvMhuQ-ldzI/AAAAAAAABPU/gAt6gS2p3gUNpbntqmNo1GrEECiHz5kDQCLcBGAs/s1600/rest_api__apigateway_03.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;332&quot; data-original-width=&quot;314&quot; height=&quot;320&quot; src=&quot;https://2.bp.blogspot.com/-D3ZstqWhXtQ/WvMhuQ-ldzI/AAAAAAAABPU/gAt6gS2p3gUNpbntqmNo1GrEECiHz5kDQCLcBGAs/s320/rest_api__apigateway_03.jpg&quot; width=&quot;302&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;(그림) &#39;리소스 생성&#39; 선택&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;&lt;br /&gt;&amp;nbsp; 리소스 생성하기 위해서는 &lt;b&gt;&#39;리소스 이름&#39;&lt;/b&gt;만 입력하면 됩니다. &#39;리소스 경로&#39;는 리소스 이름을 따라 자동으로 입력되므로 새로 입력할 필요는 없습니다. CORS 활성화는 여기서 체크하지 않아도 됩니다. 어차피 나중에 메서드들을 생성하고 새로 활성화해줘야 하기 때문입니다.&lt;br /&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-bK6qlV13aIw/WvMhuraETqI/AAAAAAAABPc/e3fF8n-0_Zsii34-I8nw5_BbY7j1LEvwgCLcBGAs/s1600/rest_api__apigateway_04.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;466&quot; data-original-width=&quot;766&quot; height=&quot;242&quot; src=&quot;https://2.bp.blogspot.com/-bK6qlV13aIw/WvMhuraETqI/AAAAAAAABPc/e3fF8n-0_Zsii34-I8nw5_BbY7j1LEvwgCLcBGAs/s400/rest_api__apigateway_04.jpg&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;(그림) &#39;리소스 이름&#39; 입력&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;&lt;br /&gt;&amp;nbsp; 리소스를 생성하면 새로운 하위 path가 생성된 것입니다. 이제 이 path가 지원하는 http method를 생성해야합니다. 그러기 위해서 생성한 리소스를 선택한 상태에서 &lt;b&gt;&#39;작업&#39; &amp;gt; &#39;메서드 생성&#39;&lt;/b&gt;을 선택합니다.&lt;br /&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-T-1Vkpij59c/WvMhuf6K1wI/AAAAAAAABPY/ea6yqW8_5lQvyIr03T8tPbIpfcUJbSNJACLcBGAs/s1600/rest_api__apigateway_05.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;373&quot; data-original-width=&quot;400&quot; height=&quot;298&quot; src=&quot;https://4.bp.blogspot.com/-T-1Vkpij59c/WvMhuf6K1wI/AAAAAAAABPY/ea6yqW8_5lQvyIr03T8tPbIpfcUJbSNJACLcBGAs/s320/rest_api__apigateway_05.jpg&quot; width=&quot;320&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;(그림) &#39;메서드 생성&#39; 선택&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;&lt;br /&gt;&amp;nbsp; 생성할 메서드를 선택하고 체크 버튼을 클릭하면, 메서드 생성을 위한 정보를 입력하는 페이지로 이동합니다. 여기서는 위에서 만든 Lambda Function을 호출하기 위해서 &lt;b&gt;&#39;통합 유형&#39;&lt;/b&gt;을 &lt;b&gt;&#39;Lambda 함수&#39;&lt;/b&gt;로 선택합니다. 그리고 &lt;b&gt;&#39;Lambda 프록시 통합 사용&#39;을 체크&lt;/b&gt;하고 Lambda Function을 생성한 &lt;b&gt;리전을 선택&lt;/b&gt;하고 생성한 Lambda Function을 선택합니다. &lt;b&gt;&#39;Lambda 함수&#39;&lt;/b&gt; 입력칸에는 텍스트를 입력할 수 있는데 첫글자를 입력하고나면 드랍다운이 나타나서 선택할 수 있습니다.&lt;br /&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/--gaDRg3CtuQ/WvMhvtpmyTI/AAAAAAAABPg/op4sgN-eFwE14co5G_BLIJjmHDhctQrCACLcBGAs/s1600/rest_api__apigateway_06.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;130&quot; data-original-width=&quot;431&quot; height=&quot;120&quot; src=&quot;https://3.bp.blogspot.com/--gaDRg3CtuQ/WvMhvtpmyTI/AAAAAAAABPg/op4sgN-eFwE14co5G_BLIJjmHDhctQrCACLcBGAs/s400/rest_api__apigateway_06.jpg&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;(그림) 생성할 메서드 선택&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-EakpMK9s4A4/WvMhvytCb_I/AAAAAAAABPk/Cx7vmp7nQosZ7fLyfvzx7uNszdZImh20QCLcBGAs/s1600/rest_api__apigateway_07.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;492&quot; data-original-width=&quot;1119&quot; height=&quot;280&quot; src=&quot;https://3.bp.blogspot.com/-EakpMK9s4A4/WvMhvytCb_I/AAAAAAAABPk/Cx7vmp7nQosZ7fLyfvzx7uNszdZImh20QCLcBGAs/s640/rest_api__apigateway_07.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;(그림) 생성할 메서드로 호출할 Lambda 함수 선택&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;&lt;br /&gt;&amp;nbsp; 메서드 정보를 저장할 때, 권한에 대한 확인창이 나타나는데, &lt;b&gt;&#39;확인&#39;&lt;/b&gt;을 눌러주면 됩니다.&lt;br /&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-KGRDDwNqbQM/WvMhv4oNAFI/AAAAAAAABPo/ZBAEUbIY_S0ZH4hArFgWmXwLQ78KTBrmQCLcBGAs/s1600/rest_api__apigateway_08.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;260&quot; data-original-width=&quot;921&quot; height=&quot;179&quot; src=&quot;https://3.bp.blogspot.com/-KGRDDwNqbQM/WvMhv4oNAFI/AAAAAAAABPo/ZBAEUbIY_S0ZH4hArFgWmXwLQ78KTBrmQCLcBGAs/s640/rest_api__apigateway_08.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;(그림) Lambda Function 호출을 위한 권한 추가&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;&lt;br /&gt;&amp;nbsp; 새로운 리소스와 메서드를 생성했다면, &lt;b&gt;&#39;CORS 활성화&#39;&lt;/b&gt;를 해주어야합니다. 그래야 브라우저에서 다른 도메인 간의 호출이 가능해집니다. CORS 활성화 페이지에서는 별도의 설정이 필요한 상황이 아니라면 바로 &lt;b&gt;&#39;CORS 활성화 및 기존의 CORS 헤더 대체&#39;&lt;/b&gt; 버튼을 클릭합니다.&lt;br /&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-o4YGEqcbX48/WvMhwZ5inMI/AAAAAAAABPs/6UzzRUU5-ZQorw1c-jO8zqJVnr9h5OvkwCLcBGAs/s1600/rest_api__apigateway_09.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;447&quot; data-original-width=&quot;302&quot; height=&quot;320&quot; src=&quot;https://3.bp.blogspot.com/-o4YGEqcbX48/WvMhwZ5inMI/AAAAAAAABPs/6UzzRUU5-ZQorw1c-jO8zqJVnr9h5OvkwCLcBGAs/s320/rest_api__apigateway_09.jpg&quot; width=&quot;216&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;(그림) &#39;CORS 활성화&#39;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-Pi6bh7a_jzE/WvMhwrdRtpI/AAAAAAAABPw/3e984u4n0WkMTSsFJwOBi39BjKFSSNk4gCLcBGAs/s1600/rest_api__apigateway_10.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;363&quot; data-original-width=&quot;1116&quot; height=&quot;208&quot; src=&quot;https://4.bp.blogspot.com/-Pi6bh7a_jzE/WvMhwrdRtpI/AAAAAAAABPw/3e984u4n0WkMTSsFJwOBi39BjKFSSNk4gCLcBGAs/s640/rest_api__apigateway_10.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;(그림) 대체 버튼 클릭&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-VXaAyI2atQU/WvMhw_xQ3xI/AAAAAAAABP0/mG2gOd8kSZc5zdvHFJAPflNvxDX7LWqtQCLcBGAs/s1600/rest_api__apigateway_11.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;438&quot; data-original-width=&quot;919&quot; height=&quot;304&quot; src=&quot;https://1.bp.blogspot.com/-VXaAyI2atQU/WvMhw_xQ3xI/AAAAAAAABP0/mG2gOd8kSZc5zdvHFJAPflNvxDX7LWqtQCLcBGAs/s640/rest_api__apigateway_11.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;(그림) 재확인 창에서 다시 버큰 클릭&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;&lt;br /&gt;&amp;nbsp; 사실 가장 많이 실수 하는 부분이 이 부분일것 같습니다. API를 생성하고 온갖 설정을 했지만, 현재는 실제 사용할 수 없습니다. 설정이 끝난 API는 &lt;b&gt;&#39;API 배포&#39;&lt;/b&gt;를 해야만 실제로 사용할 수 있습니다. 배포를 위해서는 &lt;b&gt;&#39;작업&#39; &amp;gt; &#39;API 배포&#39;&lt;/b&gt;를 선택합니다.&lt;br /&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-0cphBFoHZMo/WvMhxEjH5nI/AAAAAAAABP4/77BGfTW0A7sP7d06R2hvf87CsD8JWcA_QCLcBGAs/s1600/rest_api__apigateway_12.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;362&quot; data-original-width=&quot;310&quot; height=&quot;320&quot; src=&quot;https://4.bp.blogspot.com/-0cphBFoHZMo/WvMhxEjH5nI/AAAAAAAABP4/77BGfTW0A7sP7d06R2hvf87CsD8JWcA_QCLcBGAs/s320/rest_api__apigateway_12.jpg&quot; width=&quot;274&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;(그림) &#39;API 배포&#39; 선택&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;&lt;br /&gt;&amp;nbsp; &amp;nbsp;API 배포는 스테이지(Stage)를 지정해서 배포할 수 있습니다. 스테이지를 이용하면, 개발단계의 API와 운영단계의 API의 호출 URL을 구분할 수 있습니다. 예를 들어서 방금 전에 만든 API를 실제 운영단계에서 사용하기 전에 테스트를 해보고 싶다면, dev 또는 test라는 스테이지에 배포하고 이 스테이지의 호출 URL을 이용해서 미리 테스트 한 다음에 운영단계의 스테이지에 배포합니다.&lt;br /&gt;&amp;nbsp; 아래 그림은 새로운 스테이지를 만드는 화면입니다. &lt;b&gt;&#39;스테이지 이름&#39;&lt;/b&gt;만 입력하면 API 배포가 가능하지만, 현재 배포하는 내용이 무엇인지 설명을 쓰는것이 API 관리에는 도움이 됩니다.&lt;br /&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-rv2Gajp9y_A/WvMhxlKcuOI/AAAAAAAABP8/QGbfy-0uM-YzyaZoOUCknfSP410onNZ4QCLcBGAs/s1600/rest_api__apigateway_13.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;408&quot; data-original-width=&quot;619&quot; height=&quot;210&quot; src=&quot;https://2.bp.blogspot.com/-rv2Gajp9y_A/WvMhxlKcuOI/AAAAAAAABP8/QGbfy-0uM-YzyaZoOUCknfSP410onNZ4QCLcBGAs/s320/rest_api__apigateway_13.jpg&quot; width=&quot;320&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;&lt;br /&gt;(그림) API 배포&amp;nbsp;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;&lt;br /&gt;&amp;nbsp; API를 배포하고나면, 이 API를 호출할 수 있는 &lt;b&gt;호출 URL&lt;/b&gt;가 주어집니다. 이 호출 URL과 생성한 리소스의 하위 path를 이용하여 http request를 요청할 수 있습니다. 예를 들어서 호출 URL이 &#39;https://api.test.com/prod&#39; 이고 리소스의 하위 path가 &#39;/content&#39; 라면, http request를 &#39;https://api/test.com/prod/content&#39;로 요청할 수 있습니다.&lt;br /&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-lFeS6vJY5fE/WvMhx5VO-mI/AAAAAAAABQA/qDAFXGcBMvIDSZfOnl4RikP3drPKtG4zgCLcBGAs/s1600/rest_api__apigateway_14.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;135&quot; data-original-width=&quot;1107&quot; height=&quot;78&quot; src=&quot;https://3.bp.blogspot.com/-lFeS6vJY5fE/WvMhx5VO-mI/AAAAAAAABQA/qDAFXGcBMvIDSZfOnl4RikP3drPKtG4zgCLcBGAs/s640/rest_api__apigateway_14.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;(그림) 스테이지마다 각각 주어지는 호출 URL&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&amp;nbsp; 이로써, API Gateway, Lambda, DynamoDB가 결합된 REST API를 완성했습니다.&lt;/div&gt;</content><link rel='replies' type='application/atom+xml' href='https://walkinpcm.blogspot.com/feeds/3347390976726498129/comments/default' title='댓글'/><link rel='replies' type='text/html' href='https://walkinpcm.blogspot.com/2019/02/aws-4-aws-api-gateway-lambda-dynamodb.html#comment-form' title='0개의 덧글'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/3470089366387037599/posts/default/3347390976726498129'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/3470089366387037599/posts/default/3347390976726498129'/><link rel='alternate' type='text/html' href='https://walkinpcm.blogspot.com/2019/02/aws-4-aws-api-gateway-lambda-dynamodb.html' title='[AWS] 프론트엔드 개발자가 혼자 웹어플리케이션 만들기. #4. AWS API Gateway, Lambda, DynamoDB를 이용한 REST API 구현'/><author><name>Unknown</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='https://img1.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://3.bp.blogspot.com/-ZKFadDPaY0A/WuH7kmMS3pI/AAAAAAAABNI/T9cgim7-zR4IOPbsVWfgHG6QdupqHNR8ACLcBGAs/s72-c/rest_api__dynamodb_01.jpg" height="72" width="72"/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-3470089366387037599.post-958026777975041023</id><published>2018-04-24T09:05:00.000-07:00</published><updated>2019-02-27T06:05:14.320-08:00</updated><category scheme="http://www.blogger.com/atom/ns#" term="[011. AWS]"/><category scheme="http://www.blogger.com/atom/ns#" term="[012. Web]"/><category scheme="http://www.blogger.com/atom/ns#" term="[013. Server]"/><category scheme="http://www.blogger.com/atom/ns#" term="[014. Node.js]"/><title type='text'>[AWS] 프론트엔드 개발자가 혼자 웹어플리케이션 만들기. #3. AWS Amplify와 S3를 이용한 이미지 저장</title><content type='html'>&lt;h2&gt;&lt;span style=&quot;color: #cc0000;&quot;&gt;[AWS] 프론트엔드 개발자가 혼자 웹어플리케이션 만들기. #3. AWS Amplify와 S3를 이용한 이미지 저장&lt;/span&gt;&lt;/h2&gt;&lt;br /&gt;&lt;table style=&quot;border-collapse: collapse; width: 100%;&quot;&gt;  &lt;tbody&gt;&lt;tr&gt;    &lt;th style=&quot;border: 1px solid #dddddd; padding: 8px; text-align: left;&quot;&gt;시리즈 포스팅 순서&lt;/th&gt;  &lt;/tr&gt;&lt;tr&gt;    &lt;td style=&quot;background-color: #eeeeee; border: 1px solid #dddddd; padding: 8px; text-align: left;&quot;&gt;&lt;a href=&quot;https://walkinpcm.blogspot.kr/2018/04/aws-1.html&quot; target=&quot;_blank&quot;&gt;&lt;span style=&quot;color: #0b5394;&quot;&gt;#1. 시리즈 포스팅 소개&lt;/span&gt;&lt;/a&gt;&lt;/td&gt;  &lt;/tr&gt;&lt;tr&gt;    &lt;td style=&quot;border: 1px solid #dddddd; padding: 8px; text-align: left;&quot;&gt;&lt;a href=&quot;https://walkinpcm.blogspot.kr/2018/04/aws-2-aws-amplify-cognito.html&quot; target=&quot;_blank&quot;&gt;&lt;span style=&quot;color: #0b5394;&quot;&gt;#2. AWS Amplify와 Cognito를 이용한 회원가입, 로그인 기능 구현&lt;/span&gt;&lt;/a&gt;&lt;/td&gt;  &lt;/tr&gt;&lt;tr&gt;    &lt;td style=&quot;background-color: #eeeeee; border: 1px solid #dddddd; padding: 8px; text-align: left;&quot;&gt;&lt;a href=&quot;https://walkinpcm.blogspot.kr/2018/04/aws-3-aws-amplify-s3.html&quot; target=&quot;_blank&quot;&gt;&lt;span style=&quot;color: #0b5394;&quot;&gt;#3. AWS Amplify와 S3를 이용한 이미지 저장&lt;/span&gt;&lt;/a&gt;&lt;/td&gt;  &lt;/tr&gt;&lt;tr&gt;    &lt;td style=&quot;border: 1px solid #dddddd; padding: 8px; text-align: left;&quot;&gt;&lt;a href=&quot;https://walkinpcm.blogspot.com/2019/02/aws-4-aws-api-gateway-lambda-dynamodb.html&quot; target=&quot;_blank&quot;&gt;&lt;span style=&quot;color: #0b5394;&quot;&gt;#4. AWS API Gateway, Lambda, DynamoDB를 이용한 REST API 구현&lt;/span&gt;&lt;/a&gt;&lt;/td&gt;  &lt;/tr&gt;&lt;tr&gt;    &lt;td style=&quot;background-color: #eeeeee; border: 1px solid #dddddd; padding: 8px; text-align: left;&quot;&gt;#5. AWS Lambda에 Express.js 기반의 웹어플리케이션 배포하기&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;(AWS ACM, API Gateway를 이용한 Custom Domain 적용 방법 포함)&lt;/td&gt;  &lt;/tr&gt;&lt;tr&gt;    &lt;td style=&quot;border: 1px solid #dddddd; padding: 8px; text-align: left;&quot;&gt;#6. AWS S3에 Static Web Hosting으로 SPA(Single Page Application) 웹어플리케이션 배포하기&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;(AWS CloudFront, Route53을 이용한 HTTPS 지원방법 포함)     &lt;/td&gt;  &lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; 이번 포스팅에서는 웹어플리케이션에서 AWS Amplify를 이용하여 AWS S3에 이미지를 업로드 하는 방법을 정리해보려합니다. 사실 이미지가 아닌 모든 파일이 가능하지만, 이번 시리즈에서 예시로 사용하는 웹어플리케이션인 NameSite에 필요한 기능이 이미지 업로드이기 때문에 이미지 파일을 업로드 하는 방법을 정리해봅시다.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;h4&gt;&lt;span style=&quot;background-color: #f4cccc;&quot;&gt;&amp;gt; 1. AWS S3 준비&lt;/span&gt;&lt;/h4&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; 가장먼저 준비되야할 것은 이미지 파일이 저장될 S3 버킷입니다. 버킷 생성은 매우 간단한 작업입니다.&lt;br /&gt;&lt;br /&gt;&amp;nbsp; S3 대시보드에서 &lt;b&gt;&#39;버킷 만들기&#39;&lt;/b&gt;를 클릭합니다.&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-rPpSQ9XL7WI/WtxeToeEIkI/AAAAAAAABLw/leXZdyXVOGohwUgYc2K9zPtDF0t_MuT1QCLcBGAs/s1600/s3_01.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;178&quot; data-original-width=&quot;406&quot; src=&quot;https://4.bp.blogspot.com/-rPpSQ9XL7WI/WtxeToeEIkI/AAAAAAAABLw/leXZdyXVOGohwUgYc2K9zPtDF0t_MuT1QCLcBGAs/s1600/s3_01.jpg&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;(그림) &#39;버킷 만들기&#39; 클릭&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;&lt;br /&gt;&amp;nbsp; 그렇게 하면, 아래와 같이 버킷 생성을 위한 정보를 입력하는 창이 뜨는데, 여기서 &#39;버킷 이름&#39;과 &#39;리전&#39;만 선택한 다음에 &#39;생성&#39;을 클릭합니다. 이름은 모든 AWS 유저의 S3 버킷 이름과 중복될 수 없습니다. 혹시 중복된 이름이라서 사용할 수 없다고 오류가 난다면, 조금 더 자신만의 식별자가 될 수 있는 이름을 사용하시길 권장합니다.&lt;br /&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-e7S4GS2nOCw/WtxgZddIOGI/AAAAAAAABMA/-pk0L0UQEkwTvaAEE7UsB_XAAnP0omIuQCLcBGAs/s1600/s3_02.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;814&quot; data-original-width=&quot;713&quot; height=&quot;640&quot; src=&quot;https://3.bp.blogspot.com/-e7S4GS2nOCw/WtxgZddIOGI/AAAAAAAABMA/-pk0L0UQEkwTvaAEE7UsB_XAAnP0omIuQCLcBGAs/s640/s3_02.jpg&quot; width=&quot;560&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;(그림) 버킷 생성을 위한 정보 입력&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;&lt;br /&gt;&amp;nbsp; 이렇게 버킷 생성이 간단히 끝나면, 아래와 같이 생성한 버킷이 S3 대시보드의 버킷 리스트에 나타납니다.&lt;br /&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-hlxivIvOxSQ/Wtxg2OwwwuI/AAAAAAAABMM/yATfjoMXpKsR75IqsVZu7BfGIuEmIL1owCLcBGAs/s1600/s3_03.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;65&quot; data-original-width=&quot;942&quot; height=&quot;44&quot; src=&quot;https://3.bp.blogspot.com/-hlxivIvOxSQ/Wtxg2OwwwuI/AAAAAAAABMM/yATfjoMXpKsR75IqsVZu7BfGIuEmIL1owCLcBGAs/s640/s3_03.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;(그림) 버킷 생성 후, 리스트에 버킷이 추가 됨&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; 지금부터는 방금 생성한 버킷을 웹어플리케이션의 리소스 저장소로 사용하기 위하여, 버킷을 Public으로 설정하고 CORS 설정을 하겠습니다.&lt;br /&gt;&lt;br /&gt;&amp;nbsp; 버킷을 Public으로 설정한다는 것은, 버킷에 업로드 된 파일들이 인터넷에 공개적으로 노출 된다는 것을 의미합니다. S3 버킷에 업로드 된 파일에는 각각이 고유한 URL이 생성되는데, 버킷이 Public이라면 익명의 사용자가 파일의 URL로 접근했을 때 파일을 다운로드 받을 수 있습니다. 그래서 AWS에서도 버킷을 Public으로 설정하는 작업은 조심하라고 주의를 주고 있습니다. 하지만, 웹사이트에 노출되야하는 이미지들은 Public이여야 하기 때문에 이번 포스팅에서는 S3 버킷을 Public으로 설정하겠습니다.&lt;br /&gt;&lt;br /&gt;&amp;nbsp; 버킷을 Public으로 설정하기 위해서는 아래와 같이 해당 버킷의 &#39;권한&#39; 탭으로 이동합니다. 그리고 하위 버튼 중에 &#39;버킷 정책&#39;을 선택합니다.&lt;br /&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-g8EJMsj_XjI/WtxlC7QU8oI/AAAAAAAABMY/dFpM3VSaZg8pFBTjcAvI3dF98_02ZHv8ACLcBGAs/s1600/s3_04.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;190&quot; data-original-width=&quot;924&quot; height=&quot;130&quot; src=&quot;https://2.bp.blogspot.com/-g8EJMsj_XjI/WtxlC7QU8oI/AAAAAAAABMY/dFpM3VSaZg8pFBTjcAvI3dF98_02ZHv8ACLcBGAs/s640/s3_04.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;(그림) S3 버킷의 Public 설정을 위한 이동&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;&lt;br /&gt;&amp;nbsp; &#39;버킷 정책&#39;을 선택하면 하단에 정책을 입력할 수 있는 입력칸이 나타납니다. 그곳에 아래 정책을 복사하고, &#39;{버킷 이름}&#39; 부분만 본인의 버킷 이름으로 수정합니다. 아래 정책은 지정한 버킷의 모든 파일을 누구나 접근할 수 있게 허용하는 정책입니다.&lt;br /&gt;&lt;br /&gt;&lt;pre style=&quot;background: #333; color: #f8f8f8; font-family: Consolas, &amp;quot;Lucida Console&amp;quot;, &amp;quot;DejaVu Sans Mono&amp;quot;, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.9333em; font-stretch: normal; font-variant-east-asian: normal; font-variant-numeric: normal; line-height: 1.5em; padding: 4px;&quot;&gt;{&lt;br /&gt;    &lt;span style=&quot;color: #65b042;&quot;&gt;&quot;Version&quot;&lt;/span&gt;: &lt;span style=&quot;color: #65b042;&quot;&gt;&quot;2012-10-17&quot;&lt;/span&gt;,&lt;br /&gt;    &lt;span style=&quot;color: #65b042;&quot;&gt;&quot;Statement&quot;&lt;/span&gt;: [&lt;br /&gt;        {&lt;br /&gt;            &lt;span style=&quot;color: #65b042;&quot;&gt;&quot;Sid&quot;&lt;/span&gt;: &lt;span style=&quot;color: #65b042;&quot;&gt;&quot;AddPerm&quot;&lt;/span&gt;,&lt;br /&gt;            &lt;span style=&quot;color: #65b042;&quot;&gt;&quot;Effect&quot;&lt;/span&gt;: &lt;span style=&quot;color: #65b042;&quot;&gt;&quot;Allow&quot;&lt;/span&gt;,&lt;br /&gt;            &lt;span style=&quot;color: #65b042;&quot;&gt;&quot;Principal&quot;&lt;/span&gt;: &lt;span style=&quot;color: #65b042;&quot;&gt;&quot;*&quot;&lt;/span&gt;,&lt;br /&gt;            &lt;span style=&quot;color: #65b042;&quot;&gt;&quot;Action&quot;&lt;/span&gt;: &lt;span style=&quot;color: #65b042;&quot;&gt;&quot;s3:GetObject&quot;&lt;/span&gt;,&lt;br /&gt;            &lt;span style=&quot;color: #65b042;&quot;&gt;&quot;Resource&quot;&lt;/span&gt;: &lt;span style=&quot;color: #65b042;&quot;&gt;&quot;arn:aws:s3:::{버킷 이름}/*&quot;&lt;/span&gt;&lt;br /&gt;        }&lt;br /&gt;    ]&lt;br /&gt;}&lt;/pre&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&amp;nbsp; 그리고 CORS 설정도 해줍니다. &#39;버킷 정책&#39;과 동일한 &#39;권한&#39; 탭에서 &#39;CORS 구성&#39;을 선택합니다.(권한탭에 &#39;퍼블릿&#39;이라는 이름이 붙었는데, 이는 버킷 정책에서 모든 사용자가 접근할 수 있게 정책을 설정해서 그런것입니다.)&lt;br /&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-5M5HzgXzVKY/Wt3nvwerPiI/AAAAAAAABMo/mqUaEl409-IN38cVNFbQghC8p90z_TogQCLcBGAs/s1600/s3_06.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;183&quot; data-original-width=&quot;931&quot; height=&quot;124&quot; src=&quot;https://1.bp.blogspot.com/-5M5HzgXzVKY/Wt3nvwerPiI/AAAAAAAABMo/mqUaEl409-IN38cVNFbQghC8p90z_TogQCLcBGAs/s640/s3_06.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;(그림) &#39;CORS 구성&#39; 선택&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;&lt;br /&gt;&amp;nbsp; CORS 구성을 선택하면 나타나는 입력칸에 아래 내용을 그대로 복사해서 붙여넣습니다.&lt;br /&gt;&lt;br /&gt;&lt;pre style=&quot;background: #333; color: #f8f8f8; font-family: Consolas, &amp;quot;Lucida Console&amp;quot;, &amp;quot;DejaVu Sans Mono&amp;quot;, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.9333em; font-stretch: normal; font-variant-east-asian: normal; font-variant-numeric: normal; line-height: 1.5em; padding: 4px;&quot;&gt;&lt;span style=&quot;color: #89bdff;&quot;&gt;&amp;lt;?xml version=&lt;span style=&quot;color: #65b042;&quot;&gt;&quot;1.0&quot;&lt;/span&gt; encoding=&lt;span style=&quot;color: #65b042;&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt;?&amp;gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #89bdff;&quot;&gt;&amp;lt;CORSConfiguration xmlns=&lt;span style=&quot;color: #65b042;&quot;&gt;&quot;http://s3.amazonaws.com/doc/2006-03-01/&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #89bdff;&quot;&gt;&amp;lt;CORSRule&amp;gt;&lt;/span&gt;&lt;br /&gt;    &lt;span style=&quot;color: #89bdff;&quot;&gt;&amp;lt;AllowedOrigin&amp;gt;&lt;/span&gt;*&lt;span style=&quot;color: #89bdff;&quot;&gt;&amp;lt;/AllowedOrigin&amp;gt;&lt;/span&gt;&lt;br /&gt;    &lt;span style=&quot;color: #89bdff;&quot;&gt;&amp;lt;AllowedMethod&amp;gt;&lt;/span&gt;HEAD&lt;span style=&quot;color: #89bdff;&quot;&gt;&amp;lt;/AllowedMethod&amp;gt;&lt;/span&gt;&lt;br /&gt;    &lt;span style=&quot;color: #89bdff;&quot;&gt;&amp;lt;AllowedMethod&amp;gt;&lt;/span&gt;GET&lt;span style=&quot;color: #89bdff;&quot;&gt;&amp;lt;/AllowedMethod&amp;gt;&lt;/span&gt;&lt;br /&gt;    &lt;span style=&quot;color: #89bdff;&quot;&gt;&amp;lt;AllowedMethod&amp;gt;&lt;/span&gt;PUT&lt;span style=&quot;color: #89bdff;&quot;&gt;&amp;lt;/AllowedMethod&amp;gt;&lt;/span&gt;&lt;br /&gt;    &lt;span style=&quot;color: #89bdff;&quot;&gt;&amp;lt;AllowedMethod&amp;gt;&lt;/span&gt;POST&lt;span style=&quot;color: #89bdff;&quot;&gt;&amp;lt;/AllowedMethod&amp;gt;&lt;/span&gt;&lt;br /&gt;    &lt;span style=&quot;color: #89bdff;&quot;&gt;&amp;lt;AllowedMethod&amp;gt;&lt;/span&gt;DELETE&lt;span style=&quot;color: #89bdff;&quot;&gt;&amp;lt;/AllowedMethod&amp;gt;&lt;/span&gt;&lt;br /&gt;    &lt;span style=&quot;color: #89bdff;&quot;&gt;&amp;lt;MaxAgeSeconds&amp;gt;&lt;/span&gt;3000&lt;span style=&quot;color: #89bdff;&quot;&gt;&amp;lt;/MaxAgeSeconds&amp;gt;&lt;/span&gt;&lt;br /&gt;    &lt;span style=&quot;color: #89bdff;&quot;&gt;&amp;lt;ExposeHeader&amp;gt;&lt;/span&gt;x-amz-server-side-encryption&lt;span style=&quot;color: #89bdff;&quot;&gt;&amp;lt;/ExposeHeader&amp;gt;&lt;/span&gt;&lt;br /&gt;    &lt;span style=&quot;color: #89bdff;&quot;&gt;&amp;lt;ExposeHeader&amp;gt;&lt;/span&gt;x-amz-request-id&lt;span style=&quot;color: #89bdff;&quot;&gt;&amp;lt;/ExposeHeader&amp;gt;&lt;/span&gt;&lt;br /&gt;    &lt;span style=&quot;color: #89bdff;&quot;&gt;&amp;lt;ExposeHeader&amp;gt;&lt;/span&gt;x-amz-id-2&lt;span style=&quot;color: #89bdff;&quot;&gt;&amp;lt;/ExposeHeader&amp;gt;&lt;/span&gt;&lt;br /&gt;    &lt;span style=&quot;color: #89bdff;&quot;&gt;&amp;lt;AllowedHeader&amp;gt;&lt;/span&gt;*&lt;span style=&quot;color: #89bdff;&quot;&gt;&amp;lt;/AllowedHeader&amp;gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #89bdff;&quot;&gt;&amp;lt;/CORSRule&amp;gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #89bdff;&quot;&gt;&amp;lt;/CORSConfiguration&amp;gt;&lt;/span&gt;&lt;/pre&gt;&lt;br /&gt;&lt;br /&gt;&amp;nbsp; 이로써, 이미지 파일이 저장될 S3 버킷 준비는 끝났습니다.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;h4&gt;&lt;span style=&quot;background-color: #f4cccc;&quot;&gt;&amp;gt; 2. AWS Amplify 설정&lt;/span&gt;&lt;/h4&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; 위에서 이미지 파일을 저장할 S3 버킷을 생성했으니, Javascript에서 이미지 파일을 올려야합니다. 이때, AWS Amplify 라이브러리를 이용하려 합니다.&lt;br /&gt;&lt;br /&gt;Amplify 라이브러리에 대한 소개와 Amplify 설정 위치는 &lt;a href=&quot;https://walkinpcm.blogspot.kr/2018/04/aws-2-aws-amplify-cognito.html&quot; target=&quot;_blank&quot;&gt;&lt;b&gt;&lt;span style=&quot;color: #0b5394;&quot;&gt;이전 포스팅&lt;/span&gt;&lt;/b&gt;&lt;/a&gt;을 참고해주시기 바랍니다.&lt;br /&gt;&lt;br /&gt;&amp;nbsp; AWS S3는 Amplify의 Storage 모듈을 이용해서 사용할 수 있습니다. 그러기 위해서 Amplify에서 Storage 모듈을 이용하기 위한 설정을 해주어야합니다. 그 방법은 아래와 같습니다.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&amp;nbsp; 이전 포스팅에서는 Amplify의 Auth 모듈에 대한 설정을 했는데, 거기에 추가로 Storage 모듈에 대한 설정을 아래와 같이 추가합니다. Storage 모듈을 사용하려면 &lt;b&gt;S3 버킷에 파일을 업로드 할 수 있는 권한을 가진 자격증명&lt;/b&gt;이 있어야하기 때문에 &lt;b&gt;반드시 Auth 모듈과 함께 설정&lt;/b&gt;되어야합니다.&lt;br /&gt;&amp;nbsp; 그리고 로그인하지 않은 익명의 사용자도 파일을 업로드할 수 있게 하기 위해서는, &#39;identityPoolId&#39;에 입력하는 자격증명풀은 생성하실 때 또는 수정에서 &#39;인증되지 않은 자격 증명에 대한 액세스 활성화&#39;를 체크하시고 IAM Role(역할)에서 해당 자격증명풀(Identity Pool)의 인증되지 않은 사용자를 위한 역할에 S3에 접근할수 있는 정책(Policy)을 추가시켜주셔야합니다.&lt;br /&gt;&lt;br /&gt;&amp;nbsp; 아래의 코드는 Storage 모듈을 사용하기 위한 최소한의 Auth 모듈 설정을 작성했습니다.&lt;br /&gt;&lt;br /&gt;&lt;pre style=&quot;background: #333; color: #f8f8f8; font-family: Consolas, &amp;quot;Lucida Console&amp;quot;, &amp;quot;DejaVu Sans Mono&amp;quot;, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.9333em; font-stretch: normal; font-variant-east-asian: normal; font-variant-numeric: normal; line-height: 1.5em; padding: 4px;&quot;&gt;Amplify.configure({&lt;br /&gt;  Auth: {&lt;br /&gt;    identityPoolId: &lt;span style=&quot;color: #65b042;&quot;&gt;&#39;ap-northeast-0:00000000-0000-0000-0000-000000000000&#39;&lt;/span&gt;,&lt;br /&gt;    region: &lt;span style=&quot;color: #65b042;&quot;&gt;&#39;{리전 코드}&#39;&lt;/span&gt;, &lt;span style=&quot;color: #aeaeae; font-size: 0.9333em; font-style: italic;&quot;&gt;// 서울리전: ap-northeast-2&lt;/span&gt;&lt;br /&gt;  },&lt;br /&gt;  Storage: {&lt;br /&gt;    bucket: &lt;span style=&quot;color: #65b042;&quot;&gt;&#39;{버킷 이름}&#39;&lt;/span&gt;, &lt;span style=&quot;color: #aeaeae; font-style: italic;&quot;&gt;// S3 버킷 이름&lt;/span&gt;&lt;br /&gt;    region: &lt;span style=&quot;color: #65b042;&quot;&gt;&#39;{리전 코드}&lt;span style=&quot;color: #65b042; font-size: 0.9333em;&quot;&gt;&#39;&lt;/span&gt;&lt;span style=&quot;color: #f8f8f8; font-size: 0.9333em;&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #aeaeae; font-size: 0.9333em; font-style: italic;&quot;&gt;// 버킷을 생성한 리전 코드&lt;br /&gt;&lt;/span&gt;&lt;/span&gt;  }&lt;br /&gt;})&lt;/pre&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;h4&gt;&lt;span style=&quot;background-color: #f4cccc;&quot;&gt;&amp;gt; 3. AWS Amplify.Stoarge API를 이용해서 S3에 이미지 파일 업로드하기&lt;/span&gt;&lt;/h4&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; Amplify의 Storage 모듈 설정이 끝났으면 Storage API를 이용해서 S3 버킷에 파일을 업로드할 수 있습니다.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; 예시로 사용되는 코드는 Vue.js 기반의 코드입니다. 하지만 간단한 코드이기 때문에 다른 프론트엔드 프레임워크를 사용하시는 분들도 쉽게 응용가능하시리라 생각합니다.&lt;br /&gt;&lt;br /&gt;&amp;nbsp; 우선 html 코드에서 input태그로 파일을 입력받습니다. 그리고 저는 파일이 선택되었을때,&amp;nbsp;&lt;b&gt;handleOnChangeFileS3()&lt;/b&gt; 라는 메소드가 실행되도록 하였습니다.&lt;br /&gt;&lt;br /&gt;&lt;pre style=&quot;background: #333; color: #f8f8f8; font-family: Consolas, &amp;quot;Lucida Console&amp;quot;, &amp;quot;DejaVu Sans Mono&amp;quot;, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.9333em; font-stretch: normal; font-variant-east-asian: normal; font-variant-numeric: normal; line-height: 1.5em; padding: 4px;&quot;&gt;&lt;span style=&quot;color: #e28964;&quot;&gt;&amp;lt;&lt;/span&gt;input type&lt;span style=&quot;color: #e28964;&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: #65b042;&quot;&gt;&quot;file&quot;&lt;/span&gt; @change&lt;span style=&quot;color: #e28964;&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: #65b042;&quot;&gt;&quot;handleOnChangeFileS3($event)&quot;&lt;/span&gt;&lt;span style=&quot;color: #e28964;&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&amp;nbsp; handleOnChangeFileS3() 메소드의 코드는 아래와 같습니다. 단지 javascript에서 file 객체를 획득하고, 업로드할 파일 이름을 정한뒤에 Amplify Storage API로 업로드합니다.&lt;br /&gt;&lt;br /&gt;&lt;pre style=&quot;background: #333; color: #f8f8f8; font-family: Consolas, &amp;quot;Lucida Console&amp;quot;, &amp;quot;DejaVu Sans Mono&amp;quot;, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.9333em; font-stretch: normal; font-variant-east-asian: normal; font-variant-numeric: normal; line-height: 1.5em; padding: 4px;&quot;&gt;handleOnChangeFileS3 (e) {&lt;br /&gt;  e.preventDefault()&lt;br /&gt;&lt;br /&gt;  let inputFile &lt;span style=&quot;color: #e28964;&quot;&gt;=&lt;/span&gt; e.&lt;span style=&quot;color: #cf6a4c;&quot;&gt;target&lt;/span&gt;.files[&lt;span style=&quot;color: #3387cc;&quot;&gt;0&lt;/span&gt;]&lt;br /&gt;  let date &lt;span style=&quot;color: #e28964;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #e28964;&quot;&gt;new&lt;/span&gt; &lt;span style=&quot;text-decoration-line: underline;&quot;&gt;Date&lt;/span&gt;()&lt;br /&gt;&lt;br /&gt;  &lt;span style=&quot;color: #3e87e3;&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color: #e28964;&quot;&gt;$&lt;/span&gt;s3.put(`test&lt;span style=&quot;color: #e28964;&quot;&gt;-&lt;/span&gt;&lt;span style=&quot;color: #e28964;&quot;&gt;$&lt;/span&gt;{date.&lt;span style=&quot;color: #dad085;&quot;&gt;getTime&lt;/span&gt;()}&lt;span style=&quot;color: #e28964;&quot;&gt;-&lt;/span&gt;&lt;span style=&quot;color: #e28964;&quot;&gt;$&lt;/span&gt;{inputFile.&lt;span style=&quot;color: #cf6a4c;&quot;&gt;name&lt;/span&gt;}`, inputFile)&lt;br /&gt;  .then(resp &lt;span style=&quot;color: #e28964;&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: #e28964;&quot;&gt;&amp;gt;&lt;/span&gt; {&lt;br /&gt;    &lt;span style=&quot;text-decoration-line: underline;&quot;&gt;console&lt;/span&gt;&lt;span style=&quot;color: #dad085;&quot;&gt;.log&lt;/span&gt;(resp.key)&lt;br /&gt;    &lt;span style=&quot;color: #aeaeae; font-style: italic;&quot;&gt;// resp.key에 업로드한 파일의 이름이 응답으로 옴.&lt;br /&gt;    //이때, 객체의 URL 주소가 아니라 그냥 파일 이름만 key에 담겨서 옴.&lt;/span&gt;&lt;br /&gt;  }).&lt;span style=&quot;color: #e28964;&quot;&gt;catch&lt;/span&gt;(err &lt;span style=&quot;color: #e28964;&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: #e28964;&quot;&gt;&amp;gt;&lt;/span&gt; {&lt;br /&gt;    &lt;span style=&quot;text-decoration-line: underline;&quot;&gt;console&lt;/span&gt;&lt;span style=&quot;color: #dad085;&quot;&gt;.log&lt;/span&gt;(err)&lt;br /&gt;  })&lt;br /&gt;}&lt;/pre&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&amp;nbsp; Amplify.Storage.put() 메소드를 이용해서 파일을 업로드하고 나면, 응답 객체에 업로드한 파일의 이름이 응답으로 전달됩니다. 그런데, 이 파일의 이름이 S3 객체의 URL이 아니라 그냥 파일 이름뿐이기 때문에, S3에 업로드된 파일의 URL을 javascript에서 쓰고 싶다면 수동으로 붙여줘야합니다.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&amp;nbsp; 이로써, AWS Amplify를 이용해서 AWS S3에 이미지 파일을 업로드 하는 방법을 정리해보았습니다. 혹여 설명이 부족하다면 댓글로 질문해주시면 빠른 시일내에 답변드리겠습니다.&lt;br /&gt;&amp;nbsp; 또한, 잘못된 부분이 있거나 건의해주실 내용도 댓글로 달아주시면 추가 반영하도록 하겠습니다.&lt;br /&gt;&lt;br /&gt;&amp;nbsp; 감사합니다.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;/div&gt;</content><link rel='replies' type='application/atom+xml' href='https://walkinpcm.blogspot.com/feeds/958026777975041023/comments/default' title='댓글'/><link rel='replies' type='text/html' href='https://walkinpcm.blogspot.com/2018/04/aws-3-aws-amplify-s3.html#comment-form' title='0개의 덧글'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/3470089366387037599/posts/default/958026777975041023'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/3470089366387037599/posts/default/958026777975041023'/><link rel='alternate' type='text/html' href='https://walkinpcm.blogspot.com/2018/04/aws-3-aws-amplify-s3.html' title='[AWS] 프론트엔드 개발자가 혼자 웹어플리케이션 만들기. #3. AWS Amplify와 S3를 이용한 이미지 저장'/><author><name>Unknown</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='https://img1.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://4.bp.blogspot.com/-rPpSQ9XL7WI/WtxeToeEIkI/AAAAAAAABLw/leXZdyXVOGohwUgYc2K9zPtDF0t_MuT1QCLcBGAs/s72-c/s3_01.jpg" height="72" width="72"/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-3470089366387037599.post-432235037827214450</id><published>2018-04-18T21:09:00.000-07:00</published><updated>2019-02-27T06:05:03.508-08:00</updated><category scheme="http://www.blogger.com/atom/ns#" term="[011. AWS]"/><category scheme="http://www.blogger.com/atom/ns#" term="[012. Web]"/><category scheme="http://www.blogger.com/atom/ns#" term="[013. Server]"/><category scheme="http://www.blogger.com/atom/ns#" term="[014. Node.js]"/><title type='text'>[AWS] 프론트엔드 개발자가 혼자 웹어플리케이션 만들기. #2. AWS Amplify와 Cognito를 이용한 회원가입, 로그인 기능 구현</title><content type='html'>&lt;h2&gt;&lt;span style=&quot;color: #cc0000;&quot;&gt;[AWS] 프론트엔드 개발자가 혼자 웹어플리케이션 만들기. #2. AWS Amplify와 Cognito를 이용한 회원가입, 로그인 기능 구현&lt;/span&gt;&lt;/h2&gt;&lt;br /&gt;&lt;br /&gt;&lt;table style=&quot;border-collapse: collapse; width: 100%;&quot;&gt;  &lt;tbody&gt;&lt;tr&gt;    &lt;th style=&quot;border: 1px solid #dddddd; padding: 8px; text-align: left;&quot;&gt;시리즈 포스팅 순서&lt;/th&gt;  &lt;/tr&gt;&lt;tr&gt;    &lt;td style=&quot;background-color: #eeeeee; border: 1px solid #dddddd; padding: 8px; text-align: left;&quot;&gt;&lt;a href=&quot;https://walkinpcm.blogspot.kr/2018/04/aws-1.html&quot; target=&quot;_blank&quot;&gt;&lt;span style=&quot;color: #0b5394;&quot;&gt;#1. 시리즈 포스팅 소개&lt;/span&gt;&lt;/a&gt;&lt;/td&gt;  &lt;/tr&gt;&lt;tr&gt;    &lt;td style=&quot;border: 1px solid #dddddd; padding: 8px; text-align: left;&quot;&gt;&lt;a href=&quot;https://walkinpcm.blogspot.kr/2018/04/aws-2-aws-amplify-cognito.html&quot; target=&quot;_blank&quot;&gt;&lt;span style=&quot;color: #0b5394;&quot;&gt;#2. AWS Amplify와 Cognito를 이용한 회원가입, 로그인 기능 구현&lt;/span&gt;&lt;/a&gt;&lt;/td&gt;  &lt;/tr&gt;&lt;tr&gt;    &lt;td style=&quot;background-color: #eeeeee; border: 1px solid #dddddd; padding: 8px; text-align: left;&quot;&gt;&lt;a href=&quot;https://walkinpcm.blogspot.kr/2018/04/aws-3-aws-amplify-s3.html&quot; target=&quot;_blank&quot;&gt;&lt;span style=&quot;color: #0b5394;&quot;&gt;#3. AWS Amplify와 S3를 이용한 이미지 저장&lt;/span&gt;&lt;/a&gt;&lt;/td&gt;  &lt;/tr&gt;&lt;tr&gt;    &lt;td style=&quot;border: 1px solid #dddddd; padding: 8px; text-align: left;&quot;&gt;&lt;a href=&quot;https://walkinpcm.blogspot.com/2019/02/aws-4-aws-api-gateway-lambda-dynamodb.html&quot; target=&quot;_blank&quot;&gt;&lt;span style=&quot;color: #0b5394;&quot;&gt;#4. AWS API Gateway, Lambda, DynamoDB를 이용한 REST API 구현&lt;/span&gt;&lt;/a&gt;&lt;/td&gt;  &lt;/tr&gt;&lt;tr&gt;    &lt;td style=&quot;background-color: #eeeeee; border: 1px solid #dddddd; padding: 8px; text-align: left;&quot;&gt;#5. AWS Lambda에 Express.js 기반의 웹어플리케이션 배포하기&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;(AWS ACM, API Gateway를 이용한 Custom Domain 적용 방법 포함)&lt;/td&gt;  &lt;/tr&gt;&lt;tr&gt;    &lt;td style=&quot;border: 1px solid #dddddd; padding: 8px; text-align: left;&quot;&gt;#6. AWS S3에 Static Web Hosting으로 SPA(Single Page Application) 웹어플리케이션 배포하기&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;(AWS CloudFront, Route53을 이용한 HTTPS 지원방법 포함)     &lt;/td&gt;  &lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; 이번 포스팅에서는 웹어플리케이션에 회원가입, 로그인과 같은 회원 인증 관리 기능을 추가 하기 위하여 AWS Cognito를 이용하는 방법을 정리하겠습니다.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; 먼저, AWS Cognito에 대하여 소개하고, Cognito에 새로운 User Pool을 생성하고 자격증명풀까지 생성한 다음에, AWS Amplify를 이용해서 웹어플리케이션에서 Cognito를 사용하는 방법을 소개하겠습니다.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;h4&gt;&lt;span style=&quot;background-color: #f4cccc;&quot;&gt;&amp;gt; 1. AWS Cognito는 무엇인가?&lt;/span&gt;&lt;/h4&gt;&lt;div&gt;&amp;nbsp; AWS의 Cognito는 손쉽게 회원 인증 관리 기능을 구현할 수 있는 서비스입니다. 쉽게 말하자면, 웹어플리케이션에서 회원가입, 로그인 기능을 구현 할 수 있게 간단히 백엔드 시스템을 만들어 주는 서비스입니다.&lt;/div&gt;&lt;div&gt;&amp;nbsp; 또한, Facebook, Google 및 Amazon과 같은 소셜 자격 증명 공급자와 엔터프라이즈 자격 증명 공급자(SAML 2.0 사용)를 통한 로그인을 지원합니다.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;h4&gt;&lt;span style=&quot;background-color: #f4cccc;&quot;&gt;&amp;gt; 2. AWS Cognito에서 UserPool(사용자풀) 생성하기&lt;/span&gt;&lt;/h4&gt;&lt;div&gt;&amp;nbsp; AWS Cognito는 User Pool(사용자풀)과 Identity Pool(자격증명풀)을 제공합니다.&lt;/div&gt;&lt;div&gt;&amp;nbsp; User Pool은 회원 DB(Database)라고 생각하시면 됩니다. 그래서 User Pool에서는 회원가입 시에 어떤 정보를 필수로 입력 받을지, 비밀번호 규칙은 어떻게 될지 등의 설정을 하게 됩니다.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; 이제, 웹어플리케이션에 연결시킬 User Pool을 생성하는 방법을 정리해보겠습니다.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; 먼저, AWS Console에서 Cognito 서비스를 선택하면 아래와 같이 &#39;사용자 풀 관리&#39;와 &#39;연동 자격 증명 관리&#39;가 있습니다. 여기서 &lt;b&gt;&#39;사용자 풀 관리&#39;&lt;/b&gt;를 선택합니다.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-VAUrXI4eCcU/WtNJyz6ScTI/AAAAAAAABIE/1wZPqyH47Pgix9rUbniYDa75j0-CK27iACLcBGAs/s1600/cognito_01%2528%25ED%258E%25B8%25EC%25A7%2591%2529.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;416&quot; data-original-width=&quot;893&quot; height=&quot;298&quot; src=&quot;https://4.bp.blogspot.com/-VAUrXI4eCcU/WtNJyz6ScTI/AAAAAAAABIE/1wZPqyH47Pgix9rUbniYDa75j0-CK27iACLcBGAs/s640/cognito_01%2528%25ED%258E%25B8%25EC%25A7%2591%2529.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;(그림) &#39;사용자 풀 관리&#39; 선택&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;div&gt;&lt;br /&gt;&amp;nbsp; 그러면, 새로운 User Pool을 생성할 수 있는 버튼이 있습니다. &lt;b&gt;&#39;사용자 풀 생성&#39;&lt;/b&gt; 버튼을 클릭해서 User Pool을 생성하는 절차를 시작합니다.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-bmHLTdE-W7E/WtNLela9sMI/AAAAAAAABIQ/N-Ol6rV9tbsS6IUwiQPvo1H17c6HOqLkQCLcBGAs/s1600/cognito_02.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;166&quot; data-original-width=&quot;888&quot; height=&quot;73&quot; src=&quot;https://4.bp.blogspot.com/-bmHLTdE-W7E/WtNLela9sMI/AAAAAAAABIQ/N-Ol6rV9tbsS6IUwiQPvo1H17c6HOqLkQCLcBGAs/s400/cognito_02.jpg&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;(그림) &#39;사용자 풀 생성&#39; 클릭&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; 본 포스팅에서는 주요 설정에 대해서만 살펴보겠습니다. 여기서 다루지 않는 설정은 &#39;다음 단계&#39;를 클릭해서 넘어가도 괜찮습니다.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; 첫번째로, &lt;b&gt;&#39;풀 이름&#39;&lt;/b&gt;을 원하는 이름으로 입력하고, &lt;b&gt;&#39;설정을 순서대로 진행&#39;&lt;/b&gt;을 선택합니다. &#39;기본값 검토&#39;는 모든 설정을 기본값으로 한 상태에서 마지막 검토 페이지로 바로 이동합니다. &#39;설정을 순서대로 진행&#39;을 선택하면 User Pool 생성 단계를 모두 거치면서 원하는 옵션을 선택할 수 있습니다.&lt;/div&gt;&lt;div&gt;&amp;nbsp; 물론, &#39;기본값 검토&#39;를 선택해도 마지막 검토 페이지에서 특정 설정을 변경할 수 있습니다.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-aZv-OUr5PvY/WtNNJITXx9I/AAAAAAAABIc/aogg_8EnhnkNEMr8NbJWw5k13_7nVBFpgCLcBGAs/s1600/cognito_03.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;572&quot; data-original-width=&quot;1059&quot; height=&quot;344&quot; src=&quot;https://1.bp.blogspot.com/-aZv-OUr5PvY/WtNNJITXx9I/AAAAAAAABIc/aogg_8EnhnkNEMr8NbJWw5k13_7nVBFpgCLcBGAs/s640/cognito_03.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;(그림) 풀 이름 입력&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; 로그인 방법 설정을 선택합니다.&lt;/div&gt;&lt;div&gt;&amp;nbsp; &lt;b&gt;&#39;사용자 이름&#39;&lt;/b&gt;을 선택한다면, 회원 가입 시에 아이디(ID)를 입력받고 그것을 이용해서 로그인을 합니다. &#39;사용자 이름&#39; 하위에 있는 옵션들은 아이디는 아니지만 아이디처럼 입력해서 로그인 할 수 있는 옵션들입니다.&lt;/div&gt;&lt;div&gt;&amp;nbsp; &lt;b&gt;&#39;이메일 주소 또는 전화 번호&#39;&lt;/b&gt;는 회원 가입 시에 아이디를 사용하지 않고 이메일이나 전화번호를 아이디로 사용하는 옵션입니다. 최근에는 많은 사이트에서 이메일을 아이디로 사용하는데, 이 옵션을 사용하면 그렇게 사용할 수 있습니다.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-naOYo4Vni6Q/WtNykzUJ_ZI/AAAAAAAABIw/dSN-UbzU56k32XaB3Cj2tBXaCjhWxXIbgCLcBGAs/s1600/cognito_04.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;368&quot; data-original-width=&quot;830&quot; height=&quot;282&quot; src=&quot;https://1.bp.blogspot.com/-naOYo4Vni6Q/WtNykzUJ_ZI/AAAAAAAABIw/dSN-UbzU56k32XaB3Cj2tBXaCjhWxXIbgCLcBGAs/s640/cognito_04.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;(그림) 로그인 방법 선택&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;&lt;br /&gt;&amp;nbsp; 표준 속성 체크란은 회원이 회원 가입할 때 필수로 입력 받아야하는 속성을 선택하는 옵션입니다. 체크를 한다면 필수로 입력 받아야하지만, 체크를 하지 않는다고해서 사용 못하는 속성은 아닙니다. 체크를 하지 않더라도 회원 가입 시에 입력 받고 User Pool에 저장할 수 있습니다.&lt;br /&gt;&amp;nbsp; 그리고 사용자 지정 속성을 추가해서 기본 옵션 이외에 원하는 사용자 정보를 저장할 수 있습니다.&lt;br /&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-NEy-rdif164/WtNykVvz9jI/AAAAAAAABIs/AgP0CemZbtoRfB6dXRwLezonIPz73dwCQCLcBGAs/s1600/cognito_05.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;578&quot; data-original-width=&quot;815&quot; height=&quot;452&quot; src=&quot;https://2.bp.blogspot.com/-NEy-rdif164/WtNykVvz9jI/AAAAAAAABIs/AgP0CemZbtoRfB6dXRwLezonIPz73dwCQCLcBGAs/s640/cognito_05.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;(그림) 사용자 속성 설정&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;&lt;br /&gt;&amp;nbsp; 암호 규칙은 기본적으로 8자 이상 입력, 숫자 포함, 특수 문자 포함, 대소문자 포함을 권장합니다. 하지만 높은 보안성을 위한 권장 일뿐이라서 원하시는 옵션만 선택하셔도 됩니다.&lt;br /&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-06PWLN05oUg/WtNyk4SkPHI/AAAAAAAABI0/TnXPrNWmpPImm8fM0WgrMzeV2Xuh-2fkwCLcBGAs/s1600/cognito_06.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;216&quot; data-original-width=&quot;680&quot; height=&quot;202&quot; src=&quot;https://4.bp.blogspot.com/-06PWLN05oUg/WtNyk4SkPHI/AAAAAAAABI0/TnXPrNWmpPImm8fM0WgrMzeV2Xuh-2fkwCLcBGAs/s640/cognito_06.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;(그림) 암호 규칙 설정&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;&lt;br /&gt;&amp;nbsp; 이메일 또는 전화 번호(휴대폰 번호)를 입력 받기로 했다면, 각각에 대해서 본인 소유의 이메일 또는 전화 번호가 맞는지 확인을 요청할 수 있습니다.&lt;br /&gt;&amp;nbsp; 옵션에서 확인을 원하는 옵션을 선택합니다.&lt;br /&gt;&amp;nbsp; 만약, 전화 번호를 확인하기로 하였다면, 확인 방법은 문자메세지(SMS)로 인증 번호를 전송하고 이 인증 번호를 웹사이트에서 입력하여 확인하는 것입니다. 그렇기 때문에 Cognito가 SMS을 보낼 수 있는 권한이 있어야하기에 하단에 &lt;b&gt;&#39;역할 생성&#39;&lt;/b&gt; 버튼을 눌러서 자동으로 역할이 생성되고 할당되도록 해주어야 합니다.&lt;br /&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-jnBb483FFCY/WtNylm7MtrI/AAAAAAAABI4/0zjPCOxr9fQNhhswNDmmOSZHQqXEd4sVQCLcBGAs/s1600/cognito_07.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;405&quot; data-original-width=&quot;839&quot; height=&quot;308&quot; src=&quot;https://4.bp.blogspot.com/-jnBb483FFCY/WtNylm7MtrI/AAAAAAAABI4/0zjPCOxr9fQNhhswNDmmOSZHQqXEd4sVQCLcBGAs/s640/cognito_07.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;(그림) 연락처를 이용한 사용자 확인 방법 설정&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;&lt;br /&gt;&amp;nbsp; 이메일이나 휴대폰 번호로 전송되는 메세지를 편집 할 수 있습니다.&lt;br /&gt;&amp;nbsp; 이메일의 경우에는 인증 방법이 2가지가 있는데, &lt;b&gt;&#39;코드&#39;&lt;/b&gt; 방식은 SMS와 동일하게 인증번호를 보내고 이를 웹사이트에서 입력하여 확인하는 방법이고, &lt;b&gt;&#39;링크&#39;&lt;/b&gt; 방식은 이메일로 확인 링크를 보내서 사용자가 링크를 눌렀을 때, 바로 사용자 확인이 되도록 하는 방식입니다.&lt;br /&gt;&amp;nbsp; 이때 주의할 사항이 한가지 있습니다. 페이지 언어가 한국어일 경우에 확인 링크가 들어가는 부분이 &lt;b&gt;&#39;{##이메일 확인##}&#39;&lt;/b&gt;으로 되어 있는데, 기본값임에도 불구하고 나중에 풀생성 하려할때 오류가 발생합니다. 이 부분은 &lt;b&gt;&#39;{##Click Here##}&#39;&lt;/b&gt;로 수정해주어야합니다.&lt;br /&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-HSF3qjrXP0M/WtNyl92ctyI/AAAAAAAABI8/XQJJ4NBv4bM0WabTQub5sTNuhZaEScceACLcBGAs/s1600/cognito_08.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;751&quot; data-original-width=&quot;858&quot; height=&quot;560&quot; src=&quot;https://1.bp.blogspot.com/-HSF3qjrXP0M/WtNyl92ctyI/AAAAAAAABI8/XQJJ4NBv4bM0WabTQub5sTNuhZaEScceACLcBGAs/s640/cognito_08.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;(그림) 사용자 확인 메세지 설정&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;&amp;nbsp; &lt;b&gt;앱 클라이언트&lt;/b&gt;는 생성하고 있는 User Pool을 웹어플리케이션 또는 앱(App)과의 연결점 입니다. 웹어플리케이션 또는 앱에서는 User Pool ID와 앱 클라이언트 ID로 User Pool에 접근할 수 있습니다.&lt;br /&gt;&amp;nbsp; &lt;b&gt;&#39;앱 클라이언트 추가&#39;&lt;/b&gt;를 클릭하면 아래처럼 추가 화면으로 바뀌고, 여기서 &lt;b&gt;&#39;앱 클라이언트 이름&#39;&lt;/b&gt;을 입력해줍니다. 그리고 &lt;b&gt;&lt;u&gt;&lt;span style=&quot;color: red;&quot;&gt;연결하려는 앱이 Javascript를 이용하는 웹어플리케이션이라면 반드시 &#39;클라이언트 보안키 생성&#39; 옵션을 체크해제 해주어야합니다.&lt;/span&gt;&lt;/u&gt;&lt;/b&gt; 그렇지 않으면 오류가 발생한다고 합니다.&lt;br /&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-GfYQ5ePWrNo/WtNyl7MfSOI/AAAAAAAABJA/MxCmbked17Y1AUDH62iU1YsygZjvraUzwCLcBGAs/s1600/cognito_09.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;157&quot; data-original-width=&quot;799&quot; height=&quot;124&quot; src=&quot;https://1.bp.blogspot.com/-GfYQ5ePWrNo/WtNyl7MfSOI/AAAAAAAABJA/MxCmbked17Y1AUDH62iU1YsygZjvraUzwCLcBGAs/s640/cognito_09.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;(그림) 앱 클라이언트 추가&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-agDkJofn_9U/WtNymgBp7KI/AAAAAAAABJE/z0qZEvKyg-YqQMco2BmpoFzscijFViUzQCLcBGAs/s1600/cognito_10.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;591&quot; data-original-width=&quot;844&quot; height=&quot;448&quot; src=&quot;https://4.bp.blogspot.com/-agDkJofn_9U/WtNymgBp7KI/AAAAAAAABJE/z0qZEvKyg-YqQMco2BmpoFzscijFViUzQCLcBGAs/s640/cognito_10.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;(그림) 앱 클라이언트 설정&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;&lt;br /&gt;&amp;nbsp; 모든 설정을 완료하고나면 마지막으로 설정값들을 검토하는 페이지가 나타나며, 여기서 &#39;풀 생성&#39;을 클릭하면 User Pool 생성이 완료됩니다.&lt;br /&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-XaOHnxvMr8M/WtNym79HDdI/AAAAAAAABJI/EM9GPMDYQzkagbA9eHys1BEgbMmhdb03gCLcBGAs/s1600/cognito_11.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;734&quot; data-original-width=&quot;829&quot; height=&quot;353&quot; src=&quot;https://1.bp.blogspot.com/-XaOHnxvMr8M/WtNym79HDdI/AAAAAAAABJI/EM9GPMDYQzkagbA9eHys1BEgbMmhdb03gCLcBGAs/s400/cognito_11.jpg&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;(그림) User Pool 생성 직전의 검토 단계&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;&lt;br /&gt;&amp;nbsp; 풀 생성이 완료되면 User Pool ID가 부여되며, &#39;앱 클라이언트 설정&#39;에서는 앱 클라이언트 ID를 확인 할 수 있습니다. 이 값들은 나중에 웹어플리케이션에서 User Pool에 접근하기 위하여 Javascript 라이브러리의 설정으로 입력해야합니다.&lt;br /&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-SCgPvhH-rFo/WtNynG-JTKI/AAAAAAAABJM/qbCYqO2eT3kp3l391X7EoY-8fA2Qp-mDgCLcBGAs/s1600/cognito_12.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;132&quot; data-original-width=&quot;823&quot; height=&quot;102&quot; src=&quot;https://3.bp.blogspot.com/-SCgPvhH-rFo/WtNynG-JTKI/AAAAAAAABJM/qbCYqO2eT3kp3l391X7EoY-8fA2Qp-mDgCLcBGAs/s640/cognito_12.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;(그림) User Pool ID 확인&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-oUm7M8sxphM/WtNynspv93I/AAAAAAAABJQ/8AbI5Zf1ZZsC2jVp4dOyR1nzz_0zFpvKACLcBGAs/s1600/cognito_13.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;242&quot; data-original-width=&quot;1116&quot; height=&quot;138&quot; src=&quot;https://2.bp.blogspot.com/-oUm7M8sxphM/WtNynspv93I/AAAAAAAABJQ/8AbI5Zf1ZZsC2jVp4dOyR1nzz_0zFpvKACLcBGAs/s640/cognito_13.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;(그림) 앱 클라이언트 ID 확인&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;&lt;br /&gt;&amp;nbsp; 부가적으로, User Pool을 생성할 때 사용자 확인 방법을 이메일 링크 방식을 선택했다면, User Pool 생성 이후에 &lt;b&gt;&#39;앱 통합 &amp;gt; 도메인 이름&#39;&lt;/b&gt;에서 서브 도메인을 설정해줘야합니다.&lt;br /&gt;&amp;nbsp; 왜냐하면, 사용자가 이메일에서 링크를 클릭했을 때, 확인 결과를 보여주는 페이지가 필요한데, 여기서 설정한 도메인을 해당 페이지 주소로 사용하기 때문입니다.&lt;br /&gt;&amp;nbsp; 도메인 이름을 설정하지 않는다면, 사용자 가입부터가 되지 않습니다.&lt;br /&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-UN3D_7voqm4/WtNynyK8WaI/AAAAAAAABJU/EXMIm712PY87IXfapnHO2EAGwvMh6eLwQCLcBGAs/s1600/cognito_14.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;418&quot; data-original-width=&quot;1133&quot; height=&quot;236&quot; src=&quot;https://1.bp.blogspot.com/-UN3D_7voqm4/WtNynyK8WaI/AAAAAAAABJU/EXMIm712PY87IXfapnHO2EAGwvMh6eLwQCLcBGAs/s640/cognito_14.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;(그림) 도메인 이름 설정.&lt;br /&gt;이메일 링크 방식을 선택했다면 필수 작업.&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;h4&gt;&lt;span style=&quot;background-color: #f4cccc;&quot;&gt;&amp;gt; 3. AWS Cognito에서 Identity Pool(자격증명풀) 생성하기&lt;/span&gt;&lt;/h4&gt;&lt;div&gt;&amp;nbsp; AWS Cognito에서 제공하는 두번째 서비스는 Identity Pool(자격증명풀)입니다.&lt;/div&gt;&lt;div&gt;&amp;nbsp; Identity Pool(자격증명풀)은 User Pool과 연결하여, 연결한 User Pool의 회원에게 임시 자격증명을 부여하여 권한에 맞는 AWS 자원에 접근이 가능하게 합니다.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; Identity Pool을 생성해보겠습니다.&lt;/div&gt;&lt;div&gt;&amp;nbsp; 먼저, Cognito 페이지에서 &lt;b&gt;&#39;연동 자격 증명 관리&#39;&lt;/b&gt;를 선택합니다.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-pOpXBku9uOY/WtODbZ_Ij2I/AAAAAAAABKI/E5YnNRUtGzoTRhnpj9rjZnDA0ERVgO6rQCLcBGAs/s1600/cognito_01.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;416&quot; data-original-width=&quot;893&quot; height=&quot;186&quot; src=&quot;https://3.bp.blogspot.com/-pOpXBku9uOY/WtODbZ_Ij2I/AAAAAAAABKI/E5YnNRUtGzoTRhnpj9rjZnDA0ERVgO6rQCLcBGAs/s400/cognito_01.jpg&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;(그림) 연동 자격 증명 관리 선택&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; 만들어 놓은 자격 증명 풀이 없다면, 바로 새로 생성하는 단계로 진입합니다. 그렇지 않다면, &lt;b&gt;&#39;새 자격 증명 풀 만들기&#39;&lt;/b&gt;를 선택하여 풀 생성 단계로 진입합니다.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-ErrQyAzapEU/WtNyoFaqRDI/AAAAAAAABJ4/StVbpU7iYPwp5xfCH_OFHmTXIRJeltLpgCEwYBhgL/s1600/cognito_15.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;147&quot; data-original-width=&quot;475&quot; height=&quot;123&quot; src=&quot;https://1.bp.blogspot.com/-ErrQyAzapEU/WtNyoFaqRDI/AAAAAAAABJ4/StVbpU7iYPwp5xfCH_OFHmTXIRJeltLpgCEwYBhgL/s400/cognito_15.jpg&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;(그림) 새 자격 증명 풀 만들기 클릭&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;&lt;br /&gt;&amp;nbsp; 생성에 필요한 정보는 &lt;b&gt;&#39;자격 증명 풀 이름&#39;&lt;/b&gt;과 &#39;인증 공급자&#39;에 입력할 Cognito &lt;b&gt;&#39;사용자 풀 ID&#39;&lt;/b&gt;, &lt;b&gt;&#39;앱 클라이언트 ID&#39;&lt;/b&gt;입니다.&lt;br /&gt;&amp;nbsp; 만약, 로그인 하지 않은 사용자에 대해서도 어느정도 AWS 자원에 접근 가능하게 해주고 싶다면, &lt;b&gt;&#39;인증되지 않은 자격 증명에 대한 액세스 활성화&#39;&lt;/b&gt;를 체크하시면 됩니다.&lt;br /&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-DQqTrxEU6VE/WtNyomNUn4I/AAAAAAAABJ8/PFR8negkpV0UDBZvLnovy9SSU8iYrh7cACEwYBhgL/s1600/cognito_16.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;893&quot; data-original-width=&quot;888&quot; height=&quot;640&quot; src=&quot;https://3.bp.blogspot.com/-DQqTrxEU6VE/WtNyomNUn4I/AAAAAAAABJ8/PFR8negkpV0UDBZvLnovy9SSU8iYrh7cACEwYBhgL/s640/cognito_16.jpg&quot; width=&quot;635&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;(그림) 자격 증명 풀 생성을 위한 정보 입력&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;&lt;br /&gt;&amp;nbsp; &#39;풀 생성&#39;을 하려하면 역할 설정을 해주어야합니다. 위에서도 설명했듯이, Identity Pool은 로그인한 회원에게 임시 자격 증명을 부여합니다. 여기서 설정하는 역할 설정은, 임시 자격 증명으로 접근 가능한 AWS 자원을 설정하는 작업입니다.&lt;br /&gt;&amp;nbsp; 이 페이지에서 &#39;허용&#39;을 클릭했을 때, IAM 역할(role)에 새로운 역할이 생성되는데, 이 역할에 할당되어 있는 권한들이 임시 자격 증명을 가진 사용자들에게 부여되는 권한입니다.&lt;br /&gt;&amp;nbsp; 본 시리즈에서는 지금 생성하는 자격 증명으로 S3에 이미지 파일을 업로드하는 권한을 부여할 것이기 때문에, 자격증명풀 생성 이후에, 이 단계에서 생성되는 IAM 역할에 S3 버킷을 관리할 수 있는 정책을 추가해주시기 바랍니다.&lt;br /&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-cnOhmZkQnUE/WtNypHIB7LI/AAAAAAAABJ8/tq_y0jYOgOYjBG5S06vwk9ZIQFCGtNJ0wCEwYBhgL/s1600/cognito_17.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;732&quot; data-original-width=&quot;933&quot; height=&quot;500&quot; src=&quot;https://3.bp.blogspot.com/-cnOhmZkQnUE/WtNypHIB7LI/AAAAAAAABJ8/tq_y0jYOgOYjBG5S06vwk9ZIQFCGtNJ0wCEwYBhgL/s640/cognito_17.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;(그림) 생성하는 자격 증명 풀이 AWS 자원에 접근할 수 있게 역할 부여&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;&lt;br /&gt;&amp;nbsp; 모든 과정을 완료하면 샘플 코드에서 Identity Pool ID를 확인할 수 있습니다.&lt;br /&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-Hv1_K2_ZnfI/WtNypZECeCI/AAAAAAAABJ8/yIRA1HJ0Qc4SGISwkwYfsBAFQxAAk0pdwCEwYBhgL/s1600/cognito_18.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;387&quot; data-original-width=&quot;820&quot; height=&quot;188&quot; src=&quot;https://4.bp.blogspot.com/-Hv1_K2_ZnfI/WtNypZECeCI/AAAAAAAABJ8/yIRA1HJ0Qc4SGISwkwYfsBAFQxAAk0pdwCEwYBhgL/s400/cognito_18.jpg&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;(그림) Identity Pool ID 확인&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;h4&gt;&lt;span style=&quot;background-color: #f4cccc;&quot;&gt;&amp;gt; 4. AWS Amplify를 이용해서 웹어플리케이션에서 Cognito 사용하기&lt;/span&gt;&lt;/h4&gt;&lt;div&gt;&amp;nbsp; &lt;b style=&quot;background-color: #fce5cd;&quot;&gt;AWS Amplify&lt;/b&gt;는 AWS에서 만들고 있는 Javascript 라이브러리입니다. Amplify는 AWS 뿐만 아니라 다른 &lt;b&gt;클라우드 서비스들을 Javascript에서 쉽게 사용할 수 있게 해주는 라이브러리&lt;/b&gt;입니다. 하지만 Amplify가 아직 완성도가 많이 높지는 않기 때문에 AWS에 가장 적합하며, AWS 서비스를 사용하기에도 조금은 미흡한 부분들이 있지만 기본적인 기능들은 아주 쉽게 이용가능합니다.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;text-align: center;&quot;&gt;&lt;b&gt;AWS Amplify 공식 웹사이트 :&amp;nbsp;&lt;a href=&quot;https://aws.github.io/aws-amplify&quot;&gt;&lt;span style=&quot;color: #3d85c6;&quot;&gt;https://aws.github.io/aws-amplify&lt;/span&gt;&lt;/a&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; 공식 웹사이트를 참고해서 프로젝트에 Amplify를 설치하신 후에, 아래의 설명을 보시면서 웹어플리케이션에서 Cognito를 이용하실 수 있습니다.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; 우선, Amplify을 웹어플리케이션에서 사용하기 위해서는 Amplify에 설정을 해주어야 합니다. Cognito를 이용하기 위한 설정은 아래와 같습니다.&lt;br /&gt;&lt;br /&gt;&amp;nbsp; 설정을 위해서는 &lt;b&gt;2개의 파일&lt;/b&gt;이 필요합니다. 첫번째는, 설정값을 가진 객체를 export하는 파일(aws-export.js)이고, 두번째는, Amplify에 설정값을 적용하고 사용하는 파일(aws-amplify.js)입니다. 파일명은 원하시는 것으로 변경해도 좋습니다.&lt;br /&gt;&amp;nbsp; 이렇게 파일을 나눈 이유는, 설정값들이 공개되면 좋지 않은 AWS 자원의 고유값들이기 때문에 설정값을 가진 파일은 .gitignore에 추가하여 Git Repository에 업로드되어 공개되지 않게 하기 위함입니다.&lt;br /&gt;&lt;br /&gt;&amp;nbsp; Cognito의 정보는 &lt;b&gt;Auth&lt;/b&gt;라는 키값으로 설정하여 Amplify에 적용하게 됩니다. 그리고 하위 속성으로 &lt;b&gt;region, identityPoolId, userPoolId, userPoolWebClientId&lt;/b&gt;를 입력해야합니다.&lt;br /&gt;&amp;nbsp; 각 속성에 대한 이해를 위해서 그림에 있는 주석을 확인해주시기 바랍니다.&lt;br /&gt;&amp;nbsp; 각 속성에 필요한 값들은 위의 Cognito Pool 생성에서 모두 확인 가능합니다.&lt;br /&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/--pbUWmiisVc/WtR1PpR3HnI/AAAAAAAABKo/DfcPpuQN5pUTEx1I3mIIj1CLgYH_O0whwCLcBGAs/s1600/aart__cognito_01.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;344&quot; data-original-width=&quot;737&quot; height=&quot;298&quot; src=&quot;https://1.bp.blogspot.com/--pbUWmiisVc/WtR1PpR3HnI/AAAAAAAABKo/DfcPpuQN5pUTEx1I3mIIj1CLgYH_O0whwCLcBGAs/s640/aart__cognito_01.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;(그림) Cognito 사용을 위한 Amplify Auth 설정. (aws-export.js)&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;&amp;nbsp; 이제, 위에서 설정한 값을 Amplify에 적용해야합니다.&lt;br /&gt;&amp;nbsp; 저는 웹프레임워크로 Vue.js의 서버사이드렌더링(SSR) 프레임워크인 Nuxt.js를 사용합니다. 그래서 Amplify를 Vue의 Plugin으로 설정해서 조금 더 사용하기 쉽게 사용하려 합니다.&lt;br /&gt;&amp;nbsp; 아래 코드는 plugin으로 Amplify.Auth를 사용하는 코드입니다만, &lt;b&gt;중요한 부분은 위의 설정을 import해와서 Amplify.configure()로 적용시켜줬다는 것입니다&lt;/b&gt;. 다른 웹프레임워크를 사용하시더라도 이처럼 설정을 Amplify에 적용하시기만 하면 됩니다.&lt;/div&gt;&lt;div&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-smRRKex71kU/WtStlrODufI/AAAAAAAABK8/Twv7ESoe-K4TJxS9QhWdRpEnXiQxsrPxgCLcBGAs/s1600/aart__cognito_02.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;363&quot; data-original-width=&quot;705&quot; height=&quot;328&quot; src=&quot;https://3.bp.blogspot.com/-smRRKex71kU/WtStlrODufI/AAAAAAAABK8/Twv7ESoe-K4TJxS9QhWdRpEnXiQxsrPxgCLcBGAs/s640/aart__cognito_02.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;(그림) Amplify를 Vue.js의 plugin으로 등록&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;&amp;nbsp; Amplify.Auth를 Vue.js의 plugin으로 등록하여 vue 인스턴스 속성으로 만들었기 때문에 저는 아래와 같이 Amplify.Auth 기능을 사용할 수 있었습니다. signUp을 포함한 기타 함수들에 대한 정보는 &lt;a href=&quot;https://aws.github.io/aws-amplify/media/authentication_guide&quot; target=&quot;_blank&quot;&gt;&lt;span style=&quot;color: #0b5394;&quot;&gt;Amplify의 Auth Docs&lt;/span&gt;&lt;/a&gt;에서 확인하실 수 있습니다.&lt;br /&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-ll6NwKkB16g/WtTNUKIzQrI/AAAAAAAABLM/7cL8uk_hfcs6D-5WLgLRRFP70SKw4Jr5gCLcBGAs/s1600/cognito_code_01.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;356&quot; data-original-width=&quot;703&quot; height=&quot;324&quot; src=&quot;https://4.bp.blogspot.com/-ll6NwKkB16g/WtTNUKIzQrI/AAAAAAAABLM/7cL8uk_hfcs6D-5WLgLRRFP70SKw4Jr5gCLcBGAs/s640/cognito_code_01.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;(그림) Amplify.Auth를 이용한 Cognito 회원가입&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;&amp;nbsp; 참고사항으로, Amplify.Auth를 이용하여 로그인(signIn) 함수를 수행했을때, Access Token등이 자동으로 로컬 브라우저의 특정 Storage에 저장됩니다. 만약, Storage를 쿠키로 설정했다면 로그인 후에 Cognito로부터 응답으로 오는 각종 Token이 쿠키에 저장됩니다.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&amp;nbsp; 여기까지해서, AWS Cognito에서 User Pool과 Identity Pool을 생성하고, AWS Amplify를 이용해서 javascript에서 Cognito를 사용하는 방법을 정리해보았습니다.&lt;br /&gt;&amp;nbsp; 부족한 부분, 잘못 된 부분, 궁금한 부분은 언제나 댓글 또는 메일을 보내주시면 피드백 드리도록 하겠습니다.&lt;br /&gt;&amp;nbsp; 긴 글 읽어주셔서 감사합니다.&lt;br /&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;</content><link rel='replies' type='application/atom+xml' href='https://walkinpcm.blogspot.com/feeds/432235037827214450/comments/default' title='댓글'/><link rel='replies' type='text/html' href='https://walkinpcm.blogspot.com/2018/04/aws-2-aws-amplify-cognito.html#comment-form' title='0개의 덧글'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/3470089366387037599/posts/default/432235037827214450'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/3470089366387037599/posts/default/432235037827214450'/><link rel='alternate' type='text/html' href='https://walkinpcm.blogspot.com/2018/04/aws-2-aws-amplify-cognito.html' title='[AWS] 프론트엔드 개발자가 혼자 웹어플리케이션 만들기. #2. AWS Amplify와 Cognito를 이용한 회원가입, 로그인 기능 구현'/><author><name>Unknown</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='https://img1.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://4.bp.blogspot.com/-VAUrXI4eCcU/WtNJyz6ScTI/AAAAAAAABIE/1wZPqyH47Pgix9rUbniYDa75j0-CK27iACLcBGAs/s72-c/cognito_01%2528%25ED%258E%25B8%25EC%25A7%2591%2529.jpg" height="72" width="72"/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-3470089366387037599.post-5063500929730253594</id><published>2018-04-18T21:08:00.000-07:00</published><updated>2019-02-27T06:04:30.155-08:00</updated><category scheme="http://www.blogger.com/atom/ns#" term="[011. AWS]"/><category scheme="http://www.blogger.com/atom/ns#" term="[012. Web]"/><category scheme="http://www.blogger.com/atom/ns#" term="[013. Server]"/><category scheme="http://www.blogger.com/atom/ns#" term="[014. Node.js]"/><title type='text'>[AWS] 프론트엔드 개발자가 혼자 웹어플리케이션 만들기. #1. 시리즈 포스팅 소개</title><content type='html'>&lt;h2&gt;&lt;span style=&quot;color: #cc0000;&quot;&gt;[AWS] 프론트엔드 개발자가 혼자 웹어플리케이션 만들기. #1. 시리즈 포스팅 소개&lt;/span&gt;&lt;/h2&gt;&lt;br /&gt;&lt;table style=&quot;border-collapse: collapse; width: 100%;&quot;&gt;  &lt;tbody&gt;&lt;tr&gt;    &lt;th style=&quot;border: 1px solid #dddddd; padding: 8px; text-align: left;&quot;&gt;시리즈 포스팅 순서&lt;/th&gt;  &lt;/tr&gt;&lt;tr&gt;    &lt;td style=&quot;background-color: #eeeeee; border: 1px solid #dddddd; padding: 8px; text-align: left;&quot;&gt;&lt;a href=&quot;https://walkinpcm.blogspot.kr/2018/04/aws-1.html&quot; target=&quot;_blank&quot;&gt;&lt;span style=&quot;color: #0b5394;&quot;&gt;#1. 시리즈 포스팅 소개&lt;/span&gt;&lt;/a&gt;&lt;/td&gt;  &lt;/tr&gt;&lt;tr&gt;    &lt;td style=&quot;border: 1px solid #dddddd; padding: 8px; text-align: left;&quot;&gt;&lt;a href=&quot;https://walkinpcm.blogspot.kr/2018/04/aws-2-aws-amplify-cognito.html&quot; target=&quot;_blank&quot;&gt;&lt;span style=&quot;color: #0b5394;&quot;&gt;#2. AWS Amplify와 Cognito를 이용한 회원가입, 로그인 기능 구현&lt;/span&gt;&lt;/a&gt;&lt;/td&gt;  &lt;/tr&gt;&lt;tr&gt;    &lt;td style=&quot;background-color: #eeeeee; border: 1px solid #dddddd; padding: 8px; text-align: left;&quot;&gt;&lt;a href=&quot;https://walkinpcm.blogspot.kr/2018/04/aws-3-aws-amplify-s3.html&quot; target=&quot;_blank&quot;&gt;&lt;span style=&quot;color: #0b5394;&quot;&gt;#3. AWS Amplify와 S3를 이용한 이미지 저장&lt;/span&gt;&lt;/a&gt;&lt;/td&gt;  &lt;/tr&gt;&lt;tr&gt;    &lt;td style=&quot;border: 1px solid #dddddd; padding: 8px; text-align: left;&quot;&gt;&lt;a href=&quot;https://walkinpcm.blogspot.com/2019/02/aws-4-aws-api-gateway-lambda-dynamodb.html&quot; target=&quot;_blank&quot;&gt;&lt;span style=&quot;color: #0b5394;&quot;&gt;#4. AWS API Gateway, Lambda, DynamoDB를 이용한 REST API 구현&lt;/span&gt;&lt;/a&gt;&lt;/td&gt;  &lt;/tr&gt;&lt;tr&gt;    &lt;td style=&quot;background-color: #eeeeee; border: 1px solid #dddddd; padding: 8px; text-align: left;&quot;&gt;#5. AWS Lambda에 Express.js 기반의 웹어플리케이션 배포하기&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;(AWS ACM, API Gateway를 이용한 Custom Domain 적용 방법 포함)&lt;/td&gt;  &lt;/tr&gt;&lt;tr&gt;    &lt;td style=&quot;border: 1px solid #dddddd; padding: 8px; text-align: left;&quot;&gt;#6. AWS S3에 Static Web Hosting으로 SPA(Single Page Application) 웹어플리케이션 배포하기&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;(AWS CloudFront, Route53을 이용한 HTTPS 지원방법 포함)     &lt;/td&gt;  &lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;&lt;br /&gt;이번에는 처음으로 포스팅을 한가지 주제에 대한 시리즈로 작성해보려고 합니다.&lt;br /&gt;우선, 주제는 &lt;b style=&quot;background-color: #fce5cd;&quot;&gt;&lt;span style=&quot;color: #444444;&quot;&gt;&#39;AWS Serverless(서버리스)를 이용해서, 프론트엔드 개발자가 혼자 웹어플리케이션 만들기&#39;&lt;/span&gt;&lt;/b&gt;입니다.&lt;br /&gt;&lt;br /&gt;이번 포스팅에서는 본 시리즈에서 예시로 사용할 간단한 웹어플리케이션에 대한 소개를 하고, 해당 웹어플리케이션과 관련해서 제가 위와 같은 주제를 정리하게 된 이유를 소개하려합니다. 마지막으로는, 시리즈의 차례를 소개하겠습니다.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;h4&gt;&lt;span style=&quot;background-color: #f4cccc;&quot;&gt;&amp;gt; 예시로 사용할 웹어플리케이션: NameSite&lt;/span&gt;&lt;/h4&gt;&amp;nbsp; 이번 시리즈에서 예시로 사용할 웹어플리케이션의 이름은 NameSite입니다.&lt;br /&gt;&amp;nbsp; 보통 자신의 이름, 회사, 이메일, 연락처 등을 간단히 전달하기 위해 우리는 명함(NameCard)를 사용합니다.&lt;br /&gt;&amp;nbsp; 저는 명함(NameCard)와 같은 용도로 사용할 수 있는 템플릿이 정해진 개인 웹사이트를 만들 수 있는 웹어플리케이션을 만들어보려합니다. 그리고 그 웹어플리케이션의 이름을 NameCard에서 따와서 NameSite라고 지었습니다.&lt;br /&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-R-VO3zuCPKs/WtIwfLQrjGI/AAAAAAAABH0/EgE290ugm-s7XdKpauDfbpacRXV0SdqAQCLcBGAs/s1600/webapp_01.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;560&quot; data-original-width=&quot;368&quot; height=&quot;320&quot; src=&quot;https://3.bp.blogspot.com/-R-VO3zuCPKs/WtIwfLQrjGI/AAAAAAAABH0/EgE290ugm-s7XdKpauDfbpacRXV0SdqAQCLcBGAs/s320/webapp_01.jpg&quot; width=&quot;210&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;(그림) NameSite 간략 디자인&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;&amp;nbsp; NameSite에 대한 기능을 설명하자면, NameSite의 관리자페이지에서 로그인 한 사용자가 정해진 템플릿에 커버 이미지, 프로필 이미지, 해시태그, 기타 정보를 작성하고 저장합니다.&lt;br /&gt;&amp;nbsp; 저장 후에 개인 NameSite(ex. my-namesite.walkinpcm.com/{개인도메인})에 접속하면 명함처럼 저장된 정보가 나타나게됩니다.&lt;br /&gt;&lt;br /&gt;&amp;nbsp; 이와 같은 웹어플리케이션을 만들기 위해서는 크게 아래와 같은 기능들이 필요합니다.&lt;br /&gt;&lt;br /&gt;&lt;ul&gt;&lt;li&gt;사용자 관리(로그인)&lt;/li&gt;&lt;li&gt;이미지 저장&lt;/li&gt;&lt;li&gt;정보 저장&lt;/li&gt;&lt;li&gt;웹어플리케이션을 구동할 서버&lt;/li&gt;&lt;/ul&gt;&lt;br /&gt;&amp;nbsp; 이런 기능들을 구현하려면 프론트엔드 개발 이외에, 백엔드에서 &lt;b&gt;REST API를 제공하는 Web Server, Database, Storage&lt;/b&gt; 등을 구축해야할 것입니다.&lt;br /&gt;&lt;br /&gt;&lt;h4&gt;&lt;span style=&quot;background-color: #f4cccc;&quot;&gt;&amp;gt; 프론트엔드 개발자의 한계&lt;/span&gt;&lt;/h4&gt;&amp;nbsp; NameSite를 만들기 위해서 프론트엔드 개발자와 백엔드 개발자가 모두 있었다면 각자의 역할을 수행하면서 NameSite를 만들어내면 될 것입니다. 하지만 문제가 있습니다. 제가 프론트엔드 개발자라서 프론트엔드는 직접 만들어내면 되지만, 백엔드 개발자가 없고 제가 백엔드를 구현할 능력도 없습니다.&lt;br /&gt;&amp;nbsp; 이렇게 한계에 부딪쳐서 만들고 싶은 웹어플리케이션을 못 만들게 될까요?&lt;br /&gt;&lt;br /&gt;&lt;h4&gt;&lt;span style=&quot;background-color: #f4cccc;&quot;&gt;&amp;gt; 구원자, AWS Serverless&lt;/span&gt;&lt;/h4&gt;&amp;nbsp; 이러한 고민을 하는 개발자가 비단 저 뿐만은 아닌듯 합니다. 그래서인지 언제나 개발자들을 최우선으로 생각하고 개발자들을 위한 좋은 서비스를 AWS에서는 Serverless 서비스들을 제공하고있습니다.&lt;br /&gt;&lt;br /&gt;&amp;nbsp; Serverless에 대해서 AWS에서는 아래와 같이 정의하고 있습니다.&lt;br /&gt;&lt;br /&gt;&lt;blockquote class=&quot;tr_bq&quot; style=&quot;border: 1px solid #ccc; box-shadow: 2px 2px 3px #ddd; padding: 20px; text-align: center;&quot;&gt;&lt;span style=&quot;background-color: white;&quot;&gt;&quot;서버리스 컴퓨팅을 사용하면 &lt;/span&gt;&lt;b style=&quot;background-color: #cccccc;&quot;&gt;서버를 고려하지 않고&lt;/b&gt;&lt;span style=&quot;background-color: white;&quot;&gt; 애플리케이션과 서비스를 구축하고 실행할 수 있습니다. 서버리스 애플리케이션에서는 사용자가 서버를 프로비저닝, 확장 및 &lt;/span&gt;&lt;b style=&quot;background-color: #cccccc;&quot;&gt;관리할 필요가 없습니다&lt;/b&gt;&lt;span style=&quot;background-color: white;&quot;&gt;. 거의 모든 유형의 애플리케이션 또는 &lt;/span&gt;&lt;b style=&quot;background-color: #cccccc;&quot;&gt;백엔드 서비스를 서버리스로 구축&lt;/b&gt;&lt;span style=&quot;background-color: white;&quot;&gt;할 수 있으며, 애플리케이션을 고가용성으로 실행하고 확장하는 데 필요한 &lt;/span&gt;&lt;b style=&quot;background-color: #cccccc;&quot;&gt;모든 것이 자동으로 처리&lt;/b&gt;&lt;span style=&quot;background-color: white;&quot;&gt;됩니다.&quot;&lt;/span&gt;&lt;/blockquote&gt;&lt;br /&gt;&amp;nbsp; 강조해 놓은 부분들이 참 매력적인 말들입니다. 그리고 그 말들이 AWS Serverless의 장점들입니다. 기존의 IDC에서 서버 장비를 대여하는 방식이나, EC2와 같은 가상서버에서 서비스를 구현한다면, 구성요소 하나하나를 직접 구축해야하며, 고가용성을 달성하기 위한 시스템 아키텍처 구성 등의 작업도 해야할 것입니다.&lt;br /&gt;&amp;nbsp; 하지만, AWS Serverless를 이용한다면 AWS Console 화면에서 정말 간단한 절차로 고가용성의 백엔드 서비스를 만드는게 가능합니다. 이후의 포스팅에서는 NameSite의 핵심 기능들 만드는 방법을 소개하며, 이때 사용되는 AWS 서비스들을 함께 소개하겠습니다.&lt;br /&gt;&lt;br /&gt;&lt;h4&gt;&lt;span style=&quot;background-color: #f4cccc;&quot;&gt;&amp;gt; 앞으로의 차례&lt;/span&gt;&lt;/h4&gt;본 포스팅에서 소개한 예시 웹어플리케이션인 NameSite를 만들기 위해 필수적인 백엔드 시스템을 만들기 위한 자세한 방법들을 아래와 같은 순서로 포스팅을 작성해보도록 하겠습니다.&lt;br /&gt;&lt;br /&gt;&lt;ol&gt;&lt;li&gt;AWS Amplify와 Cognito를 이용한 회원가입, 로그인 기능 구현&lt;/li&gt;&lt;li&gt;AWS Amplify와 S3를 이용한 이미지 저장&lt;/li&gt;&lt;li&gt;AWS API Gateway, Lambda, DynamoDB를 이용한 REST API 구현&lt;br /&gt;(Amplify를 이용한 API 호출 방법 포함)&lt;/li&gt;&lt;li&gt;AWS Lambda에 Express.js 기반의 웹어플리케이션 배포하기&lt;br /&gt;(AWS ACM, API Gateway를 이용한 Custom Domain 적용 방법 포함)&lt;/li&gt;&lt;li&gt;AWS S3에 Static Web Hosting으로 SPA(Single Page Application) 웹어플리케이션 배포하기&lt;br /&gt;(AWS CloudFront, Route53을 이용한 HTTPS 지원방법 포함)&lt;/li&gt;&lt;/ol&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;앞으로 작성하는 모든 글에 대해서 혹여 잘못 된 내용이 있거나, 질문이 있으시거나, 기타 의견이 있으시다면 언제든지 댓글 달아주시면 최대한 빨리 피드백 드리도록 하겠습니다.&lt;br /&gt;&lt;br /&gt;감사합니다.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;</content><link rel='replies' type='application/atom+xml' href='https://walkinpcm.blogspot.com/feeds/5063500929730253594/comments/default' title='댓글'/><link rel='replies' type='text/html' href='https://walkinpcm.blogspot.com/2018/04/aws-1.html#comment-form' title='0개의 덧글'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/3470089366387037599/posts/default/5063500929730253594'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/3470089366387037599/posts/default/5063500929730253594'/><link rel='alternate' type='text/html' href='https://walkinpcm.blogspot.com/2018/04/aws-1.html' title='[AWS] 프론트엔드 개발자가 혼자 웹어플리케이션 만들기. #1. 시리즈 포스팅 소개'/><author><name>Unknown</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='https://img1.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://3.bp.blogspot.com/-R-VO3zuCPKs/WtIwfLQrjGI/AAAAAAAABH0/EgE290ugm-s7XdKpauDfbpacRXV0SdqAQCLcBGAs/s72-c/webapp_01.jpg" height="72" width="72"/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-3470089366387037599.post-5534058435753950230</id><published>2017-11-11T18:56:00.000-08:00</published><updated>2017-11-24T05:43:12.535-08:00</updated><category scheme="http://www.blogger.com/atom/ns#" term="[007. Javascript]"/><category scheme="http://www.blogger.com/atom/ns#" term="[011. AWS]"/><category scheme="http://www.blogger.com/atom/ns#" term="[012. Web]"/><category scheme="http://www.blogger.com/atom/ns#" term="[014. Node.js]"/><category scheme="http://www.blogger.com/atom/ns#" term="[015. Vue.js]"/><title type='text'>[Web] Vue.js + PWA + pre-render 프로젝트 틀 잡기 (feat. AWS S3를 이용한 웹호스팅)</title><content type='html'>&lt;h1 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-left: 0px; margin-right: 0px; margin-top: 0px !important; padding-bottom: 0.3em;&quot;&gt;&lt;span style=&quot;color: #cc0000;&quot;&gt;Vue.js + PWA + pre-render 프로젝트 틀 잡기&lt;/span&gt;&lt;/h1&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;b&gt;(feat. AWS S3를 이용한 웹호스팅)&lt;/b&gt;&lt;br /&gt;&lt;b&gt;&lt;br /&gt;&lt;/b&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-H7Bu-1OeJcE/Wge5LxekbpI/AAAAAAAABEs/Z4uh32gqYCUg0ZLI7KXzav81bU1km4ORgCLcBGAs/s1600/image00.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;376&quot; data-original-width=&quot;970&quot; height=&quot;153&quot; src=&quot;https://3.bp.blogspot.com/-H7Bu-1OeJcE/Wge5LxekbpI/AAAAAAAABEs/Z4uh32gqYCUg0ZLI7KXzav81bU1km4ORgCLcBGAs/s400/image00.jpg&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;b&gt;&lt;br /&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;이번 포스팅에서는 &lt;b&gt;[ Vue.js + PWA + pre-render ]&lt;/b&gt; 조합의 웹앱을 &lt;b&gt;[ AWS S3 + CloudFront ]&lt;/b&gt; 조합에서 웹호스팅을 할 계획으로 Vue.js 프로젝트를 준비하는 과정을 정리해보려합니다.&lt;/div&gt;&lt;h2 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-top: 24px; padding-bottom: 0.3em;&quot;&gt;0. 왜 이런 조합의 프로젝트를 준비하는가?&lt;/h2&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;프로젝트를 준비하기에 앞서 제 스스로도 목적을 정리하고자 왜 위와 같은 조합을 만드는지 써보려합니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;가볍게 의식의 흐름대로 써보자면 ㅎㅎ&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;Vue.js로 만든 웹페이지를 만들자!&lt;br /&gt;=======================&amp;gt; &lt;b&gt;Vue.js&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;그런데, 앱 같은 웹을 만들어서&lt;br /&gt;우리는 웹을 만들지만 사용자는 앱을 사용하는 것처럼 느끼게 하자.&lt;br /&gt;=======================&amp;gt; &lt;b&gt;PWA(Progressive Web Apps)&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;이렇게 웹앱을 만들어서 AWS S3에서 웹호스팅하면,&lt;br /&gt;서버 비용도 줄고 가용성도 좋으니깐, AWS S3에서 웹호스팅 하자.&lt;br /&gt;=======================&amp;gt; &lt;b&gt;AWS S3&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;아참! PWA를 위해서는 HTTPS를 지원해야겠다!&lt;br /&gt;=======================&amp;gt; &lt;b&gt;AWS CloudFront(with AWS ACM)&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;아...근데 일부 소개 페이지는 SEO도 되야겠는데..&lt;br /&gt;서버가 없으니 SSR이 안되겠네..&lt;br /&gt;그럼 SEO를 위한 페이지만 pre rendering을 하자!&lt;br /&gt;=======================&amp;gt; &lt;b&gt;pre-render&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;이런 의식의 흐름으로 [ Vue.js + PWA + pre-render ] &amp;amp; [ AWS S3 + CloudFront ] 조합이 탄생했습니다 ㅎㅎㅎㅎ&lt;br /&gt;&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;&lt;/div&gt;&lt;h2 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-top: 24px; padding-bottom: 0.3em;&quot;&gt;1. 프로젝트 시작&lt;/h2&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;Vue.js webpack template 중에 PWA(Progressive Web Apps)를 위한 탬플릿이 이미 존재합니다.&lt;br /&gt;아래 Github에서 해당 탬플릿을 시작할 수 있습니다.&lt;br /&gt;&lt;a href=&quot;https://github.com/vuejs-templates/pwa&quot; style=&quot;box-sizing: border-box; color: #0366d6; text-decoration-line: none;&quot;&gt;https://github.com/vuejs-templates/pwa&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;해당 탬플릿의 원형은 vue webpack template이기 때문에 프로젝트 구조 등에 대한 문서는 아래 링크를 확인하면 좋습니다.&lt;br /&gt;&lt;a href=&quot;https://vuejs-templates.github.io/webpack&quot; style=&quot;box-sizing: border-box; color: #0366d6; text-decoration-line: none;&quot;&gt;https://vuejs-templates.github.io/webpack&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;문서의 안내에 따라서 프로젝트를 시작할 폴더에서 아래의 명령으로 탬플릿을 다운로드 받습니다.&lt;br /&gt;(단, vue-cli가 사전에 설치되어 있어야합니다.)&lt;/div&gt;&lt;div class=&quot;highlight highlight-source-shell&quot; style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; line-height: 1.45; overflow: auto; padding: 16px; word-break: normal; word-wrap: normal;&quot;&gt;// 탬플릿 다운로드&lt;br /&gt;$ vue init pwa my-project&lt;br /&gt;&lt;br /&gt;// 프로젝트 폴더로 이동&lt;br /&gt;$ &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;cd&lt;/span&gt; my-project&lt;br /&gt;&lt;br /&gt;// 의존 패키지 설치&lt;br /&gt;$ npm install&lt;br /&gt;&lt;br /&gt;// 개발 서버 시작&lt;br /&gt;$ npm run dev&lt;/pre&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;탬플릿을 다운로드 받을 때 프로젝트 설정을 위한 질문이 여러개 나오는데, 전부 디폴트로 설정해도 무방하고 조금 다른 설정을 해주고 싶은 것만 선택하시면 됩니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;여기까지만으로도 벌써 Vue.js를 이용한 PWA 웹앱의 기반이 다져졌습니다!&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;여기서, 딱 두개만 수정을 하겠습니다.&lt;br /&gt;(1) PWA 웹앱을 만들기 위한 manifest.json 파일에서&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;start_url&lt;/code&gt;을 아래와 같이 수정해줍니다.&lt;/div&gt;&lt;div class=&quot;highlight highlight-source-json&quot; style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; line-height: 1.45; overflow: auto; padding: 16px; word-break: normal; word-wrap: normal;&quot;&gt;// &lt;br /&gt;{&lt;br /&gt;  &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #032f62;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;start_url&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;: &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #032f62;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;/&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;}&lt;br /&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;기본적으로는&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;/index.html&lt;/code&gt;로 설정되어 있는데 이것을&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;/&lt;/code&gt;&amp;nbsp;로 수정합니다.&lt;br /&gt;왜냐하면, 본 포스팅에서는 PWA 웹앱을 AWS S3에 업로드하여 웹호스팅을 하고 AWS CloudFront와 연결하여 https 지원을 할 예정인데,&lt;br /&gt;AWS에 PWA 웹앱을 연결하는 과정에서 이미 최초 진입 파일을 index.html로 설정하기 때문에 manifest.json에서는 시작 주소를 단지 루트(/) 경로만 표시해줘야 정상작동합니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;(2)&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;/build/service-worker-prod.js&lt;/code&gt;에서 service-worker.js 파일 위치를 수정합니다.&lt;br /&gt;load 이벤트 리스너를 추가하는 부분에서 sevice-worker.js를 등록하는 코드가 아래처럼 있습니다.&lt;/div&gt;&lt;div class=&quot;highlight highlight-source-js&quot; style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; line-height: 1.45; overflow: auto; padding: 16px; word-break: normal; word-wrap: normal;&quot;&gt;&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;navigator&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;serviceWorker&lt;/span&gt;.&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #6f42c1;&quot;&gt;register&lt;/span&gt;(&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #032f62;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;service-worker.js&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;)&lt;/pre&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;기존 처럼 되어 있으면 하위 path마다 각 path에서 service-worker.js를 찾게되고 당연히 파일이 없을거라서 등록에서 오류가 납니다.&lt;br /&gt;그래서 아래처럼 파일 이름 앞에 슬래쉬를 붙여서 절대주소를 명시합니다.&lt;/div&gt;&lt;div class=&quot;highlight highlight-source-js&quot; style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; line-height: 1.45; overflow: auto; padding: 16px; word-break: normal; word-wrap: normal;&quot;&gt;&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;navigator&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;serviceWorker&lt;/span&gt;.&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #6f42c1;&quot;&gt;register&lt;/span&gt;(&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #032f62;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;/service-worker.js&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;)&lt;/pre&gt;&lt;/div&gt;&lt;br style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px;&quot; /&gt;&lt;br style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px;&quot; /&gt;&lt;br /&gt;&lt;h2 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-top: 24px; padding-bottom: 0.3em;&quot;&gt;2. 프로젝트 배포&lt;/h2&gt;&lt;h3 style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 1.25em; line-height: 1.25; margin-bottom: 16px; margin-top: 24px;&quot;&gt;2-1. AWS S3 + CloudFront 에 웹앱 배포&lt;/h3&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;저는 AWS S3에 프로젝트를 배포하고 S3의 웹호스팅 기능으로 웹앱을 사용해 보려합니다.&lt;br /&gt;AWS S3로 웹호스팅 하는 방법을 아래 링크를 참고하시면 좋습니다.&lt;br /&gt;&lt;a href=&quot;https://walkinpcm.blogspot.kr/2017/06/aws-aws-s3-static-website-hosting.html&quot; style=&quot;box-sizing: border-box; color: #0366d6; text-decoration-line: none;&quot;&gt;https://walkinpcm.blogspot.kr/2017/06/aws-aws-s3-static-website-hosting.html&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;링크의 내용에서는 HTTPS를 지원하는 내용까지 있는데,&lt;br /&gt;PWA를 위해서는 웹앱이 HTTPS로 제공되어야 하기 때문에 일반적인 S3 Web Hosting 문서보다 위 문서가 도움이 되리라 생각됩니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;배포할 파일들을 만들기 위해서 프로젝트 폴더에서 아래 명령으로 배포 파일을 준비합니다.&lt;/div&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; color: #24292e; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; line-height: 1.45; margin-bottom: 16px; overflow: auto; padding: 16px; word-wrap: normal;&quot;&gt;&lt;code style=&quot;background: transparent; border-radius: 3px; border: 0px; box-sizing: border-box; display: inline; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; line-height: inherit; margin: 0px; overflow: visible; padding: 0px; word-break: normal; word-wrap: normal;&quot;&gt;$ npm run build&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;빌드를 하고나면 프로젝트 폴더의 루트 경로에&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;dist&lt;/code&gt;&amp;nbsp;폴더가 생성됩니다.&lt;br /&gt;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;dist&lt;/code&gt;폴더 내부의 모든 파일들을 S3에 업로드 하면됩니다.&lt;/div&gt;&lt;h3 style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 1.25em; line-height: 1.25; margin-bottom: 16px; margin-top: 24px;&quot;&gt;2-2. SPA를 위한 AWS CloudFront 추가 설정.&lt;/h3&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;SPA(Single Page Application)는 URL 주소가 변경되더라도 실제 다른 파일을 불러오는게 아니라 화면 요소만 바꿔줍니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;그런 특징이 AWS S3 + CloudFront 조합에서는 문제점 하나를 야기합니다.&lt;br /&gt;SPA에서 routing으로 URL 주소를 바꾼 상태에서(ex. &#39;/def&#39;)&lt;br /&gt;새로 고침을 하면 브라우저는 그 요청을 AWS CloudFront로 보내는데&lt;br /&gt;CloudFront에는 &#39;/def&#39;에 대한 자원이 없어서 S3로 요청하게 되고 S3도 &#39;/def&#39;에 대한 자원은 없어서 결국에는 에러 페이지가 반환됩니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;이 문제는 사용자 경험도 떨어 뜨릴 뿐 아니라 웹크롤러가 페이지를 읽지 못하는 문제이기도 합니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;그래서 CloudFront의 에러페이지 설정에서 403, 404 에러가 발생하면 root path로 이동하도록 설정해줍니다.&lt;br /&gt;설정 방법은 아래와 같습니다.&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;CloudFront에서 설정할 배포를 선택하고&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Error Pages&lt;/code&gt;탭을 선탁합니다.&lt;br /&gt;그리고&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Create Custom Error Response&lt;/code&gt;를 선택합니다.&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-SIYDmoRge9M/Wge3v69UjCI/AAAAAAAABEc/kY5qfpXNAtw4TGE-e__Ngj9ZyxgFlQiQACEwYBhgL/s1600/image01.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;162&quot; data-original-width=&quot;848&quot; height=&quot;121&quot; src=&quot;https://3.bp.blogspot.com/-SIYDmoRge9M/Wge3v69UjCI/AAAAAAAABEc/kY5qfpXNAtw4TGE-e__Ngj9ZyxgFlQiQACEwYBhgL/s640/image01.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;HTTP Error Code&lt;/code&gt;는 어떤 에러코드에 대해서 Error 처리를 할지 선택하는 것입니다.&lt;br /&gt;403, 404 2개에 대해서 각각 추가해주셔야합니다.&lt;br /&gt;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Customize Error Response&lt;/code&gt;를 Yes로 선택하고,&lt;br /&gt;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Response Page Path&lt;/code&gt;에&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;/index.html&lt;/code&gt;을 기입합니다.&lt;br /&gt;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;HTTP Response Code&lt;/code&gt;는&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;200: OK&lt;/code&gt;로 입력합니다.&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-fB0GBDFRTTY/Wge3vx4vVEI/AAAAAAAABEg/wO-WpuBfpVwykBpavLh8WbNp-ywr3KG2wCEwYBhgL/s1600/image02.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;407&quot; data-original-width=&quot;866&quot; height=&quot;300&quot; src=&quot;https://4.bp.blogspot.com/-fB0GBDFRTTY/Wge3vx4vVEI/AAAAAAAABEg/wO-WpuBfpVwykBpavLh8WbNp-ywr3KG2wCEwYBhgL/s640/image02.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;에러코드 403, 404 대해서 위와같이 설정을 마치면 아래 처럼 에러 처리 항목 2개가 생겼을겁니다.&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-wnxj7FhYrwU/Wge3v2raNoI/AAAAAAAABEY/cisI2su1sWM8s9AmYiQyFvPbzfC5chCsQCEwYBhgL/s1600/image03.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;305&quot; data-original-width=&quot;995&quot; height=&quot;196&quot; src=&quot;https://4.bp.blogspot.com/-wnxj7FhYrwU/Wge3v2raNoI/AAAAAAAABEY/cisI2su1sWM8s9AmYiQyFvPbzfC5chCsQCEwYBhgL/s640/image03.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;&lt;/div&gt;&lt;h3 style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 1.25em; line-height: 1.25; margin-bottom: 16px; margin-top: 24px;&quot;&gt;2-3. PWA 웹앱 확인&lt;/h3&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;프로젝트 배포 파일들을 AWS S3에 업로드 하고난 뒤에 (HTTPS 까지 지원하게 한 뒤에), PWA 웹앱이라면 모바일 크롬에서 해당 페이지에 접속했을 때 하단에 홈 화면에 설치하겠냐는 배너가 나타나야 정상입니다.&lt;br /&gt;하지만 설치 배너는 유저가 5분 동안 2번 방문해야 나타나는 조건이 있습니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;개발과정에서는 그러한 조건을 충족시키기가 번거로우므로 웹앱에 브라우저로 접속했을 때 설치배너가 무조건 나타나게 해주는 설정을 합니다.&lt;br /&gt;모바일 크롬에서 아래 주소를 주소창에 입력합니다.&lt;/div&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; color: #24292e; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; line-height: 1.45; margin-bottom: 16px; overflow: auto; padding: 16px; word-wrap: normal;&quot;&gt;&lt;code style=&quot;background: transparent; border-radius: 3px; border: 0px; box-sizing: border-box; display: inline; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; line-height: inherit; margin: 0px; overflow: visible; padding: 0px; word-break: normal; word-wrap: normal;&quot;&gt;chrome://ﬂags/#bypass-app-banner-engagement-checks&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;그리고 해당 항목(bypass app banner engagement checks)를&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;사용&lt;/code&gt;으로 변경합니다.&lt;br /&gt;변경하면 크롬을 다시 시작한다고 합니다. 다시 시작하고 다시 웹앱에 접속하면 설치배너가 나타납니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;물론 설치배너를 통해서 설치 하지 않고, 크롬 메뉴에서 &#39;홈 화면에 추가&#39; 기능을 이용해도 똑같이 PWA 웹앱이 스마트폰에 설치되듯이 추가됩니다.&lt;br /&gt;&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;&lt;/div&gt;&lt;h2 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-top: 24px; padding-bottom: 0.3em;&quot;&gt;3. Pre render 플러그인 사용하기&lt;/h2&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;위에서도 언급했듯이 Vue.js PWA 탬플릿은 원형이 Vue.js webpack 탬플릿이기 때문에 Vue.js webpack의 문서를 참고하면됩니다.&lt;br /&gt;그리고 고맙게도 그 문서에는 Pre render에 대한 내용도 있습니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;Vue.js에서 Pre render를 할 때는&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;prerender-spa-plugin&lt;/code&gt;를 추천합니다. Vue.js에서 공식적으로 추천하고 있습니다.&lt;br /&gt;(문서:&amp;nbsp;&lt;a href=&quot;https://vuejs-templates.github.io/webpack/prerender.html&quot; style=&quot;box-sizing: border-box; color: #0366d6; text-decoration-line: none;&quot;&gt;https://vuejs-templates.github.io/webpack/prerender.html&lt;/a&gt;)&lt;br /&gt;(Github:&amp;nbsp;&lt;a href=&quot;https://github.com/chrisvfritz/prerender-spa-plugin&quot; style=&quot;box-sizing: border-box; color: #0366d6; text-decoration-line: none;&quot;&gt;https://github.com/chrisvfritz/prerender-spa-plugin&lt;/a&gt;&amp;nbsp;)&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;사용방법은 무척 간단합니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;(1) prerender-spa-plugin 설치&lt;/div&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; color: #24292e; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; line-height: 1.45; margin-bottom: 16px; overflow: auto; padding: 16px; word-wrap: normal;&quot;&gt;&lt;code style=&quot;background: transparent; border-radius: 3px; border: 0px; box-sizing: border-box; display: inline; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; line-height: inherit; margin: 0px; overflow: visible; padding: 0px; word-break: normal; word-wrap: normal;&quot;&gt;npm i prerender-spa-plugin --save-dev&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;(2) webpack.conf.js에 플러그인 설정&lt;br /&gt;Vue.js PWA 탬플릿을 사용했다면&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;/build/webpack.prod.conf.js&lt;/code&gt;에 아래 코드들을 추가합니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;먼저, 아래 require 문을 다른 어떤 require(또는 import)들 보다 상위에 작성합니다.&lt;br /&gt;제일 상위에 위치하지 않으면 페이지가 정상적으로 표시되지 않습니다.&lt;/div&gt;&lt;div class=&quot;highlight highlight-source-js&quot; style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; line-height: 1.45; overflow: auto; padding: 16px; word-break: normal; word-wrap: normal;&quot;&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;var&lt;/span&gt; PrerenderSpaPlugin &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #032f62;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;prerender-spa-plugin&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;)&lt;/pre&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;그리고, 아래 코드를&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;plugins&lt;/code&gt;&amp;nbsp;배열에 추가합니다.&lt;/div&gt;&lt;div class=&quot;highlight highlight-source-js&quot; style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; line-height: 1.45; overflow: auto; padding: 16px; word-break: normal; word-wrap: normal;&quot;&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #6f42c1;&quot;&gt;PrerenderSpaPlugin&lt;/span&gt;(&lt;br /&gt;  &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #6a737d;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; 컴파일된 파일들이 위치하는 폴더를 명시합니다.&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;path&lt;/span&gt;.&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;join&lt;/span&gt;(&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;__dirname&lt;/span&gt;, &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #032f62;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;../dist&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;),&lt;br /&gt;  &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #6a737d;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; pre render를 할 path를 지정합니다. 콤마로 연결해서 여러 path를 기입할 수 있습니다.&lt;/span&gt;&lt;br /&gt;  [ &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #032f62;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;/&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;, &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #032f62;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;/abc&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt; ]&lt;br /&gt;)&lt;/pre&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;(3) vue-router 의 mode를 history로 변경&lt;br /&gt;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;prerender-spa-plugin&lt;/code&gt;을 사용하려면 router의 mode가 반드시 history여야합니다.&lt;br /&gt;그러므로 아래와 같이 vue router의 mode를 history로 설정합니다.&lt;/div&gt;&lt;div class=&quot;highlight highlight-source-js&quot; style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; line-height: 1.45; overflow: auto; padding: 16px; word-break: normal; word-wrap: normal;&quot;&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;router&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #6f42c1;&quot;&gt;VueRouter&lt;/span&gt;({&lt;br /&gt;  mode&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #032f62;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;history&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;  routes&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;:&lt;/span&gt; [&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;...&lt;/span&gt;]&lt;br /&gt;})&lt;/pre&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;Vue.js PWA 탬플릿을 사용한다면,&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;/src/router/index.js&lt;/code&gt;에 mode를 추가하면 됩니다.&lt;br /&gt;아래는 탬플릿의 원형에 mode만 추가한 것입니다.&lt;/div&gt;&lt;div class=&quot;highlight highlight-source-js&quot; style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; line-height: 1.45; overflow: auto; padding: 16px; word-break: normal; word-wrap: normal;&quot;&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;Vue&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #032f62;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;vue&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;Router&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #032f62;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;vue-router&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;Hello&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #032f62;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;@/components/Hello&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;Vue&lt;/span&gt;.&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #6f42c1;&quot;&gt;use&lt;/span&gt;(Router)&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #6f42c1;&quot;&gt;Router&lt;/span&gt;({&lt;br /&gt;  mode&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #032f62;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;history&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;  routes&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;:&lt;/span&gt; [&lt;br /&gt;    {&lt;br /&gt;      path&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #032f62;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;/&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;      name&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #032f62;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;Hello&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;      component&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;:&lt;/span&gt; Hello&lt;br /&gt;    }&lt;br /&gt;  ]&lt;br /&gt;})&lt;br /&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px;&quot; /&gt;&lt;br style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px;&quot; /&gt;&lt;br /&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;여기까지 전부 하셨다면 Vue.js + PWA + pre render 조합의 웹앱의 기반을 잡으셨다고 할 수 있습니다.&lt;br /&gt;그리고 그 웹앱을 AWS S3 + CloudFront를 이용해서 웹서버 없이 저렴하고 가용성 높게 배포 하게 되셨습니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;혹시 참고하실 수 있으실까해서 이 포스팅을 준비하면서 연습해본 프로젝트 소스를 Github에 올려두었습니다.&lt;br /&gt;아래 링크에서 참고하시면 도움이 되리라 생각됩니다.&lt;br /&gt;(Github Repository 링크 :&amp;nbsp;&lt;a href=&quot;https://github.com/ChanMinPark/vue-pwa-prerender-s3-cloudfront&quot; style=&quot;box-sizing: border-box; color: #0366d6; text-decoration-line: none;&quot;&gt;https://github.com/ChanMinPark/vue-pwa-prerender-s3-cloudfront&lt;/a&gt;&amp;nbsp;)&lt;/div&gt;&lt;br style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px;&quot; /&gt;&lt;br /&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;이번 포스팅은 여기서 마치겠습니다.&lt;br /&gt;혹여 내용이 틀리거나 수정 보완 해야하는 부분이 있다면 댓글로 남겨주세요.&lt;br /&gt;감사히 받아들이고 수정, 보완하겠습니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;감사합니다.&lt;br /&gt;&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;&lt;/div&gt;&lt;h3 style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 1.25em; line-height: 1.25; margin-bottom: 16px; margin-top: 24px;&quot;&gt;참고링크&lt;/h3&gt;&lt;ul style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 0px !important; margin-top: 0px; padding-left: 2em;&quot;&gt;&lt;li style=&quot;box-sizing: border-box;&quot;&gt;Vue.js webpack template for PWA&lt;ul style=&quot;box-sizing: border-box; margin-bottom: 0px; margin-top: 0px; padding-left: 2em;&quot;&gt;&lt;li style=&quot;box-sizing: border-box;&quot;&gt;Github :&amp;nbsp;&lt;a href=&quot;https://github.com/vuejs-templates/pwa&quot; style=&quot;box-sizing: border-box; color: #0366d6; text-decoration-line: none;&quot;&gt;https://github.com/vuejs-templates/pwa&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; margin-top: 0.25em;&quot;&gt;Vue.js webpack template docs&lt;ul style=&quot;box-sizing: border-box; margin-bottom: 0px; margin-top: 0px; padding-left: 2em;&quot;&gt;&lt;li style=&quot;box-sizing: border-box;&quot;&gt;&lt;a href=&quot;https://vuejs-templates.github.io/webpack&quot; style=&quot;box-sizing: border-box; color: #0366d6; text-decoration-line: none;&quot;&gt;https://vuejs-templates.github.io/webpack&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; margin-top: 0.25em;&quot;&gt;prerender-spa-plugin&lt;ul style=&quot;box-sizing: border-box; margin-bottom: 0px; margin-top: 0px; padding-left: 2em;&quot;&gt;&lt;li style=&quot;box-sizing: border-box;&quot;&gt;&lt;a href=&quot;https://github.com/chrisvfritz/prerender-spa-plugin&quot; style=&quot;box-sizing: border-box; color: #0366d6; text-decoration-line: none;&quot;&gt;https://github.com/chrisvfritz/prerender-spa-plugin&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; margin-top: 0.25em;&quot;&gt;AWS CloudFront error page&lt;ul style=&quot;box-sizing: border-box; margin-bottom: 0px; margin-top: 0px; padding-left: 2em;&quot;&gt;&lt;li style=&quot;box-sizing: border-box;&quot;&gt;&lt;a href=&quot;https://johnlouros.com/blog/using-CloudFront-to-serve-an-SPA-from-S3&quot; style=&quot;box-sizing: border-box; color: #0366d6; text-decoration-line: none;&quot;&gt;https://johnlouros.com/blog/using-CloudFront-to-serve-an-SPA-from-S3&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; margin-top: 0.25em;&quot;&gt;AWS S3를 이용한 static website hosting에서 Custom Domain과 HTTPS(SSL) 사용하기&lt;ul style=&quot;box-sizing: border-box; margin-bottom: 0px; margin-top: 0px; padding-left: 2em;&quot;&gt;&lt;li style=&quot;box-sizing: border-box;&quot;&gt;&lt;a href=&quot;https://walkinpcm.blogspot.kr/2017/06/aws-aws-s3-static-website-hosting.html&quot; style=&quot;box-sizing: border-box; color: #0366d6; text-decoration-line: none;&quot;&gt;https://walkinpcm.blogspot.kr/2017/06/aws-aws-s3-static-website-hosting.html&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;</content><link rel='replies' type='application/atom+xml' href='https://walkinpcm.blogspot.com/feeds/5534058435753950230/comments/default' title='댓글'/><link rel='replies' type='text/html' href='https://walkinpcm.blogspot.com/2017/11/web-vuejs-pwa-pre-render-feat-aws-s3.html#comment-form' title='2개의 덧글'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/3470089366387037599/posts/default/5534058435753950230'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/3470089366387037599/posts/default/5534058435753950230'/><link rel='alternate' type='text/html' href='https://walkinpcm.blogspot.com/2017/11/web-vuejs-pwa-pre-render-feat-aws-s3.html' title='[Web] Vue.js + PWA + pre-render 프로젝트 틀 잡기 (feat. AWS S3를 이용한 웹호스팅)'/><author><name>Unknown</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='https://img1.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://3.bp.blogspot.com/-H7Bu-1OeJcE/Wge5LxekbpI/AAAAAAAABEs/Z4uh32gqYCUg0ZLI7KXzav81bU1km4ORgCLcBGAs/s72-c/image00.jpg" height="72" width="72"/><thr:total>2</thr:total></entry><entry><id>tag:blogger.com,1999:blog-3470089366387037599.post-6832186953673291362</id><published>2017-08-30T23:50:00.000-07:00</published><updated>2017-08-30T23:59:49.050-07:00</updated><category scheme="http://www.blogger.com/atom/ns#" term="[011. AWS]"/><category scheme="http://www.blogger.com/atom/ns#" term="[012. Web]"/><category scheme="http://www.blogger.com/atom/ns#" term="[013. Server]"/><category scheme="http://www.blogger.com/atom/ns#" term="[014. Node.js]"/><title type='text'>[AWS] Express에서 동작하는 Swagger UI server 만드는 방법(AWS API Gateway, Lambda 이용)</title><content type='html'>&lt;h1 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-left: 0px; margin-right: 0px; margin-top: 0px !important; padding-bottom: 0.3em;&quot;&gt;&lt;span style=&quot;color: #cc0000;&quot;&gt;Express에서 동작하는 Swagger UI server 만드는 방법(AWS API Gateway, Lambda 이용)&lt;/span&gt;&lt;/h1&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;[How to make Swagger UI server on Express (with AWS API Gateway and Lambda)]&lt;/div&gt;&lt;br style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px;&quot; /&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;AWS의 API Gateway와 Lambda를 이용하면 간편하게 REST API를 만들 수 있습니다.&lt;br /&gt;(아래 링크에 제가 예전에 정리했던 REST API 포스팅이 있습니다. 하지만, 해당 방법으로는 GET, POST, PUT, DELETE 메서드를 모두 한번에 ANY 메서드로 처리하므로 Swagger로 표현할 수 없습니다. 그러니, 참고만 하시면 좋을 것 같습니다.&lt;br /&gt;&lt;a href=&quot;https://walkinpcm.blogspot.kr/2017/05/aws-aws-api-gateway-lambda-rest-api.html&quot; style=&quot;box-sizing: border-box; color: #0366d6; text-decoration-line: none;&quot;&gt;https://walkinpcm.blogspot.kr/2017/05/aws-aws-api-gateway-lambda-rest-api.html&lt;/a&gt;&amp;nbsp;)&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;그런데, 만든 API에 대한 정보를 다른 사람에게 알려야할 때 API Gateway에 접속해서 보라고 하기에는 비효율적이고 한눈에 알아보기도 쉽지 않습니다.&lt;br /&gt;즉, API Gateway로 만든 API도 문서화가 필요합니다. API문서화는 여러 방법이 있는데, 본 포스팅에서는 Swagger UI를 이용해서 API Document Web Page를 만들어보겠습니다.&lt;/div&gt;&lt;h2 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-top: 24px; padding-bottom: 0.3em;&quot;&gt;0. 구조&lt;/h2&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-6WCrhoXhuLs/WaexDNj47oI/AAAAAAAABDY/7xIorM8QTbIgkzizN0c5A4XCk6KJmBGzgCLcBGAs/s1600/imgae01.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;470&quot; data-original-width=&quot;1540&quot; height=&quot;194&quot; src=&quot;https://4.bp.blogspot.com/-6WCrhoXhuLs/WaexDNj47oI/AAAAAAAABDY/7xIorM8QTbIgkzizN0c5A4XCk6KJmBGzgCLcBGAs/s640/imgae01.png&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;Swagger UI는 다양한 서버에서 동작할 수 있는데, 여기서는 node 환경에서 express 웹서버로 Swagger UI를 구성하겠습니다.&lt;br /&gt;그리고 해당 express 웹서버를 AWS Lambda에서 구동시키고, API Gateway를 이용해서 접속 URL을 획득해서 브라우저에서 접속할 수 있게 구성할 것입니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;Swagger UI는 json 또는 yaml로 작성된 API 정의 문서를 보기 좋게 GUI로 보여주는데, 본 포스팅에서는 json 파일을 AWS S3에 업로드해서 이용합니다.&lt;/div&gt;&lt;br style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px;&quot; /&gt;&lt;h2 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-top: 24px; padding-bottom: 0.3em;&quot;&gt;1. 필요한 것들&lt;/h2&gt;&lt;ul style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px; margin-top: 0px; padding-left: 2em;&quot;&gt;&lt;li style=&quot;box-sizing: border-box;&quot;&gt;yarn&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; margin-top: 0.25em;&quot;&gt;node js&lt;ul style=&quot;box-sizing: border-box; margin-bottom: 0px; margin-top: 0px; padding-left: 2em;&quot;&gt;&lt;li style=&quot;box-sizing: border-box;&quot;&gt;express&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; margin-top: 0.25em;&quot;&gt;swagger-ui-express (&amp;nbsp;&lt;a href=&quot;https://github.com/scottie1984/swagger-ui-express&quot; style=&quot;box-sizing: border-box; color: #0366d6; text-decoration-line: none;&quot;&gt;https://github.com/scottie1984/swagger-ui-express&lt;/a&gt;&amp;nbsp;)&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; margin-top: 0.25em;&quot;&gt;aws-serverless-express (&amp;nbsp;&lt;a href=&quot;https://github.com/awslabs/aws-serverless-express&quot; style=&quot;box-sizing: border-box; color: #0366d6; text-decoration-line: none;&quot;&gt;https://github.com/awslabs/aws-serverless-express&lt;/a&gt;&amp;nbsp;)&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; margin-top: 0.25em;&quot;&gt;AWS&lt;ul style=&quot;box-sizing: border-box; margin-bottom: 0px; margin-top: 0px; padding-left: 2em;&quot;&gt;&lt;li style=&quot;box-sizing: border-box;&quot;&gt;API Gateway&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; margin-top: 0.25em;&quot;&gt;Lambda&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; margin-top: 0.25em;&quot;&gt;S3&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;yarn과 Node js 설치는 일반적인 사항이므로 여기서는 다루지 않겠습니다.&lt;br /&gt;또한, API Gateway + Lambda + Express 로 웹 어플리케이션을 Lambda에서 구동하는 방법은 아래 링크를 참고해주시기 바랍니다. 여기서는 코드만 바로 작성하도록 하겠습니다.&lt;br /&gt;( 링크 :&amp;nbsp;&lt;a href=&quot;https://walkinpcm.blogspot.kr/2017/08/awsaws-lambda-express-react-application.html&quot; style=&quot;box-sizing: border-box; color: #0366d6; text-decoration-line: none;&quot;&gt;https://walkinpcm.blogspot.kr/2017/08/awsaws-lambda-express-react-application.html&lt;/a&gt;&amp;nbsp;)&lt;/div&gt;&lt;br style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px;&quot; /&gt;&lt;h2 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-top: 24px; padding-bottom: 0.3em;&quot;&gt;2. 프로젝트 준비&lt;/h2&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;프로젝트를 진행할 폴더 내에서 아래 작업들을 진행합니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;우선 yarn 프로젝트를 초기화 합니다.&lt;br /&gt;entry point는&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;lambda.js&lt;/code&gt;로 해주세요. 중요한건 아닌데.. 여기서는 index.js는 만들지도 않을 거에요.&lt;/div&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; color: #24292e; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; margin-bottom: 16px; overflow: auto; padding: 16px; word-wrap: normal;&quot;&gt;&lt;code style=&quot;background: transparent; border-radius: 3px; border: 0px; box-sizing: border-box; display: inline; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; line-height: inherit; margin: 0px; overflow: visible; padding: 0px; word-break: normal; word-wrap: normal;&quot;&gt;yarn init&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;프로젝트 초기화가 되면 아래 명령으로 필요한 node 패키지들을 설치합니다.&lt;br /&gt;기본적으로 이렇게 3개만 있으면 됩니다.&lt;/div&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; color: #24292e; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; margin-bottom: 16px; overflow: auto; padding: 16px; word-wrap: normal;&quot;&gt;&lt;code style=&quot;background: transparent; border-radius: 3px; border: 0px; box-sizing: border-box; display: inline; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; line-height: inherit; margin: 0px; overflow: visible; padding: 0px; word-break: normal; word-wrap: normal;&quot;&gt;yarn add express swagger-ui-express aws-serverless-express&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;&lt;br style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px;&quot; /&gt;&lt;h2 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-top: 24px; padding-bottom: 0.3em;&quot;&gt;3. 소스파일 작성&lt;/h2&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;2개의 파일이 필요합니다.&lt;/div&gt;&lt;ul style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px; margin-top: 0px; padding-left: 2em;&quot;&gt;&lt;li style=&quot;box-sizing: border-box;&quot;&gt;lambada.js&lt;ul style=&quot;box-sizing: border-box; margin-bottom: 0px; margin-top: 0px; padding-left: 2em;&quot;&gt;&lt;li style=&quot;box-sizing: border-box;&quot;&gt;AWS Lambda에 프로젝트를 업로드 했을 때, API Gateway를 통해서 들어온 요청을 받아서 express로 전달할 파일입니다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; margin-top: 0.25em;&quot;&gt;app.js&lt;ul style=&quot;box-sizing: border-box; margin-bottom: 0px; margin-top: 0px; padding-left: 2em;&quot;&gt;&lt;li style=&quot;box-sizing: border-box;&quot;&gt;express가 동작하는 파일입니다.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;lambda.js의 코드는 AWS Lambda에서 express 어플리케이션을 구동시키기 위해서 사용하는 일반적인 코드입니다.&lt;/div&gt;&lt;div class=&quot;highlight highlight-source-js&quot; style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; overflow: auto; padding: 16px; word-break: normal; word-wrap: normal;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #6a737d;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; lambda.js&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #032f62;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;use strict&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;awsServerlessExpress&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #032f62;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;aws-serverless-express&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;);&lt;br /&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;app&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #032f62;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;./app&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;);&lt;br /&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;server&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;awsServerlessExpress&lt;/span&gt;.&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #6f42c1;&quot;&gt;createServer&lt;/span&gt;(app);&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;exports&lt;/span&gt;.&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #6f42c1;&quot;&gt;handler&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;=&lt;/span&gt; (&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;event&lt;/span&gt;, &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;context&lt;/span&gt;) &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;awsServerlessExpress&lt;/span&gt;.&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #6f42c1;&quot;&gt;proxy&lt;/span&gt;(server, &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;event&lt;/span&gt;, context);&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight highlight-source-js&quot; style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; overflow: auto; padding: 16px; word-break: normal; word-wrap: normal;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #6a737d;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; app.js&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #032f62;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;use strict&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;express&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #032f62;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;express&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;);&lt;br /&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;app&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #6f42c1;&quot;&gt;express&lt;/span&gt;();&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;awsServerlessExpressMiddleware&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #032f62;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;aws-serverless-express/middleware&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;);&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #6a737d;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; swagger-ui-express 미들웨어를 불러옵니다.&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;swaggerUi&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #032f62;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;swagger-ui-express&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;);&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;app&lt;/span&gt;.&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #6f42c1;&quot;&gt;use&lt;/span&gt;(&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;awsServerlessExpressMiddleware&lt;/span&gt;.&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #6f42c1;&quot;&gt;eventContext&lt;/span&gt;());&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #6a737d;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; 아래 처럼 작성하면 {API Gateway에서 획득한 주소}/api-docs/v1 으로 Swagger UI web page에 접속 할 수 있습니다.&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #6a737d;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; Swagger Json 파일은 AWS S3에 업로드 하고 해당 객체에 주어지는 URI를 6번째 인자에 복사해 넣습니다.&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;app&lt;/span&gt;.&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #6f42c1;&quot;&gt;use&lt;/span&gt;(&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #032f62;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;/api-docs/v1&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;, &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;swaggerUi&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;serve&lt;/span&gt;, &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;swaggerUi&lt;/span&gt;.&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #6f42c1;&quot;&gt;setup&lt;/span&gt;(&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;null&lt;/span&gt;&lt;br /&gt;    , &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #032f62;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;{Swagger Json 파일의 S3 주소}&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;));&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;module&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;exports&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;=&lt;/span&gt; app;&lt;/pre&gt;&lt;/div&gt;&lt;br style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px;&quot; /&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;여기까지 진행하면 프로젝트 구조가 아래와 같습니다.&lt;/div&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; color: #24292e; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; margin-bottom: 16px; overflow: auto; padding: 16px; word-wrap: normal;&quot;&gt;&lt;code style=&quot;background: transparent; border-radius: 3px; border: 0px; box-sizing: border-box; display: inline; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; line-height: inherit; margin: 0px; overflow: visible; padding: 0px; word-break: normal; word-wrap: normal;&quot;&gt;Project Folder&lt;br /&gt;├── node_modules&lt;br /&gt;├── app.js&lt;br /&gt;├── lambda.js&lt;br /&gt;├── package.json&lt;br /&gt;└── yarn.lock&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;&lt;br style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px;&quot; /&gt;&lt;h2 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-top: 24px; padding-bottom: 0.3em;&quot;&gt;4. Swagger Json 파일을 AWS S3에 업로드&lt;/h2&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;Swagger Json 파일을 AWS S3에 업로드 합니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;혹시, Json 파일을 직접 작성하시기 전에 예제를 이용해서 테스트 해보고 싶으시다면, S3에 올리는 단계를 건너 뛰시고&lt;br /&gt;Json 파일의 URL을&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;http://petstore.swagger.io/v2/swagger.json&lt;/code&gt;로 사용하시면 좋습니다.&lt;br /&gt;해당 json 파일은 swagger-ui-express에서 제공하는 예제입니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;S3에 Json 파일을 업로드 하면, 업로드 후에 2가지 작업을 해줘야합니다.&lt;/div&gt;&lt;ul style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px; margin-top: 0px; padding-left: 2em;&quot;&gt;&lt;li style=&quot;box-sizing: border-box;&quot;&gt;첫번째, json 파일의 접근 권한을 public으로 설정해줘야합니다. 요즘엔 파일을 업로드하고 파일의 &#39;개요&#39;를 보면 &#39;퍼블릭으로 설정&#39; 기능이 있어서 간편하게 public으로 설정이 됩니다.&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; margin-top: 0.25em;&quot;&gt;두번째, json 파일을 업로드한 S3 Bucket의 CORS에 header를 추가합니다. Bucket의 &#39;권한&#39;에서 &#39;CORS 구성&#39;을 아래와 같이 작성합니다. 기본 작성된 것에 딱 한줄 추가됩니다.&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;highlight highlight-text-xml&quot; style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; overflow: auto; padding: 16px; word-break: normal; word-wrap: normal;&quot;&gt;&amp;lt;?&lt;span class=&quot;pl-ent&quot; style=&quot;box-sizing: border-box; color: #22863a;&quot;&gt;xml&lt;/span&gt;&lt;span class=&quot;pl-e&quot; style=&quot;box-sizing: border-box; color: #6f42c1;&quot;&gt; version&lt;/span&gt;=&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #032f62;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;1.0&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;pl-e&quot; style=&quot;box-sizing: border-box; color: #6f42c1;&quot;&gt; encoding&lt;/span&gt;=&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #032f62;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;UTF-8&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;?&amp;gt;&lt;br /&gt;&amp;lt;&lt;span class=&quot;pl-ent&quot; style=&quot;box-sizing: border-box; color: #22863a;&quot;&gt;CORSConfiguration&lt;/span&gt; &lt;span class=&quot;pl-e&quot; style=&quot;box-sizing: border-box; color: #6f42c1;&quot;&gt;xmlns&lt;/span&gt;=&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #032f62;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;http://s3.amazonaws.com/doc/2006-03-01/&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&amp;gt;&lt;br /&gt;&amp;lt;&lt;span class=&quot;pl-ent&quot; style=&quot;box-sizing: border-box; color: #22863a;&quot;&gt;CORSRule&lt;/span&gt;&amp;gt;&lt;br /&gt;    &amp;lt;&lt;span class=&quot;pl-ent&quot; style=&quot;box-sizing: border-box; color: #22863a;&quot;&gt;AllowedOrigin&lt;/span&gt;&amp;gt;*&amp;lt;/&lt;span class=&quot;pl-ent&quot; style=&quot;box-sizing: border-box; color: #22863a;&quot;&gt;AllowedOrigin&lt;/span&gt;&amp;gt;&lt;br /&gt;    &amp;lt;&lt;span class=&quot;pl-ent&quot; style=&quot;box-sizing: border-box; color: #22863a;&quot;&gt;AllowedMethod&lt;/span&gt;&amp;gt;GET&amp;lt;/&lt;span class=&quot;pl-ent&quot; style=&quot;box-sizing: border-box; color: #22863a;&quot;&gt;AllowedMethod&lt;/span&gt;&amp;gt;&lt;br /&gt;    &amp;lt;&lt;span class=&quot;pl-ent&quot; style=&quot;box-sizing: border-box; color: #22863a;&quot;&gt;MaxAgeSeconds&lt;/span&gt;&amp;gt;3000&amp;lt;/&lt;span class=&quot;pl-ent&quot; style=&quot;box-sizing: border-box; color: #22863a;&quot;&gt;MaxAgeSeconds&lt;/span&gt;&amp;gt;&lt;br /&gt;    &amp;lt;&lt;span class=&quot;pl-ent&quot; style=&quot;box-sizing: border-box; color: #22863a;&quot;&gt;AllowedHeader&lt;/span&gt;&amp;gt;Authorization&amp;lt;/&lt;span class=&quot;pl-ent&quot; style=&quot;box-sizing: border-box; color: #22863a;&quot;&gt;AllowedHeader&lt;/span&gt;&amp;gt;&lt;br /&gt;    &amp;lt;&lt;span class=&quot;pl-ent&quot; style=&quot;box-sizing: border-box; color: #22863a;&quot;&gt;AllowedHeader&lt;/span&gt;&amp;gt;Content-Type&amp;lt;/&lt;span class=&quot;pl-ent&quot; style=&quot;box-sizing: border-box; color: #22863a;&quot;&gt;AllowedHeader&lt;/span&gt;&amp;gt;      &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #6a737d;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;&amp;lt;!--&lt;/span&gt; &amp;lt;&amp;lt;== 이거 한줄 추가합니다. &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;--&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&amp;lt;/&lt;span class=&quot;pl-ent&quot; style=&quot;box-sizing: border-box; color: #22863a;&quot;&gt;CORSRule&lt;/span&gt;&amp;gt;&lt;br /&gt;&amp;lt;/&lt;span class=&quot;pl-ent&quot; style=&quot;box-sizing: border-box; color: #22863a;&quot;&gt;CORSConfiguration&lt;/span&gt;&amp;gt;&lt;/pre&gt;&lt;/div&gt;&lt;br style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px;&quot; /&gt;&lt;h2 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-top: 24px; padding-bottom: 0.3em;&quot;&gt;5. 프로젝트를 AWS Lambda에 올리고 API Gateway와 연결하기&lt;/h2&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;이 단계는 아래 링크를 참고해주세요.&lt;br /&gt;이 단계만 해도 글이 어마어마하게 길어져서 이전의 포스팅을 안내해드립니다.&lt;br /&gt;제 포스팅 뿐만아니라 제 포스팅을 시작으로 관련 키워드들을 많이 검색해서 자료를 보시길 추천드립니다.&lt;br /&gt;( 링크 :&amp;nbsp;&lt;a href=&quot;https://walkinpcm.blogspot.kr/2017/08/awsaws-lambda-express-react-application.html&quot; style=&quot;box-sizing: border-box; color: #0366d6; text-decoration-line: none;&quot;&gt;https://walkinpcm.blogspot.kr/2017/08/awsaws-lambda-express-react-application.html&lt;/a&gt;&amp;nbsp;)&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;핵심적인 사항은 아래와 같습니다.&lt;/div&gt;&lt;ul style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px; margin-top: 0px; padding-left: 2em;&quot;&gt;&lt;li style=&quot;box-sizing: border-box;&quot;&gt;Lambda Function을 만들 때, 프로젝트 파일들을 zip으로 압축해서 파일로 Lambda Function에 업로드하고 구성 설정에서 Handler를 lambda.handler로 해야합니다.&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; margin-top: 0.25em;&quot;&gt;API Gateway는 아래와 같은 구조로&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;/{proxy+}&lt;/code&gt;&amp;nbsp;만 만들어주시면 됩니다. CORS도 설정해주시구요.&lt;/li&gt;&lt;/ul&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; color: #24292e; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; margin-bottom: 16px; overflow: auto; padding: 16px; word-wrap: normal;&quot;&gt;&lt;code style=&quot;background: transparent; border-radius: 3px; border: 0px; box-sizing: border-box; display: inline; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; line-height: inherit; margin: 0px; overflow: visible; padding: 0px; word-break: normal; word-wrap: normal;&quot;&gt;/&lt;br /&gt;    /{proxy+}&lt;br /&gt;        ANY&lt;br /&gt;        OPTIONS&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;&lt;br style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px;&quot; /&gt;&lt;h2 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-top: 24px; padding-bottom: 0.3em;&quot;&gt;6. Swagger UI Web Page 접속&lt;/h2&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;제대로 작업이 진행되었다면, 아래와 같이 Swagger UI 화면이 나타납니다.&lt;br /&gt;접속 주소는 API Gateway에서 배포한 후에 생성된 URL에 위에서 설정했던&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;/api-docs/v1&lt;/code&gt;을 붙인 것입니다.&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-OU--GW8Rl90/WaexDMW9nBI/AAAAAAAABDc/M8EEzcLVLc47mVPKqpuchzG3XZvyjtvQQCEwYBhgL/s1600/imgae02.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;942&quot; data-original-width=&quot;1600&quot; height=&quot;376&quot; src=&quot;https://2.bp.blogspot.com/-OU--GW8Rl90/WaexDMW9nBI/AAAAAAAABDc/M8EEzcLVLc47mVPKqpuchzG3XZvyjtvQQCEwYBhgL/s640/imgae02.png&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;br style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px;&quot; /&gt;&lt;br /&gt;&lt;div style=&quot;box-sizing: border-box; font-size: 16px;&quot;&gt;&lt;div style=&quot;color: #24292e;&quot;&gt;이상으로 Swagger UI Web Page를 만드는 방법을 끝마치겠습니다.&lt;/div&gt;&lt;div style=&quot;color: #24292e;&quot;&gt;혹시 잘 안되거나 잘못 된 부분이 있다면 댓글 남겨주세요. 최대한 빠르게 확인하고 답변 또는 포스팅 수정/보완 하도록 하겠습니다.&lt;/div&gt;&lt;div style=&quot;color: #24292e;&quot;&gt;감사합니다~&lt;/div&gt;&lt;div style=&quot;color: #24292e;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;span style=&quot;color: #666666;&quot;&gt;Tip.&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666;&quot;&gt;아래 링크에서는 Json 또는 Yaml로 된 Swagger 문서를 바로바로 Swagger UI로 볼 수 있습니다. Swagger 문서를 작성할 때 좋습니다.&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666;&quot;&gt;(링크 :&amp;nbsp;&lt;a href=&quot;http://editor.swagger.io/&quot;&gt;http://editor.swagger.io&lt;/a&gt; )&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666;&quot;&gt;제 경우에는 AWS API Gateway로 API를 작성했기 때문에 API Gateway의 기능인 &#39;내보내기&#39; 기능으로 Swagger 문서를 획득할 수 있어서 위 링크에 복사해두고 조금 더 다듬는 용도로 사용합니다.&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;</content><link rel='replies' type='application/atom+xml' href='https://walkinpcm.blogspot.com/feeds/6832186953673291362/comments/default' title='댓글'/><link rel='replies' type='text/html' href='https://walkinpcm.blogspot.com/2017/08/aws-express-swagger-ui-server-aws-api.html#comment-form' title='0개의 덧글'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/3470089366387037599/posts/default/6832186953673291362'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/3470089366387037599/posts/default/6832186953673291362'/><link rel='alternate' type='text/html' href='https://walkinpcm.blogspot.com/2017/08/aws-express-swagger-ui-server-aws-api.html' title='[AWS] Express에서 동작하는 Swagger UI server 만드는 방법(AWS API Gateway, Lambda 이용)'/><author><name>Unknown</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='https://img1.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://4.bp.blogspot.com/-6WCrhoXhuLs/WaexDNj47oI/AAAAAAAABDY/7xIorM8QTbIgkzizN0c5A4XCk6KJmBGzgCLcBGAs/s72-c/imgae01.png" height="72" width="72"/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-3470089366387037599.post-1411777219130023064</id><published>2017-08-27T19:12:00.003-07:00</published><updated>2017-08-27T19:12:54.906-07:00</updated><category scheme="http://www.blogger.com/atom/ns#" term="[011. AWS]"/><category scheme="http://www.blogger.com/atom/ns#" term="[012. Web]"/><title type='text'>[AWS] aws-serverless-express에서 binary(이미지 파일) 지원하는 방법</title><content type='html'>&lt;h1 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-left: 0px; margin-right: 0px; margin-top: 0px !important; padding-bottom: 0.3em;&quot;&gt;&lt;span style=&quot;color: #cc0000;&quot;&gt;aws-serverless-express에서 binary(이미지 파일) 지원하는 방법&lt;/span&gt;&lt;/h1&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;[How to support binary(image file) in aws-serverless-express]&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;지난 포스팅에서 AWS Lambda에서 aws-serverless-express를 이용하고 AWS API Gateway와 연결하여 웹 어플리케이션을 서버리스(Serverless)로 서비스하는 방법을 정리해보았습니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;( 링크 :&amp;nbsp;&lt;a href=&quot;https://walkinpcm.blogspot.kr/2017/08/awsaws-lambda-express-react-application.html&quot; style=&quot;box-sizing: border-box; color: #0366d6; text-decoration-line: none;&quot;&gt;https://walkinpcm.blogspot.kr/2017/08/awsaws-lambda-express-react-application.html&lt;/a&gt;&amp;nbsp;)&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;그런데, 위 포스팅의 절차대로만 했을때 이미지 파일이 화면에 그려지지 못하는 문제가 있었습니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;개발자도구를 이용해서 확인해보면 분명 파일을 받아오는 요청은 200 OK 를 받지만 이미지가 그려지지 않았습니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;알아보니 API Gateway와 Lambda에서는 기본적으로는 binary를 지원하지 않았던게 문제였습니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;그래서 이번 포스팅에서는 그 문제를 해결하는 방법을 정리합니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;h2 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-top: 24px; padding-bottom: 0.3em;&quot;&gt;0. 해결방법&lt;/h2&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;해결방법은 단순합니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;API Gateway와 Lambda(aws-serverless-express 사용부분)에서 binary를 지원하도록 설정해주면 되었습니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;단, 두 군데 모두 설정이 되어야 제대로 binary를 지원합니다.&lt;/div&gt;&lt;h2 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-top: 24px; padding-bottom: 0.3em;&quot;&gt;1. API Gateway 이진 지원 설정&lt;/h2&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;API Gateway에서 사용할 API를 선택하면 좌측 하위 메뉴에 &#39;이진 지원&#39; (Binary Support)가 있습니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;해당 메뉴를 클릭하고 &#39;이진 미디어 형식&#39; (Binary media types)에 아래 세 항목을 각각 추가합니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;(jpg와 png 파일을 지원하고자 하여 아래 image/jpeg와 image/png를 입력합니다. 필요에 따라 다른 항목을 추가하시면 됩니다.)&lt;/div&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; color: #24292e; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; margin-bottom: 16px; overflow: auto; padding: 16px; word-wrap: normal;&quot;&gt;&lt;code style=&quot;background: transparent; border-radius: 3px; border: 0px; box-sizing: border-box; display: inline; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; line-height: inherit; margin: 0px; overflow: visible; padding: 0px; word-break: normal; word-wrap: normal;&quot;&gt;image/jpeg&lt;br /&gt;image/png&lt;br /&gt;*/*&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h2 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-top: 24px; padding-bottom: 0.3em;&quot;&gt;2. aws-serverless-express 코드에서 이진 형식 설정&lt;/h2&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;기본적으로 aws-serverless-express를 이용해서 express 어플리케이션을 Lambda에서 구동시킬때는 아래와 같은 코드가 작성됩니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;(자세한 코드는 맨 위에 링크된 지난 포스팅을 참고해주세요.)&lt;/div&gt;&lt;div class=&quot;highlight highlight-source-js&quot; style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; overflow: auto; padding: 16px; word-break: normal; word-wrap: normal;&quot;&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;server&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;awsServerlessExpress&lt;/span&gt;.&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #6f42c1;&quot;&gt;createServer&lt;/span&gt;(app);&lt;/pre&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;binary를 지원하기 위해서는&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;createServer()&lt;/code&gt;를 호출할 때 지원할 binary가 무엇인지 알려줘야합니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;코드는 아래와 같이 수정됩니다.&lt;/div&gt;&lt;div class=&quot;highlight highlight-source-js&quot; style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; overflow: auto; padding: 16px; word-break: normal; word-wrap: normal;&quot;&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;binaryMimeTypes&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;=&lt;/span&gt; [&lt;br /&gt;    &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #032f62;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;image/jpeg&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;    &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #032f62;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;image/png&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;];&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;server&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;awsServerlessExpress&lt;/span&gt;.&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #6f42c1;&quot;&gt;createServer&lt;/span&gt;(app, &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;null&lt;/span&gt;, binaryMimeTypes);&lt;/pre&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;끝났습니다ㅎㅎㅎ&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;이렇게 간단하게 해결될 것을 저는 이래저래 헤맷네요..&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;그리고 항상 API Gateway는 배포를 해줘야 적용이 됩니다 ㅎㅎ&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;이 글을 쓰면서도 배포를 빼먹어서 잠시 또 헤맷네요..ㅎㅎㅎ&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px;&quot;&gt;이상입니다. 감사합니다.&lt;/div&gt;</content><link rel='replies' type='application/atom+xml' href='https://walkinpcm.blogspot.com/feeds/1411777219130023064/comments/default' title='댓글'/><link rel='replies' type='text/html' href='https://walkinpcm.blogspot.com/2017/08/aws-aws-serverless-express-binary.html#comment-form' title='0개의 덧글'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/3470089366387037599/posts/default/1411777219130023064'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/3470089366387037599/posts/default/1411777219130023064'/><link rel='alternate' type='text/html' href='https://walkinpcm.blogspot.com/2017/08/aws-aws-serverless-express-binary.html' title='[AWS] aws-serverless-express에서 binary(이미지 파일) 지원하는 방법'/><author><name>Unknown</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='https://img1.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-3470089366387037599.post-2866437931227059500</id><published>2017-08-20T07:15:00.000-07:00</published><updated>2017-08-20T22:57:26.875-07:00</updated><category scheme="http://www.blogger.com/atom/ns#" term="[011. AWS]"/><category scheme="http://www.blogger.com/atom/ns#" term="[012. Web]"/><category scheme="http://www.blogger.com/atom/ns#" term="[013. Server]"/><category scheme="http://www.blogger.com/atom/ns#" term="[014. Node.js]"/><title type='text'>[AWS]AWS Lambda에 Express 위에서 작동하는 React Application 업로드(배포) 하는 방법</title><content type='html'>&lt;h1 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-left: 0px; margin-right: 0px; margin-top: 0px !important; padding-bottom: 0.3em;&quot;&gt;&lt;span style=&quot;color: #cc0000;&quot;&gt;AWS Lambda에 Express 위에서 작동하는 React Application 업로드(배포) 하는 방법&lt;/span&gt;&lt;/h1&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;[How to upload(deploy) React application on Express to AWS Lambda]&lt;br /&gt;(부제: aws-serverless-express 사용 방법)&lt;/div&gt;&lt;blockquote style=&quot;border-left: 0.25em solid rgb(223, 226, 229); box-sizing: border-box; color: #6a737d; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin: 0px 0px 16px; padding: 0px 1em;&quot;&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;주의! 본 글은 AWS Lambda와 API Gateway의 사용법은 구체적으로 다루지 않습니다. 이에 대해서는 사전에 익히고 보셔야 좋습니다.&lt;/div&gt;&lt;/blockquote&gt;&lt;br style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px;&quot; /&gt;&lt;span style=&quot;background-color: white; color: #24292e; font-family: , &amp;quot;blinkmacsystemfont&amp;quot; , &amp;quot;segoe ui&amp;quot; , &amp;quot;helvetica&amp;quot; , &amp;quot;arial&amp;quot; , sans-serif , &amp;quot;apple color emoji&amp;quot; , &amp;quot;segoe ui emoji&amp;quot; , &amp;quot;segoe ui symbol&amp;quot;; font-size: 16px;&quot;&gt;최근 AWS에서는 Serverless Architecture를 지원해주기 위해 노력하고 있는 것 같습니다.&lt;/span&gt;&lt;br /&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;그 일환으로&amp;nbsp;&lt;a href=&quot;https://github.com/awslabs/aws-serverless-express&quot; style=&quot;box-sizing: border-box; color: #0366d6; text-decoration-line: none;&quot;&gt;aws-serverless-express&lt;/a&gt;를 이용해서 AWS Lambda에 Node.js 진영의 웹 프레임워크(Web Framework)인 Express 기반의 Web Application을 배포할 수 있게 했습니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;또한, Serverless 기반의 App을 개발하고 배포하기 편리하게 하는&amp;nbsp;&lt;a href=&quot;https://github.com/awslabs/serverless-application-model&quot; style=&quot;box-sizing: border-box; color: #0366d6; text-decoration-line: none;&quot;&gt;serverless application model(SAM)&lt;/a&gt;&amp;nbsp;을 공개했습니다.&lt;br /&gt;SAM은 아직 Beta라서 그런지 안정적이지는 않은 것 같습니다. SAM을 이용하면 로컬에서 Lambda에 배포한 것 같이 테스트 할 수 있고 좋은데.. 조금만 더 기다려봐야할 것 같습니다.&lt;/div&gt;&lt;br style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px;&quot; /&gt;&lt;span style=&quot;background-color: white; color: #24292e; font-family: , &amp;quot;blinkmacsystemfont&amp;quot; , &amp;quot;segoe ui&amp;quot; , &amp;quot;helvetica&amp;quot; , &amp;quot;arial&amp;quot; , sans-serif , &amp;quot;apple color emoji&amp;quot; , &amp;quot;segoe ui emoji&amp;quot; , &amp;quot;segoe ui symbol&amp;quot;; font-size: 16px;&quot;&gt;이번 포스팅에서는 aws-serverless-express를 이용해서 React App을 AWS Lambda에 배포하는 방법을 정리해보려 합니다.&amp;nbsp;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;background-color: white; color: #24292e; font-family: , &amp;quot;blinkmacsystemfont&amp;quot; , &amp;quot;segoe ui&amp;quot; , &amp;quot;helvetica&amp;quot; , &amp;quot;arial&amp;quot; , sans-serif , &amp;quot;apple color emoji&amp;quot; , &amp;quot;segoe ui emoji&amp;quot; , &amp;quot;segoe ui symbol&amp;quot;; font-size: 16px;&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;br /&gt;&lt;h2 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-top: 24px; padding-bottom: 0.3em;&quot;&gt;1. 준비&lt;/h2&gt;&lt;ul style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px; margin-top: 0px; padding-left: 2em;&quot;&gt;&lt;li style=&quot;box-sizing: border-box;&quot;&gt;Yarn&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; margin-top: 0.25em;&quot;&gt;Node.js v6.5 이상&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; margin-top: 0.25em;&quot;&gt;React-Starter-Kit (&amp;nbsp;&lt;a href=&quot;https://github.com/kriasoft/react-starter-kit&quot; style=&quot;box-sizing: border-box; color: #0366d6; text-decoration-line: none;&quot;&gt;https://github.com/kriasoft/react-starter-kit&lt;/a&gt;&amp;nbsp;)&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; margin-top: 0.25em;&quot;&gt;aws-serverless-express&lt;/li&gt;&lt;/ul&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;Yarn과 Node.js는 일반적인 사항이라 따로 설치 방법을 정리하지는 않겠습니다.&lt;/div&gt;&lt;h3 style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 1.25em; line-height: 1.25; margin-bottom: 16px; margin-top: 24px;&quot;&gt;1-1. React-Starter-Kit&lt;/h3&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;본 포스팅에서는 React App의 뼈대를 잡기 위해서 React-Starter-Kit을 사용합니다. React-Starter-Kit은 Express기반으로 작성되어 있으며,&amp;nbsp;&lt;a href=&quot;https://github.com/kriasoft/universal-router&quot; style=&quot;box-sizing: border-box; color: #0366d6; text-decoration-line: none;&quot;&gt;Universal-Router&lt;/a&gt;를 이용해서 Server-side rendering을 지원합니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;Terminal(또는 Powershell 등)에서 아래 명령을 수행하여 공식 Github에서 프로젝트를 내려 받습니다.&lt;br /&gt;아래 명령에서 마지막에 있는 MyApp은 프로젝트 소스를 내려받을 폴더 이름입니다. 그러니 각자가 원하는 이름으로 지정하시면 됩니다.&lt;/div&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; color: #24292e; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; margin-bottom: 16px; overflow: auto; padding: 16px; word-wrap: normal;&quot;&gt;&lt;code style=&quot;background: transparent; border-radius: 3px; border: 0px; box-sizing: border-box; display: inline; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; line-height: inherit; margin: 0px; overflow: visible; padding: 0px; word-break: normal; word-wrap: normal;&quot;&gt;git clone -o react-starter-kit -b master --single-branch https://github.com/kriasoft/react-starter-kit.git MyApp&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;프로젝트 폴더 내부로 이동해서 아래 명령으로 package.json에 명시된 dependencies를 설치합니다.&lt;/div&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; color: #24292e; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; margin-bottom: 16px; overflow: auto; padding: 16px; word-wrap: normal;&quot;&gt;&lt;code style=&quot;background: transparent; border-radius: 3px; border: 0px; box-sizing: border-box; display: inline; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; line-height: inherit; margin: 0px; overflow: visible; padding: 0px; word-break: normal; word-wrap: normal;&quot;&gt;cd MyApp&lt;br /&gt;yarn install&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h3 style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 1.25em; line-height: 1.25; margin-bottom: 16px; margin-top: 24px;&quot;&gt;1-2. aws-serverless-express&lt;/h3&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;aws-serverless-express는 lambda에서 express를 작동 시킬 수 있게 해주는 미들웨어 패키지입니다.&lt;br /&gt;아래 명령으로 프로젝트에 모듈을 추가해줍니다.&lt;/div&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; color: #24292e; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; margin-bottom: 16px; overflow: auto; padding: 16px; word-wrap: normal;&quot;&gt;&lt;code style=&quot;background: transparent; border-radius: 3px; border: 0px; box-sizing: border-box; display: inline; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; line-height: inherit; margin: 0px; overflow: visible; padding: 0px; word-break: normal; word-wrap: normal;&quot;&gt;yarn add aws-serverless-express&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;&lt;br style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px;&quot; /&gt;&lt;span style=&quot;background-color: white; color: #24292e; font-family: , &amp;quot;blinkmacsystemfont&amp;quot; , &amp;quot;segoe ui&amp;quot; , &amp;quot;helvetica&amp;quot; , &amp;quot;arial&amp;quot; , sans-serif , &amp;quot;apple color emoji&amp;quot; , &amp;quot;segoe ui emoji&amp;quot; , &amp;quot;segoe ui symbol&amp;quot;; font-size: 16px;&quot;&gt;이제 준비는 되었습니다. 다음으로 소스코드의 수정 및 작성을 정리하겠습니다.&amp;nbsp;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;background-color: white; color: #24292e; font-family: , &amp;quot;blinkmacsystemfont&amp;quot; , &amp;quot;segoe ui&amp;quot; , &amp;quot;helvetica&amp;quot; , &amp;quot;arial&amp;quot; , sans-serif , &amp;quot;apple color emoji&amp;quot; , &amp;quot;segoe ui emoji&amp;quot; , &amp;quot;segoe ui symbol&amp;quot;; font-size: 16px;&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;br /&gt;&lt;h2 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-top: 24px; padding-bottom: 0.3em;&quot;&gt;2. Lambda에서 작동시키기 위한 소스 코드 수정 및 추가 작성&lt;/h2&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;기존 Express Application은 listen() 함수를 이용해서 포트를 열고 클라이언트의 접속을 대기합니다.&lt;br /&gt;하지만, Lambda에서는 클라이언트의 요청을 listen()으로 받는게 아니라 aws-serverless-express가 받아서 express로 전달합니다.&lt;br /&gt;이를 위해서 코드의 수정이 필요합니다.&lt;/div&gt;&lt;h3 style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 1.25em; line-height: 1.25; margin-bottom: 16px; margin-top: 24px;&quot;&gt;2-1. React-Starter-Kit의 소스 코드 수정&lt;/h3&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;위에서 언급했듯이 listen() 함수가 필요가 없고, aws-serverless-express가 클라이언트 요청을 받도록 수정해줘야합니다.&lt;br /&gt;이를 수정하기 위해서, src/server.js 에서 아래 부분을 주석처리하거나 삭제합니다.&lt;/div&gt;&lt;div class=&quot;highlight highlight-source-js&quot; style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; overflow: auto; padding: 16px; word-break: normal; word-wrap: normal;&quot;&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;promise&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;models&lt;/span&gt;.&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #6f42c1;&quot;&gt;sync&lt;/span&gt;().&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #6f42c1;&quot;&gt;catch&lt;/span&gt;(&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #6f42c1;&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;error&lt;/span&gt;(&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;err&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;stack&lt;/span&gt;));&lt;br /&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;module&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;hot&lt;/span&gt;) {&lt;br /&gt;  &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;promise&lt;/span&gt;.&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #6f42c1;&quot;&gt;then&lt;/span&gt;(() &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;=&amp;gt;&lt;/span&gt; {&lt;br /&gt;    &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;app&lt;/span&gt;.&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #6f42c1;&quot;&gt;listen&lt;/span&gt;(&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;config&lt;/span&gt;.&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;port&lt;/span&gt;, () &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;=&amp;gt;&lt;/span&gt; {&lt;br /&gt;      &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #6f42c1;&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;info&lt;/span&gt;(&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #032f62;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;`&lt;/span&gt;The server is running at http://localhost:&lt;span class=&quot;pl-s1&quot; style=&quot;box-sizing: border-box; color: #24292e;&quot;&gt;&lt;span class=&quot;pl-pse&quot; style=&quot;box-sizing: border-box;&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;config&lt;/span&gt;.&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;port&lt;/span&gt;&lt;span class=&quot;pl-pse&quot; style=&quot;box-sizing: border-box;&quot;&gt;}&lt;/span&gt;&lt;/span&gt;/&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;`&lt;/span&gt;&lt;/span&gt;);&lt;br /&gt;    });&lt;br /&gt;  });&lt;br /&gt;}&lt;/pre&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;그리고, aws-serverless-express 패키지를 import 합니다.&lt;br /&gt;다른 패키지들이 import된 곳의 맨 마지막에 import하면 됩니다.&lt;/div&gt;&lt;div class=&quot;highlight highlight-source-js&quot; style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; overflow: auto; padding: 16px; word-break: normal; word-wrap: normal;&quot;&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;awsServerlessExpressMiddleware&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #032f62;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;aws-serverless-express/middleware&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;;&lt;/pre&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;그리고 다른 미들웨어들이 작성되어 있는 곳에 aws-serverless-express 미들웨어도 추가해 줍니다.&lt;/div&gt;&lt;div class=&quot;highlight highlight-source-js&quot; style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; overflow: auto; padding: 16px; word-break: normal; word-wrap: normal;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #6a737d;&quot;&gt;//&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #6a737d;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; Register Node.js middleware&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #6a737d;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; -----------------------------------------------------------------------------&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;app&lt;/span&gt;.&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #6f42c1;&quot;&gt;use&lt;/span&gt;(&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;awsServerlessExpressMiddleware&lt;/span&gt;.&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #6f42c1;&quot;&gt;eventContext&lt;/span&gt;());         &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #6a737d;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; &amp;lt;--- 추가 됨.&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;app&lt;/span&gt;.&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #6f42c1;&quot;&gt;use&lt;/span&gt;(&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;express&lt;/span&gt;.&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #6f42c1;&quot;&gt;static&lt;/span&gt;(&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;path&lt;/span&gt;.&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #6f42c1;&quot;&gt;resolve&lt;/span&gt;(&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;__dirname&lt;/span&gt;, &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #032f62;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;public&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;)));&lt;br /&gt;&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;app&lt;/span&gt;.&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #6f42c1;&quot;&gt;use&lt;/span&gt;(&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #6f42c1;&quot;&gt;cookieParser&lt;/span&gt;());&lt;br /&gt;&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;app&lt;/span&gt;.&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #6f42c1;&quot;&gt;use&lt;/span&gt;(&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;bodyParser&lt;/span&gt;.&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #6f42c1;&quot;&gt;urlencoded&lt;/span&gt;({ extended&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;true&lt;/span&gt; }));&lt;br /&gt;&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;app&lt;/span&gt;.&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #6f42c1;&quot;&gt;use&lt;/span&gt;(&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;bodyParser&lt;/span&gt;.&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #6f42c1;&quot;&gt;json&lt;/span&gt;());&lt;/pre&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;아래 수정은 Lambda에서 제대로 작동하지 않아서 internal error를 발생시키는 패키지를 제거하는 것입니다.&lt;br /&gt;아래 부분들을 찾아서 주석처리 해주시면 됩니다.&lt;br /&gt;아래 패키지 들이 무조건 Lambda에서 사용을 못하는지는 아직 깊게 파보지 않아서 모르겠으나, 당장은 필요 없어서 일단 제거합니다.(앞으로 각 패키지들도 사용하는 방법을 연구해볼 예정입니다.)&lt;/div&gt;&lt;div class=&quot;highlight highlight-source-js&quot; style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; overflow: auto; padding: 16px; word-break: normal; word-wrap: normal;&quot;&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;expressGraphQL&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #032f62;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;express-graphql&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;;&lt;br /&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;passport&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #032f62;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;./passport&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;;&lt;br /&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;models&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #032f62;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;./data/models&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;;&lt;br /&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;schema&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #032f62;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;./data/schema&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;...&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;app&lt;/span&gt;.&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #6f42c1;&quot;&gt;use&lt;/span&gt;(&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;passport&lt;/span&gt;.&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #6f42c1;&quot;&gt;initialize&lt;/span&gt;());&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;...&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;app&lt;/span&gt;.&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;get&lt;/span&gt;(&lt;br /&gt;  &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #032f62;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;/login/facebook&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;  &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;passport&lt;/span&gt;.&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #6f42c1;&quot;&gt;authenticate&lt;/span&gt;(&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #032f62;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;facebook&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;, {&lt;br /&gt;    scope&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;:&lt;/span&gt; [&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #032f62;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;email&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;, &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #032f62;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;user_location&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;],&lt;br /&gt;    session&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;false&lt;/span&gt;,&lt;br /&gt;  }),&lt;br /&gt;);&lt;br /&gt;&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;app&lt;/span&gt;.&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;get&lt;/span&gt;(&lt;br /&gt;  &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #032f62;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;/login/facebook/return&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;  &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;passport&lt;/span&gt;.&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #6f42c1;&quot;&gt;authenticate&lt;/span&gt;(&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #032f62;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;facebook&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;, {&lt;br /&gt;    failureRedirect&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #032f62;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;/login&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;    session&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;false&lt;/span&gt;,&lt;br /&gt;  }),&lt;br /&gt;  (&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;req&lt;/span&gt;, &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;res&lt;/span&gt;) &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;=&amp;gt;&lt;/span&gt; {&lt;br /&gt;    &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;expiresIn&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;60&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;60&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;24&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;180&lt;/span&gt;; &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #6a737d;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; 180 days&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;token&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;jwt&lt;/span&gt;.&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #6f42c1;&quot;&gt;sign&lt;/span&gt;(&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;req&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;user&lt;/span&gt;, &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;config&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;auth&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;jwt&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;secret&lt;/span&gt;, { expiresIn });&lt;br /&gt;    &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;res&lt;/span&gt;.&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;cookie&lt;/span&gt;(&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #032f62;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;id_token&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;, token, { maxAge&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;1000&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;*&lt;/span&gt; expiresIn, httpOnly&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;true&lt;/span&gt; });&lt;br /&gt;    &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;res&lt;/span&gt;.&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #6f42c1;&quot;&gt;redirect&lt;/span&gt;(&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #032f62;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;/&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;);&lt;br /&gt;  },&lt;br /&gt;);&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;...&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;app&lt;/span&gt;.&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #6f42c1;&quot;&gt;use&lt;/span&gt;(&lt;br /&gt;  &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #032f62;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;/graphql&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;  &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #6f42c1;&quot;&gt;expressGraphQL&lt;/span&gt;(&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;req&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;=&amp;gt;&lt;/span&gt; ({&lt;br /&gt;    schema,&lt;br /&gt;    graphiql&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;__DEV__&lt;/span&gt;,&lt;br /&gt;    rootValue&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;:&lt;/span&gt; { request&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;:&lt;/span&gt; req },&lt;br /&gt;    pretty&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;__DEV__&lt;/span&gt;,&lt;br /&gt;  })),&lt;br /&gt;);&lt;br /&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 1.25em; line-height: 1.25; margin-bottom: 16px; margin-top: 24px;&quot;&gt;2-2. lambda.js 코드 추가 작성&lt;/h3&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;lambda.js는 React-Starter-Kit에 포함되어 있는 파일이 아닙니다.&lt;br /&gt;Lambda와 프로젝트 파일들을 이어주는 접점이라고 생각하시면 됩니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;파일은 프로젝트 폴더 최상위 위치에 저장해두면 나중에 계속 복사하면 되서 편합니다.&lt;/div&gt;&lt;div class=&quot;highlight highlight-source-js&quot; style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; overflow: auto; padding: 16px; word-break: normal; word-wrap: normal;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #6a737d;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; lambda.js&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #032f62;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;use strict&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;awsServerlessExpress&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #032f62;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;aws-serverless-express&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;);&lt;br /&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;app&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #032f62;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;./server&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;);&lt;br /&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;server&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;awsServerlessExpress&lt;/span&gt;.&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #6f42c1;&quot;&gt;createServer&lt;/span&gt;(app.default);&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;exports&lt;/span&gt;.&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #6f42c1;&quot;&gt;handler&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;=&lt;/span&gt; (&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;event&lt;/span&gt;, &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;context&lt;/span&gt;) &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;awsServerlessExpress&lt;/span&gt;.&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #6f42c1;&quot;&gt;proxy&lt;/span&gt;(server, &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;event&lt;/span&gt;, context);&lt;/pre&gt;&lt;/div&gt;&lt;span style=&quot;background-color: white; color: #24292e; font-family: , &amp;quot;blinkmacsystemfont&amp;quot; , &amp;quot;segoe ui&amp;quot; , &amp;quot;helvetica&amp;quot; , &amp;quot;arial&amp;quot; , sans-serif , &amp;quot;apple color emoji&amp;quot; , &amp;quot;segoe ui emoji&amp;quot; , &amp;quot;segoe ui symbol&amp;quot;; font-size: 16px;&quot;&gt;여기서 주의할 점은,&amp;nbsp;&lt;/span&gt;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; color: #24292e; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;awsServerlessExpress.createServer()&lt;/code&gt;&lt;span style=&quot;background-color: white; color: #24292e; font-family: , &amp;quot;blinkmacsystemfont&amp;quot; , &amp;quot;segoe ui&amp;quot; , &amp;quot;helvetica&amp;quot; , &amp;quot;arial&amp;quot; , sans-serif , &amp;quot;apple color emoji&amp;quot; , &amp;quot;segoe ui emoji&amp;quot; , &amp;quot;segoe ui symbol&amp;quot;; font-size: 16px;&quot;&gt;의 인자로 그냥&amp;nbsp;&lt;/span&gt;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; color: #24292e; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;app&lt;/code&gt;&lt;span style=&quot;background-color: white; color: #24292e; font-family: , &amp;quot;blinkmacsystemfont&amp;quot; , &amp;quot;segoe ui&amp;quot; , &amp;quot;helvetica&amp;quot; , &amp;quot;arial&amp;quot; , sans-serif , &amp;quot;apple color emoji&amp;quot; , &amp;quot;segoe ui emoji&amp;quot; , &amp;quot;segoe ui symbol&amp;quot;; font-size: 16px;&quot;&gt;이 아니라&amp;nbsp;&lt;/span&gt;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; color: #24292e; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;app.default&lt;/code&gt;&lt;span style=&quot;background-color: white; color: #24292e; font-family: , &amp;quot;blinkmacsystemfont&amp;quot; , &amp;quot;segoe ui&amp;quot; , &amp;quot;helvetica&amp;quot; , &amp;quot;arial&amp;quot; , sans-serif , &amp;quot;apple color emoji&amp;quot; , &amp;quot;segoe ui emoji&amp;quot; , &amp;quot;segoe ui symbol&amp;quot;; font-size: 16px;&quot;&gt;가 들어간다는 것입니다.&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;background-color: white; color: #24292e; font-family: , &amp;quot;blinkmacsystemfont&amp;quot; , &amp;quot;segoe ui&amp;quot; , &amp;quot;helvetica&amp;quot; , &amp;quot;arial&amp;quot; , sans-serif , &amp;quot;apple color emoji&amp;quot; , &amp;quot;segoe ui emoji&amp;quot; , &amp;quot;segoe ui symbol&amp;quot;; font-size: 16px;&quot;&gt;왜냐하면 빌드 된 server.js는 webpack에 의해서 여러 패키지가 하나로 합쳐져 있어서 export된 모듈이 많은데 그 중에서 원하는 것은 default 로 export된 모듈이기 때문입니다.&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;background-color: white; color: #24292e; font-family: , &amp;quot;blinkmacsystemfont&amp;quot; , &amp;quot;segoe ui&amp;quot; , &amp;quot;helvetica&amp;quot; , &amp;quot;arial&amp;quot; , sans-serif , &amp;quot;apple color emoji&amp;quot; , &amp;quot;segoe ui emoji&amp;quot; , &amp;quot;segoe ui symbol&amp;quot;; font-size: 16px;&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;br /&gt;&lt;h2 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-top: 24px; padding-bottom: 0.3em;&quot;&gt;3. 프로젝트 빌드&lt;/h2&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;이제 Lambda에 파일들을 배포하기 위해서 프로젝트를 빌드합니다.&lt;br /&gt;가운데 -- 만 있는거 꼭 넣어줘야한다고 합니다.&lt;/div&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; color: #24292e; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; margin-bottom: 16px; overflow: auto; padding: 16px; word-wrap: normal;&quot;&gt;&lt;code style=&quot;background: transparent; border-radius: 3px; border: 0px; box-sizing: border-box; display: inline; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; line-height: inherit; margin: 0px; overflow: visible; padding: 0px; word-break: normal; word-wrap: normal;&quot;&gt;yarn run build -- --release&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;빌드 명령을 수행하고 나면 build 폴더가 생성됩니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;이 build 폴더에 바로 전에 작성한 lambda.js 파일을 복사해서 넣어줍니다.&lt;br /&gt;&lt;br /&gt;그러고나서, build폴더 내부에서 yarn 명령으로 dependencies를 설치해줍니다.&lt;br /&gt;&lt;br /&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; font-size: 13.6px; font-stretch: normal; line-height: 1.45; margin-bottom: 16px; overflow: auto; padding: 16px; word-wrap: normal;&quot;&gt;&lt;code style=&quot;background: transparent; border-radius: 3px; border: 0px; box-sizing: border-box; display: inline; font-size: 13.6px; line-height: inherit; margin: 0px; overflow: visible; padding: 0px; word-break: normal; word-wrap: normal;&quot;&gt;cd build&lt;br /&gt;yarn&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;h2 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-top: 24px; padding-bottom: 0.3em;&quot;&gt;4. build 폴더 압축(zip)&lt;/h2&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;이제 build 폴더를 zip 파일로 압축해서 Lambda에 배포할 수 있게 준비합니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;어떤 압축 프로그램을 해도 좋지만 확장자가 .zip으로 되어야하고,&lt;br /&gt;압축 파일을 열었을 때 build 폴더가 보이는게 아니라 build 폴더의 내부 파일들이 최상위에 바로 보이게 압축해야합니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;h2 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-top: 24px; padding-bottom: 0.3em;&quot;&gt;5. AWS Lambda에 zip 파일 업로드&lt;/h2&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;AWS Lambda에 Function을 생성하고 코드를 압축 파일 업로드 방식으로 선택해서 방금 압축한 zip 파일을 업로드합니다.&lt;br /&gt;그리고 Configuration(구성)에서 handler(핸들러)를 lambda.handler로 설정해줍니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;h2 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-top: 24px; padding-bottom: 0.3em;&quot;&gt;6. API Gateway&lt;/h2&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;API Gateway를 이용해서 Lambda에 올린 React App에 접속합니다.&lt;br /&gt;API 구조는 아래 그림과 같이 구성합니다. 루트(/)에 Any method를 둔 것은 Web Application의 홈 화면을 접근하기 위해서이고, /{proxy+}는 루트 디렉토리 이외의 페이지에 접근하기 위해 필요합니다.&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-bjFMgGl9OQY/WZmZCvjBLCI/AAAAAAAABC0/Z3iKdTwoeFM0SrQ9FICUh97wVUDsIzz4ACEwYBhgL/s1600/image01.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;160&quot; data-original-width=&quot;202&quot; src=&quot;https://1.bp.blogspot.com/-bjFMgGl9OQY/WZmZCvjBLCI/AAAAAAAABC0/Z3iKdTwoeFM0SrQ9FICUh97wVUDsIzz4ACEwYBhgL/s1600/image01.JPG&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;h2 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-top: 24px; padding-bottom: 0.3em;&quot;&gt;7. 확인&lt;/h2&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;API Gateway 구성을 마쳤으면 할당된 URL을 이용해서 아래 주소로 접속해 봅니다.&lt;/div&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; color: #24292e; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; margin-bottom: 16px; overflow: auto; padding: 16px; word-wrap: normal;&quot;&gt;&lt;code style=&quot;background: transparent; border-radius: 3px; border: 0px; box-sizing: border-box; display: inline; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; line-height: inherit; margin: 0px; overflow: visible; padding: 0px; word-break: normal; word-wrap: normal;&quot;&gt;https://{할당된 주소}/about&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;본 글에서 사용한 프로젝트에서는 몇몇 코드를 지워서 그런지 홈화면이 없고 Error 페이지가 나타납니다. 그래서 about 페이지에 접근하여 정상동작을 확인합니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;about 페이지가 정상적으로 나타나면 성공입니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;h2 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-top: 24px; padding-bottom: 0.3em;&quot;&gt;마무리&lt;/h2&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;API Gateway에서 &#39;사용자 지정 도메인 이름&#39;을 사용하면 원하는 도메인으로 Lambda에 올린 Web Application에 접속할 수 있습니다. 어렵지 않으니 금방 하실거에요.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;개인적으로 Lambda에 Web Application을 올릴 수 있는게 너무 좋습니다. EC2에서 서비스 한다면 가용성을 높이기 위해 다수의 EC2로 서비스하고 ELB로 로드밸런싱도 걸어줘야 할텐데, Lambda에 올리면 그런 수고가 덜어지니 너무 편합니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;React Web App을 SSR 지원없이 서비스 한다면 S3에서 웹 호스팅으로 서비스 해도 될 테지만, Application 성격에 따라 SSR이 꼭 지원되야하면 Lambda가 너무 좋은 옵션인 것 같습니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;앞으로도 Serverless로 새로 알게되는 정보들이 있으면 열심히 정리해보겠습니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;감사합니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;h4 style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; line-height: 1.25; margin-bottom: 16px; margin-top: 24px;&quot;&gt;참고 링크&lt;/h4&gt;&lt;ul style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 0px !important; margin-top: 0px; padding-left: 2em;&quot;&gt;&lt;li style=&quot;box-sizing: border-box;&quot;&gt;aws-serverless-express 공식 Github&lt;ul style=&quot;box-sizing: border-box; margin-bottom: 0px; margin-top: 0px; padding-left: 2em;&quot;&gt;&lt;li style=&quot;box-sizing: border-box;&quot;&gt;&lt;a href=&quot;https://github.com/awslabs/aws-serverless-express&quot; style=&quot;box-sizing: border-box; color: #0366d6; text-decoration-line: none;&quot;&gt;https://github.com/awslabs/aws-serverless-express&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; margin-top: 0.25em;&quot;&gt;React-Starter-Kit 공식 Github&lt;ul style=&quot;box-sizing: border-box; margin-bottom: 0px; margin-top: 0px; padding-left: 2em;&quot;&gt;&lt;li style=&quot;box-sizing: border-box;&quot;&gt;&lt;a href=&quot;https://github.com/kriasoft/react-starter-kit&quot; style=&quot;box-sizing: border-box; color: #0366d6; text-decoration-line: none;&quot;&gt;https://github.com/kriasoft/react-starter-kit&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;</content><link rel='replies' type='application/atom+xml' href='https://walkinpcm.blogspot.com/feeds/2866437931227059500/comments/default' title='댓글'/><link rel='replies' type='text/html' href='https://walkinpcm.blogspot.com/2017/08/awsaws-lambda-express-react-application.html#comment-form' title='0개의 덧글'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/3470089366387037599/posts/default/2866437931227059500'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/3470089366387037599/posts/default/2866437931227059500'/><link rel='alternate' type='text/html' href='https://walkinpcm.blogspot.com/2017/08/awsaws-lambda-express-react-application.html' title='[AWS]AWS Lambda에 Express 위에서 작동하는 React Application 업로드(배포) 하는 방법'/><author><name>Unknown</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='https://img1.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://1.bp.blogspot.com/-bjFMgGl9OQY/WZmZCvjBLCI/AAAAAAAABC0/Z3iKdTwoeFM0SrQ9FICUh97wVUDsIzz4ACEwYBhgL/s72-c/image01.JPG" height="72" width="72"/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-3470089366387037599.post-1486619935858826018</id><published>2017-08-08T00:15:00.000-07:00</published><updated>2017-08-08T00:15:12.092-07:00</updated><category scheme="http://www.blogger.com/atom/ns#" term="[011. AWS]"/><title type='text'>[AWS] Apex 시작하기</title><content type='html'>&lt;h1 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-left: 0px; margin-right: 0px; margin-top: 0px !important; padding-bottom: 0.3em;&quot;&gt;&lt;span style=&quot;color: #cc0000;&quot;&gt;Apex 시작하기&lt;/span&gt;&lt;/h1&gt;&lt;h2 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-top: 24px; padding-bottom: 0.3em;&quot;&gt;Apex 란?&lt;/h2&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;Apex는 AWS Lambda Function을 로컬PC에서 빌드하고, 배포하고, 관리하는 Tool입니다.&lt;/div&gt;&lt;blockquote style=&quot;border-left: 0.25em solid rgb(223, 226, 229); box-sizing: border-box; color: #6a737d; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin: 0px 0px 16px; padding: 0px 1em;&quot;&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;공식 Github Repository&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;&lt;a href=&quot;https://github.com/apex/apex&quot; style=&quot;box-sizing: border-box; color: #0366d6; text-decoration-line: none;&quot;&gt;https://github.com/apex/apex&lt;/a&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;본 글에서는 Apex을 설치하고 이를 이용하여 AWS Lambda에 Function을 배포하는 절차를 정리해보려 합니다.&lt;/div&gt;&lt;h2 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-top: 24px; padding-bottom: 0.3em;&quot;&gt;1. Apex 설치&lt;/h2&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;저는 Windows 환경에서 진행합니다. 그래서 설치가 명령어 한줄 입력하는 게 아니라,&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;&lt;a href=&quot;https://github.com/apex/apex/releases&quot; style=&quot;box-sizing: border-box; color: #0366d6; text-decoration-line: none;&quot;&gt;https://github.com/apex/apex/releases&lt;/a&gt;&amp;nbsp;에서 운영체제에 맞는 설치파일을 다운받아야합니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;저는&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;apex_windows_amd64.exe&lt;/code&gt;를 받았습니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;근데, exe를 받았는데 이걸로 설치하는 형식이 아닙니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;단순히 cmd 또는 powershell로 열어서 저 파일명 전체를 명령어로 사용하는 것입니다. 아래 처럼요.&lt;/div&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; color: #24292e; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; margin-bottom: 16px; overflow: auto; padding: 16px; word-wrap: normal;&quot;&gt;&lt;code style=&quot;background: transparent; border-radius: 3px; border: 0px; box-sizing: border-box; display: inline; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; line-height: inherit; margin: 0px; overflow: visible; padding: 0px; word-break: normal; word-wrap: normal;&quot;&gt;PS C:\{파일경로}&amp;gt; .\apex_windows_amd64.exe version&lt;br /&gt;Apex version 0.15.0&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;참으로 불편하지요...&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;다행히 Powershell에서는 명령어 Alias 설정이 가능합니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;아래와 같이 하면 apex 만 입력해도 apex 명령어 사용이 가능합니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;절대경로로 입력해야 어떤 디렉토리 위치에서도 apex 명령어를 사용할 수 있습니다.&lt;/div&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; color: #24292e; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; margin-bottom: 16px; overflow: auto; padding: 16px; word-wrap: normal;&quot;&gt;&lt;code style=&quot;background: transparent; border-radius: 3px; border: 0px; box-sizing: border-box; display: inline; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; line-height: inherit; margin: 0px; overflow: visible; padding: 0px; word-break: normal; word-wrap: normal;&quot;&gt;Set-Alias apex {apex이 설치된 절대경로}\apex_windows_amd64.exe&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h2 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-top: 24px; padding-bottom: 0.3em;&quot;&gt;2. Apex에 AWS credentials 설정&lt;/h2&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;AWS CLI에 AWS credentials 정보만 잘 기입하면 됩니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;Apex은 단지 AWS CLI를 이용할 뿐인거 같습니다. 그러니 AWS CLI에 credentials 정보를 잘 설정해줘야합니다.&lt;/div&gt;&lt;h2 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-top: 24px; padding-bottom: 0.3em;&quot;&gt;3. 사용자 계정에 필수 권한 부여&lt;/h2&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;AWS CLI에 입력한 사용자 계정은 아래 권한이 필수적으로 있어야 Apex 사용이 가능합니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;Apex을 사용하기 위한 최소한의 권한입니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;IAM에서 새로운 Policy를 생성하여 아래 JSON 문서를 넣어주고 해당 Policy를 AWS CLI에 등록한 사용자 계정에게 부여하면 좋습니다.&lt;/div&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; color: #24292e; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; margin-bottom: 16px; overflow: auto; padding: 16px; word-wrap: normal;&quot;&gt;&lt;code style=&quot;background: transparent; border-radius: 3px; border: 0px; box-sizing: border-box; display: inline; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; line-height: inherit; margin: 0px; overflow: visible; padding: 0px; word-break: normal; word-wrap: normal;&quot;&gt;{&lt;br /&gt;  &quot;Version&quot;: &quot;2012-10-17&quot;,&lt;br /&gt;  &quot;Statement&quot;: [&lt;br /&gt;    {&lt;br /&gt;      &quot;Action&quot;: [&lt;br /&gt;        &quot;iam:CreateRole&quot;,&lt;br /&gt;        &quot;iam:CreatePolicy&quot;,&lt;br /&gt;        &quot;iam:AttachRolePolicy&quot;,&lt;br /&gt;        &quot;iam:PassRole&quot;,&lt;br /&gt;        &quot;lambda:GetFunction&quot;,&lt;br /&gt;        &quot;lambda:ListFunctions&quot;,&lt;br /&gt;        &quot;lambda:CreateFunction&quot;,&lt;br /&gt;        &quot;lambda:DeleteFunction&quot;,&lt;br /&gt;        &quot;lambda:InvokeFunction&quot;,&lt;br /&gt;        &quot;lambda:GetFunctionConfiguration&quot;,&lt;br /&gt;        &quot;lambda:UpdateFunctionConfiguration&quot;,&lt;br /&gt;        &quot;lambda:UpdateFunctionCode&quot;,&lt;br /&gt;        &quot;lambda:CreateAlias&quot;,&lt;br /&gt;        &quot;lambda:UpdateAlias&quot;,&lt;br /&gt;        &quot;lambda:GetAlias&quot;,&lt;br /&gt;        &quot;lambda:ListAliases&quot;,&lt;br /&gt;        &quot;lambda:ListVersionsByFunction&quot;,&lt;br /&gt;        &quot;logs:FilterLogEvents&quot;,&lt;br /&gt;        &quot;cloudwatch:GetMetricStatistics&quot;&lt;br /&gt;      ],&lt;br /&gt;      &quot;Effect&quot;: &quot;Allow&quot;,&lt;br /&gt;      &quot;Resource&quot;: &quot;*&quot;&lt;br /&gt;    }&lt;br /&gt;  ]&lt;br /&gt;}&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h2 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-top: 24px; padding-bottom: 0.3em;&quot;&gt;4. Apex 프로젝트 생성&lt;/h2&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;Apex을 이용한 프로젝트는 아래 명령어로 시작합니다.&lt;/div&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; color: #24292e; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; margin-bottom: 16px; overflow: auto; padding: 16px; word-wrap: normal;&quot;&gt;&lt;code style=&quot;background: transparent; border-radius: 3px; border: 0px; box-sizing: border-box; display: inline; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; line-height: inherit; margin: 0px; overflow: visible; padding: 0px; word-break: normal; word-wrap: normal;&quot;&gt;apex init&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;init 명령을 입력하면 아래와 같은 화면이 출력됩니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Project name&lt;/code&gt;과&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Project description&lt;/code&gt;을 입력하면 apex이 자동으로 필요한 role과 policy를 aws에 생성하고, 기본 파일구조를 생성합니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;이때 생성되는 role과 policy는 CloudWatch에 Log를 남길 수 있는 권한입니다.&lt;/div&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; color: #24292e; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; margin-bottom: 16px; overflow: auto; padding: 16px; word-wrap: normal;&quot;&gt;&lt;code style=&quot;background: transparent; border-radius: 3px; border: 0px; box-sizing: border-box; display: inline; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; line-height: inherit; margin: 0px; overflow: visible; padding: 0px; word-break: normal; word-wrap: normal;&quot;&gt;PS C:\&amp;gt; apex init&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;             _    ____  _______  __&lt;br /&gt;            / \  |  _ \| ____\ \/ /&lt;br /&gt;           / _ \ | |_) |  _|  \  /&lt;br /&gt;          / ___ \|  __/| |___ /  \&lt;br /&gt;         /_/   \_\_|   |_____/_/\_\&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;  Enter the name of your project. It should be machine-friendly, as this&lt;br /&gt;  is used to prefix your functions in Lambda.&lt;br /&gt;&lt;br /&gt;    Project name: pcm-tutorial&lt;br /&gt;&lt;br /&gt;  Enter an optional description of your project.&lt;br /&gt;&lt;br /&gt;    Project description: This is test project.&lt;br /&gt;&lt;br /&gt;  [+] creating IAM pcm-tutorial_lambda_function role&lt;br /&gt;  [+] creating IAM pcm-tutorial_lambda_logs policy&lt;br /&gt;  [+] attaching policy to lambda_function role.&lt;br /&gt;  [+] creating ./project.json&lt;br /&gt;  [+] creating ./functions&lt;br /&gt;&lt;br /&gt;  Setup complete, deploy those functions!&lt;br /&gt;&lt;br /&gt;    $ apex deploy&lt;br /&gt;&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;프로젝트를 생성하면 기본 예제가 함께 생성되는데,&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;위 출력문의 제일 마지막에 있는&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;apex deploy&lt;/code&gt;를 실행하면, 이 기본 예제가 AWS Lambda에 배포됩니다.&lt;/div&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; color: #24292e; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; margin-bottom: 16px; overflow: auto; padding: 16px; word-wrap: normal;&quot;&gt;&lt;code style=&quot;background: transparent; border-radius: 3px; border: 0px; box-sizing: border-box; display: inline; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; line-height: inherit; margin: 0px; overflow: visible; padding: 0px; word-break: normal; word-wrap: normal;&quot;&gt;PS C:\&amp;gt; apex deploy&lt;br /&gt;   • creating function         env= function=hello&lt;br /&gt;   • created alias current     env= function=hello version=1&lt;br /&gt;   • function created          env= function=hello name=pcm-tutorial_hello version=1&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;Apex을 이용하면 AWS Lambda를 호출하는 것도가능합니다. 방금 배포한 예제를 호출해 볼 수 있습니다.&lt;/div&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; color: #24292e; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; margin-bottom: 16px; overflow: auto; padding: 16px; word-wrap: normal;&quot;&gt;&lt;code style=&quot;background: transparent; border-radius: 3px; border: 0px; box-sizing: border-box; display: inline; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; line-height: inherit; margin: 0px; overflow: visible; padding: 0px; word-break: normal; word-wrap: normal;&quot;&gt;apex invoke hello&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;아래 결과를 응답 받습니다.&lt;/div&gt;&lt;div class=&quot;highlight highlight-source-json&quot; style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; overflow: auto; padding: 16px; word-break: normal; word-wrap: normal;&quot;&gt;{&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #032f62;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;hello&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;:&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #032f62;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;world&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;}&lt;/pre&gt;&lt;/div&gt;&lt;h2 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-top: 24px; padding-bottom: 0.3em;&quot;&gt;5. Apex 프로젝트 기본 파일 구조&lt;/h2&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;Apex 프로젝트의 기본 구조는 다음과 같습니다.&lt;/div&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; color: #24292e; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; margin-bottom: 16px; overflow: auto; padding: 16px; word-wrap: normal;&quot;&gt;&lt;code style=&quot;background: transparent; border-radius: 3px; border: 0px; box-sizing: border-box; display: inline; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; line-height: inherit; margin: 0px; overflow: visible; padding: 0px; word-break: normal; word-wrap: normal;&quot;&gt;project.json&lt;br /&gt;functions&lt;br /&gt;├── bar&lt;br /&gt;│   ├── function.json&lt;br /&gt;│   └── index.js&lt;br /&gt;└── foo&lt;br /&gt;    ├── function.json&lt;br /&gt;    └── index.js&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;project.json&lt;/code&gt;파일에는 프로젝트의 이름과 설명, 그리고 프로젝트 레벨의 설정들이 있습니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;functions&lt;/code&gt;폴더 하위에 여러 Lambda 함수들이 위치합니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;위 예제 구조에서는 bar 함수와 foo 함수가 있습니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;각 Lambda 함수에는 함수를 수행하는 index.js파일과 함수의 설정 파일인 function.json이 있습니다.&lt;/div&gt;&lt;h2 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-top: 24px; padding-bottom: 0.3em;&quot;&gt;마무리&lt;/h2&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;Apex에서 기본 예제를 제공해주고, Apex 공식 홈페이지(&lt;a href=&quot;http://apex.run/&quot; style=&quot;box-sizing: border-box; color: #0366d6; text-decoration-line: none;&quot;&gt;http://apex.run&lt;/a&gt;)을&amp;nbsp;보면 Apex 설정부터 사용까지 자세하게 잘 나와 있어서 잘 알아두면 Lambda를 편리하게 사용할 수 있을 것 같습니다.&lt;/div&gt;&lt;h3 style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 1.25em; line-height: 1.25; margin-bottom: 16px; margin-top: 24px;&quot;&gt;참고 링크&lt;/h3&gt;&lt;ul style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 0px !important; margin-top: 0px; padding-left: 2em;&quot;&gt;&lt;li style=&quot;box-sizing: border-box;&quot;&gt;Apex 공식 홈페이지&lt;ul style=&quot;box-sizing: border-box; margin-bottom: 0px; margin-top: 0px; padding-left: 2em;&quot;&gt;&lt;li style=&quot;box-sizing: border-box;&quot;&gt;&lt;a href=&quot;http://apex.run/&quot; style=&quot;box-sizing: border-box; color: #0366d6; text-decoration-line: none;&quot;&gt;http://apex.run&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; margin-top: 0.25em;&quot;&gt;Apex Github Repository&lt;ul style=&quot;box-sizing: border-box; margin-bottom: 0px; margin-top: 0px; padding-left: 2em;&quot;&gt;&lt;li style=&quot;box-sizing: border-box;&quot;&gt;&lt;a href=&quot;https://github.com/apex/apex&quot; style=&quot;box-sizing: border-box; color: #0366d6; text-decoration-line: none;&quot;&gt;https://github.com/apex/apex&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; margin-top: 0.25em;&quot;&gt;Apex - AWS Lambda 관리도구 #1&lt;ul style=&quot;box-sizing: border-box; margin-bottom: 0px; margin-top: 0px; padding-left: 2em;&quot;&gt;&lt;li style=&quot;box-sizing: border-box;&quot;&gt;&lt;a href=&quot;https://blog.outsider.ne.kr/1241&quot; style=&quot;box-sizing: border-box; color: #0366d6; text-decoration-line: none;&quot;&gt;https://blog.outsider.ne.kr/1241&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;</content><link rel='replies' type='application/atom+xml' href='https://walkinpcm.blogspot.com/feeds/1486619935858826018/comments/default' title='댓글'/><link rel='replies' type='text/html' href='https://walkinpcm.blogspot.com/2017/08/aws-apex.html#comment-form' title='0개의 덧글'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/3470089366387037599/posts/default/1486619935858826018'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/3470089366387037599/posts/default/1486619935858826018'/><link rel='alternate' type='text/html' href='https://walkinpcm.blogspot.com/2017/08/aws-apex.html' title='[AWS] Apex 시작하기'/><author><name>Unknown</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='https://img1.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-3470089366387037599.post-5786210840150341014</id><published>2017-08-07T02:30:00.002-07:00</published><updated>2017-08-07T02:30:31.748-07:00</updated><category scheme="http://www.blogger.com/atom/ns#" term="[011. AWS]"/><title type='text'>[AWS] AWS CLI(Command Line Interface) 시작하기</title><content type='html'>&lt;h1 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-left: 0px; margin-right: 0px; margin-top: 0px !important; padding-bottom: 0.3em;&quot;&gt;&lt;span style=&quot;color: #cc0000;&quot;&gt;AWS CLI(Command Line Interface) 시작하기&lt;/span&gt;&lt;/h1&gt;&lt;h2 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-top: 24px; padding-bottom: 0.3em;&quot;&gt;AWS CLI란?&lt;/h2&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;AWS 명령줄 인터페이스(CLI)는 AWS 서비스를 관리하는 통합 도구입니다. 도구 하나만 다운로드하여 구성하면 여러 AWS 서비스를 명령줄에서 제어하고 스크립트를 통해 자동화할 수 있습니다.&lt;br /&gt;(&amp;nbsp;&lt;a href=&quot;https://aws.amazon.com/ko/cli/&quot; style=&quot;box-sizing: border-box; color: #0366d6; text-decoration-line: none;&quot;&gt;https://aws.amazon.com/ko/cli/&lt;/a&gt;&amp;nbsp;)&lt;/div&gt;&lt;h2 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-top: 24px; padding-bottom: 0.3em;&quot;&gt;1. AWS CLI 설치&lt;/h2&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;Windows 64bit 는 msi 설치파일로 설치합니다.&lt;br /&gt;위 링크에서 다운로드 가능합니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;설치과정에서는 특별한 설정이 필요 없습니다. 그냥 동의함 잘 누르고 Next 잘 누르고 Install 잘 누르면 설치가 간단히 끝납니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;설치 확인은 cmd 또는 powershell을 열고, 아래 명령어로 확인합니다.&lt;/div&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; color: #24292e; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; margin-bottom: 16px; overflow: auto; padding: 16px; word-wrap: normal;&quot;&gt;&lt;code style=&quot;background: transparent; border-radius: 3px; border: 0px; box-sizing: border-box; display: inline; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; line-height: inherit; margin: 0px; overflow: visible; padding: 0px; word-break: normal; word-wrap: normal;&quot;&gt;aws --version&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h2 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-top: 24px; padding-bottom: 0.3em;&quot;&gt;2. AWS CLI에 AWS 계정 정보 설정하기&lt;/h2&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;aws-cli에 AWS 계정을 연결해야합니다.&lt;br /&gt;configure 명령으로 정보를 기입하면 되는데, 필요한 정보를 먼저 준비합니다.&lt;/div&gt;&lt;h3 style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 1.25em; line-height: 1.25; margin-bottom: 16px; margin-top: 24px;&quot;&gt;2-1. IAM User 생성&lt;/h3&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;AWS Console에서 IAM에 접속합니다.&lt;br /&gt;왼쪽&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Users&lt;/code&gt;&amp;nbsp;메뉴를 누릅니다.&lt;br /&gt;기존에 생성된 User가 CLI를 사용하게 하려면 해당 User의 Access Key와 Secret Key를 준비하면 됩니다.&lt;br /&gt;기존에 생성된 User가 없거나 새로 생성해서 CLI를 사용하게 하려면&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Add user&lt;/code&gt;를 눌러서 새로운 사용자를 만드는 절차에 들어갑니다.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-nwSbFCdLuuU/WYgyyTK_vJI/AAAAAAAABB4/KBn3rkEnzfA2vibuEmFkuPYL9WXzbS1BQCLcBGAs/s1600/image01.PNG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;363&quot; data-original-width=&quot;491&quot; height=&quot;295&quot; src=&quot;https://3.bp.blogspot.com/-nwSbFCdLuuU/WYgyyTK_vJI/AAAAAAAABB4/KBn3rkEnzfA2vibuEmFkuPYL9WXzbS1BQCLcBGAs/s400/image01.PNG&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;User name&lt;/code&gt;에 추가할 사용자의 이름(ID)를 입력합니다.&lt;br /&gt;아래&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Access type&lt;/code&gt;에서는&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Programmatic access&lt;/code&gt;를 반드시 선택합니다. 설명에도 나와있듯이 이 항목을 선택해야 지금 생성하는 사용자가 CLI를 이용할 수 있습니다.&lt;br /&gt;만일 사용자가 AWS Console에서도 AWS 서비스를 이용하게 하려면&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;AWS Management Console access&lt;/code&gt;항목도 선택해주면 됩니다.&lt;br /&gt;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Next: Permissions&lt;/code&gt;를 눌러서 다음 단계로 갑니다.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-80ju5i5g9hI/WYgyyuH-u1I/AAAAAAAABCA/DqME-igVR7AoRsQcvMoTChp4kjwqCjtmwCEwYBhgL/s1600/image02.PNG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;658&quot; data-original-width=&quot;1209&quot; height=&quot;347&quot; src=&quot;https://1.bp.blogspot.com/-80ju5i5g9hI/WYgyyuH-u1I/AAAAAAAABCA/DqME-igVR7AoRsQcvMoTChp4kjwqCjtmwCEwYBhgL/s640/image02.PNG&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;다음 단계는 지금 생성하는 사용자에게 AWS 자원에 접근할 수 있는 권한을 주는 것입니다.&lt;br /&gt;권한을 주는 방식이 3가지가 있습니다.&lt;br /&gt;첫번째는 지금 생성하는 사용자를 이전에 만들어 놓은 그룹에 추가시키는 것입니다.&lt;br /&gt;그렇게 하면 해당 그룹이 가지고 있는 권한이 자동으로 사용자에게도 적용됩니다.&lt;br /&gt;두번째는 이전에 만들어 놓은 사용자에게 부여한 권한을 복사해서 지금 생성하는 사용자에게 부여하는 것입니다.&lt;br /&gt;세번째는 지금 생성하는 사용자에게 바로 Policy(권한 정책)을 부여하는 것입니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;저는 3번째 방법으로 진행하였습니다.&lt;br /&gt;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Next: Review&lt;/code&gt;를 선택하여 다음 단계로 갑니다.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-PyH1hshLH5o/WYgyyi3dvrI/AAAAAAAABB8/mNmCJwy1UeMTRISIP3sgr7qBSAqzbyivQCEwYBhgL/s1600/image03.PNG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;1054&quot; data-original-width=&quot;1196&quot; height=&quot;564&quot; src=&quot;https://4.bp.blogspot.com/-PyH1hshLH5o/WYgyyi3dvrI/AAAAAAAABB8/mNmCJwy1UeMTRISIP3sgr7qBSAqzbyivQCEwYBhgL/s640/image03.PNG&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;다음 단계는 그냥 입력한 내용들을 Review 하는 것입니다.&lt;br /&gt;확인하고 이상없으면&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Create user&lt;/code&gt;&amp;nbsp;버튼을 누릅니다.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-JyFtnCh5Mvg/WYgyzPi_2sI/AAAAAAAABCE/Sd_MFV-QkvI7ErFdTlY560QSmCCYiUnjQCEwYBhgL/s1600/image04.PNG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;585&quot; data-original-width=&quot;1193&quot; height=&quot;312&quot; src=&quot;https://4.bp.blogspot.com/-JyFtnCh5Mvg/WYgyzPi_2sI/AAAAAAAABCE/Sd_MFV-QkvI7ErFdTlY560QSmCCYiUnjQCEwYBhgL/s640/image04.PNG&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;성공적으로 사용자를 새로 생성하면 해당 사용자의&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Access key ID&lt;/code&gt;와&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Secret access key&lt;/code&gt;를 확인 할 수 있고, csv 파일로 다운로드 할 수 있습니다.&lt;br /&gt;주의할 점은 현재 페이지에서만 Secret access key를 확인할 수 있고, 다운로드 할 수 있다는 것입니다.&lt;br /&gt;보안상 Secret access key는 최초에 한번만 알려주며, 나중에 잊어버리면 새로 Access key ID와 Secret access key를 발급받아야합니다.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-XdyAXxBu2jg/WYgyzW9NV3I/AAAAAAAABCI/vHjRKPYEvAU1V8hF-EH9eRk-yihQ86MVQCEwYBhgL/s1600/image05.PNG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;561&quot; data-original-width=&quot;1193&quot; height=&quot;300&quot; src=&quot;https://1.bp.blogspot.com/-XdyAXxBu2jg/WYgyzW9NV3I/AAAAAAAABCI/vHjRKPYEvAU1V8hF-EH9eRk-yihQ86MVQCEwYBhgL/s640/image05.PNG&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;&lt;/div&gt;&lt;h3 style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 1.25em; line-height: 1.25; margin-bottom: 16px; margin-top: 24px;&quot;&gt;2-2. AWS CLI에 사용자 정보 설정하기&lt;/h3&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;aws-cli를 이용하기 위해서는 당연히 어떤 사용자 계정의 리소스에 접근할지 aws-cli가 알아야합니다.&lt;br /&gt;그 설정을 아래 명령어로 진행합니다.&lt;/div&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; color: #24292e; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; margin-bottom: 16px; overflow: auto; padding: 16px; word-wrap: normal;&quot;&gt;&lt;code style=&quot;background: transparent; border-radius: 3px; border: 0px; box-sizing: border-box; display: inline; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; line-height: inherit; margin: 0px; overflow: visible; padding: 0px; word-break: normal; word-wrap: normal;&quot;&gt;aws configure&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;명령어를 입력하면 아래 항목들을 하나씩 묻습니다.&lt;br /&gt;위에서 생성한 Access Key ID, Secret Access Key를 입력하고, Default region name은 주로 사용하는 리전 이름을 입력합니다. region 이름은 Seoul 같이 지역명을 입력하는게 아니고&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;ap-northeast-2&lt;/code&gt;와 같은 이름을 입력합니다. ap-northeast-2 는 서울리전입니다.&lt;br /&gt;Default output format은 비워두셔도 좋습니다.&lt;/div&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; color: #24292e; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; margin-bottom: 16px; overflow: auto; padding: 16px; word-wrap: normal;&quot;&gt;&lt;code style=&quot;background: transparent; border-radius: 3px; border: 0px; box-sizing: border-box; display: inline; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; line-height: inherit; margin: 0px; overflow: visible; padding: 0px; word-break: normal; word-wrap: normal;&quot;&gt;AWS Access Key ID [None]: &lt;br /&gt;AWS Secret Access Key [None]: &lt;br /&gt;Default region name [None]: ap-northeast-2&lt;br /&gt;Default output format [None]:&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h3 style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 1.25em; line-height: 1.25; margin-bottom: 16px; margin-top: 24px;&quot;&gt;3. AWS CLI를 이용한 S3 버킷 리스트 확인하기&lt;/h3&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;AWS CLI를 설치하고 필요한 정보를 설정했으니, AWS CLI를 이용하여 AWS 서비스에 접근할 수 있습니다.&lt;br /&gt;다만 위에서 사용자 계정이 권한을 할당 받은 서비스만 이용할 수 있습니다.&lt;br /&gt;저는 S3 접근 권한을 줬습니다. 그래서 S3 버킷 리스트를 확인해보겠습니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;aws-cli에서 S3를 제어 할 수 있는 명령어 목록은 다음 링크에서 확인 할 수 있습니다.&lt;br /&gt;&lt;a href=&quot;http://docs.aws.amazon.com/cli/latest/reference/s3/#available-commands&quot; style=&quot;box-sizing: border-box; color: #0366d6; text-decoration-line: none;&quot;&gt;http://docs.aws.amazon.com/cli/latest/reference/s3/#available-commands&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;버킷 리스트를 확인하는 것은 엄청 간단합니다.&lt;/div&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; color: #24292e; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; margin-bottom: 16px; overflow: auto; padding: 16px; word-wrap: normal;&quot;&gt;&lt;code style=&quot;background: transparent; border-radius: 3px; border: 0px; box-sizing: border-box; display: inline; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; line-height: inherit; margin: 0px; overflow: visible; padding: 0px; word-break: normal; word-wrap: normal;&quot;&gt;aws s3 ls&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;위 명령어 하나면 버킷 리스트가 출력됩니다.&lt;/div&gt;&lt;h3 style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 1.25em; line-height: 1.25; margin-bottom: 16px; margin-top: 24px;&quot;&gt;마무리&lt;/h3&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;저도 AWS CLI를 그간 외면아닌 외면을 하다가 이제 써보려고 하는데,&lt;br /&gt;Console에서 하나씩 서비스 사용법 알아간거 처럼 CLI도 하나씩 파고 나가면 재밌을 거 같습니다 ㅎㅎ&lt;/div&gt;&lt;h3 style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 1.25em; line-height: 1.25; margin-bottom: 16px; margin-top: 24px;&quot;&gt;참고링크&lt;/h3&gt;&lt;ul style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 0px !important; margin-top: 0px; padding-left: 2em;&quot;&gt;&lt;li style=&quot;box-sizing: border-box;&quot;&gt;&lt;div style=&quot;box-sizing: border-box; margin-bottom: 16px; margin-top: 16px;&quot;&gt;AWS CLI 설치하기&lt;/div&gt;&lt;ul style=&quot;box-sizing: border-box; margin-bottom: 0px; margin-top: 0px; padding-left: 2em;&quot;&gt;&lt;li style=&quot;box-sizing: border-box;&quot;&gt;&lt;a href=&quot;https://freegians.wordpress.com/2016/10/28/aws-cli-%EC%84%A4%EC%B9%98%ED%95%98%EA%B8%B0/&quot; style=&quot;box-sizing: border-box; color: #0366d6; text-decoration-line: none;&quot;&gt;https://freegians.wordpress.com/2016/10/28/aws-cli-%EC%84%A4%EC%B9%98%ED%95%98%EA%B8%B0/&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; margin-top: 0.25em;&quot;&gt;&lt;div style=&quot;box-sizing: border-box; margin-bottom: 16px; margin-top: 16px;&quot;&gt;S3 commands on AWS CLI&lt;/div&gt;&lt;ul style=&quot;box-sizing: border-box; margin-bottom: 0px; margin-top: 0px; padding-left: 2em;&quot;&gt;&lt;li style=&quot;box-sizing: border-box;&quot;&gt;&lt;a href=&quot;http://docs.aws.amazon.com/cli/latest/reference/s3/#available-commands&quot; style=&quot;box-sizing: border-box; color: #0366d6; text-decoration-line: none;&quot;&gt;http://docs.aws.amazon.com/cli/latest/reference/s3/#available-commands&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;</content><link rel='replies' type='application/atom+xml' href='https://walkinpcm.blogspot.com/feeds/5786210840150341014/comments/default' title='댓글'/><link rel='replies' type='text/html' href='https://walkinpcm.blogspot.com/2017/08/aws-aws-clicommand-line-interface.html#comment-form' title='0개의 덧글'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/3470089366387037599/posts/default/5786210840150341014'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/3470089366387037599/posts/default/5786210840150341014'/><link rel='alternate' type='text/html' href='https://walkinpcm.blogspot.com/2017/08/aws-aws-clicommand-line-interface.html' title='[AWS] AWS CLI(Command Line Interface) 시작하기'/><author><name>Unknown</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='https://img1.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://3.bp.blogspot.com/-nwSbFCdLuuU/WYgyyTK_vJI/AAAAAAAABB4/KBn3rkEnzfA2vibuEmFkuPYL9WXzbS1BQCLcBGAs/s72-c/image01.PNG" height="72" width="72"/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-3470089366387037599.post-2039210220583008240</id><published>2017-06-13T00:16:00.000-07:00</published><updated>2017-06-23T01:34:08.047-07:00</updated><category scheme="http://www.blogger.com/atom/ns#" term="[007. Javascript]"/><category scheme="http://www.blogger.com/atom/ns#" term="[011. AWS]"/><title type='text'>[AWS] AWS S3를 Origin으로 설정한 CloudFront의 컨텐츠 갱신</title><content type='html'>&lt;h1 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-left: 0px; margin-right: 0px; margin-top: 0px !important; padding-bottom: 0.3em;&quot;&gt;&lt;span style=&quot;color: #cc0000;&quot;&gt;AWS S3를 Origin으로 설정한 CloudFront의 컨텐츠 갱신&lt;/span&gt;&lt;/h1&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;이전 포스팅에서 AWS S3를 Origin으로 설정해서 CloudFront의 distribution을 생성하는 방법을 정리해보았습니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;(링크 :&amp;nbsp;&lt;a href=&quot;https://walkinpcm.blogspot.kr/2017/06/aws-aws-s3-static-website-hosting.html&quot; style=&quot;box-sizing: border-box; color: #0366d6; text-decoration-line: none;&quot;&gt;https://walkinpcm.blogspot.kr/2017/06/aws-aws-s3-static-website-hosting.html&lt;/a&gt;)&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;그런데 해당 포스팅을 공유했던 페이스북 게시글을 통해서 S3의 파일을 갱신했을 때 CloudFront에는 어떻게 갱신(재배포)하는지 질문을 주셨습니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;해당 질문에 관해서 감사하게도 여러 분들께서 좋은 답변을 주셔서 저도 도움이 많이 되었습니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;그래서 이번 포스팅에서 그 S3의 파일이 갱신되었을 때, CloudFront에 어떻게 갱신하는지 정리해보려합니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;&lt;/div&gt;&lt;h2 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-top: 24px; padding-bottom: 0.3em;&quot;&gt;1. CloudFront의 기본 캐싱 기간&lt;/h2&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;CloudFront에 배포된 컨텐츠는 기본적으로 24시간 동안 캐싱된다고 합니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;그래서 S3의 원본 파일을 갱신하면 24시간 후에는 갱신한 파일로 변경됩니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;&lt;/div&gt;&lt;h2 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-top: 24px; padding-bottom: 0.3em;&quot;&gt;2. 즉시 CloudFront 배포의 캐시를 지우기&lt;/h2&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;이 방법은 CloudFront의 배포(distribution)에 저장되어 있는 캐시를 즉시 지워버려서 클라이언트의 요청이 들어왔을 때, 새롭게 Origin에서 컨텐츠를 가져오도록 하는 방법입니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;배포된 캐시를 지우려면&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Invalidations&lt;/code&gt;&amp;nbsp;기능을 이용합니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;배포의 Invalidations 탭에서&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Create Invalidation&lt;/code&gt;을 클릭합니다.&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-aQE7o53mwS8/WT-QX-pH_xI/AAAAAAAAA5Y/5TsDVosMjGsuH-DdXaGLgIUkL4Tqt0rHwCLcB/s1600/image01.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;283&quot; data-original-width=&quot;873&quot; height=&quot;206&quot; src=&quot;https://1.bp.blogspot.com/-aQE7o53mwS8/WT-QX-pH_xI/AAAAAAAAA5Y/5TsDVosMjGsuH-DdXaGLgIUkL4Tqt0rHwCLcB/s640/image01.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Object Paths&lt;/code&gt;에 친절하게 입력 예시가 나오는데, 예시처럼 특정 파일을 입력하거나 와일드카드(*)를 이용하여 경로를 입력하고&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Invalidate&lt;/code&gt;를 클릭하면 입력한 파일들이 바로 배포에서 지워집니다.&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-MMsPwhFBUCo/WT-QXgCNoKI/AAAAAAAAA5U/yZwpY8UY9YwY2U4YQGQPq37eAwO0KljuwCEw/s1600/image02.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;368&quot; data-original-width=&quot;590&quot; height=&quot;248&quot; src=&quot;https://3.bp.blogspot.com/-MMsPwhFBUCo/WT-QXgCNoKI/AAAAAAAAA5U/yZwpY8UY9YwY2U4YQGQPq37eAwO0KljuwCEw/s400/image02.jpg&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;입력 예시는 공식 문서에 자세하게 나와있습니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;(링크(&#39;무효화 경로&#39;를 찾으세요) :&amp;nbsp;&lt;a href=&quot;http://docs.aws.amazon.com/ko_kr/AmazonCloudFront/latest/DeveloperGuide/Invalidation.html#invalidation-specifying-objects&quot; style=&quot;box-sizing: border-box; color: #0366d6; text-decoration-line: none;&quot;&gt;http://docs.aws.amazon.com/ko_kr/AmazonCloudFront/latest/DeveloperGuide/Invalidation.html#invalidation-specifying-objects&lt;/a&gt;&amp;nbsp;)&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;Invalidate를 하자마자는 Status가 &#39;In Progress&#39;라고 표시되는데, 모든 엣지에서 지워지면 &#39;Completed&#39;로 변경됩니다.&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-Y-t2A16iJLk/WT-QXl4en-I/AAAAAAAAA5Q/Nozdh-iMgTkIAxALXs0GFFmOd5zPzqRUACEw/s1600/image03.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;285&quot; data-original-width=&quot;1157&quot; height=&quot;156&quot; src=&quot;https://2.bp.blogspot.com/-Y-t2A16iJLk/WT-QXl4en-I/AAAAAAAAA5Q/Nozdh-iMgTkIAxALXs0GFFmOd5zPzqRUACEw/s640/image03.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-bpUUuWbWZ30/WT-QYSvehUI/AAAAAAAAA5k/fud3Q4dlqzsSkVGjeifntNmObNm4S1pSQCEw/s1600/image04.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;296&quot; data-original-width=&quot;1157&quot; height=&quot;162&quot; src=&quot;https://3.bp.blogspot.com/-bpUUuWbWZ30/WT-QYSvehUI/AAAAAAAAA5k/fud3Q4dlqzsSkVGjeifntNmObNm4S1pSQCEw/s640/image04.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;&lt;/div&gt;&lt;h2 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-top: 24px; padding-bottom: 0.3em;&quot;&gt;3. 배포된 전체 컨텐츠 캐싱 시간 변경&lt;/h2&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;CloudFront 배포(distribution)의 설정에서 전체 컨텐츠에 대한 갱신 주기를 설정할 수 있습니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;해당 배포의 Behaviors 탭으로 갑니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;배포를 생성할 때 설정된 항목이 하나 있습니다. 체크박스를 선택하고&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Edit&lt;/code&gt;을 클릭합니다.&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-oDs50KveM5o/WT-QYW0EGxI/AAAAAAAAA5g/Mlz3cFHp9-kscqq2pIGMkOiL7c4RRCqKQCEw/s1600/image05.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;282&quot; data-original-width=&quot;1160&quot; height=&quot;154&quot; src=&quot;https://3.bp.blogspot.com/-oDs50KveM5o/WT-QYW0EGxI/AAAAAAAAA5g/Mlz3cFHp9-kscqq2pIGMkOiL7c4RRCqKQCEw/s640/image05.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;그러면 설정 변경화면이 나오는데, 여기서&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Object Caching&lt;/code&gt;항목을&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Customize&lt;/code&gt;로 선택합니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;Customize를 선택하면 아래 3개 칸(Minimum TTL, Maximum TTL, Default TTL)이 활성화됩니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;(각각에 대한 자세한 설명 :&amp;nbsp;&lt;a href=&quot;http://docs.aws.amazon.com/ko_kr/AmazonCloudFront/latest/DeveloperGuide/distribution-web-values-specify.html#DownloadDistValuesObjectCaching&quot; style=&quot;box-sizing: border-box; color: #0366d6; text-decoration-line: none;&quot;&gt;http://docs.aws.amazon.com/ko_kr/AmazonCloudFront/latest/DeveloperGuide/distribution-web-values-specify.html#DownloadDistValuesObjectCaching&lt;/a&gt;)&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-Iyls0n-rY5Q/WT-QYDImxLI/AAAAAAAAA5c/zJkEk-HnOT0K5gSGw6Eza8CXxq8p_RX9gCEw/s1600/image06.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;237&quot; data-original-width=&quot;576&quot; height=&quot;163&quot; src=&quot;https://4.bp.blogspot.com/-Iyls0n-rY5Q/WT-QYDImxLI/AAAAAAAAA5c/zJkEk-HnOT0K5gSGw6Eza8CXxq8p_RX9gCEw/s400/image06.jpg&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;Default TTL은 특정 객체에 HTTP Header를 지정하지 않은 오리진 객체에만 적용되는 값이고, Maximum TTL은 HTTP Header를 지정한 오리진 객체에만 적용되는 값입니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;그래서 전체 컨텐츠에 대한 캐싱 시간을 변경하려면 Default TTL을 수정합니다. 초단위로 수정하시면 됩니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;수정 완료하시면 배포의 상태가 In Progress가 되고 배포가 완료되면 Deployed로 변경됩니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;&lt;/div&gt;&lt;h2 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-top: 24px; padding-bottom: 0.3em;&quot;&gt;4. S3에 저장된 특정 객체의 캐싱 시간 변경&lt;/h2&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;S3의 특정 객체의 갱신주기만 따로 설정하려면 해당 객체에 metadata를 설정하면 됩니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;S3에서 갱신주기를 설정할 객체를 선택합니다. 객체의 이름 부분을 선택하면 해당 객체에 대한 Overview가 나타나는데,&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;바로 옆에 Properties 탭을 선택합니다.&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;Properties 중에 Metadata를 클릭합니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;그러면&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Add Metadata&lt;/code&gt;&amp;nbsp;버튼이 있는데 여기를 클릭합니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;Key 목록에서&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Cache-Control&lt;/code&gt;&amp;nbsp;또는&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Expires&lt;/code&gt;를 선택합니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;Cache-Control로 선택하면 CloudFront 캐시에 머무르는 시간을 초단위(형식 : max-age=초)로 입력해주시면 되고,&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;Expires를 선택하면 캐시에 머무를 특정 날짜를 입력하시면 됩니다.(형식 : Sat, 27 Jun 2015 23:59:59 GMT)&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;(날짜 포맷 :&amp;nbsp;&lt;a href=&quot;https://www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.3.1&quot; style=&quot;box-sizing: border-box; color: #0366d6; text-decoration-line: none;&quot;&gt;https://www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.3.1&lt;/a&gt;)&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-obipPdeTfw8/WT-RFMZtARI/AAAAAAAAA5w/3t4YRdOUAU0qAy-yOy2ZJ8ONycEYWyqEQCLcB/s1600/image07.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;681&quot; data-original-width=&quot;1107&quot; height=&quot;392&quot; src=&quot;https://4.bp.blogspot.com/-obipPdeTfw8/WT-RFMZtARI/AAAAAAAAA5w/3t4YRdOUAU0qAy-yOy2ZJ8ONycEYWyqEQCLcB/s640/image07.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;지금까지 S3를 Origin으로 한 CloudFront의 배포 즉시갱신/갱신 주기 설정 방법을 정리해보았습니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;4가지 방법을 다 해보니.. 캐싱 시간을 변경하는 방법은 조금 부정확한 감이 있습니다. 캐싱 주기 시간이 지나고 최신 파일을 읽어왔다가 새로고침하면 다시 예전 파일을 읽어오더라구요.. 아마 모든 엣지마다 다시 배포되는 시간이 달라서 그런가 싶습니다..&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;혹시 본문 내용중 틀린 부분을 댓글로 남겨주시면 감사히 바로 수정하도록 하겠습니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;감사합니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;&lt;/div&gt;&lt;h4 style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; line-height: 1.25; margin-bottom: 16px; margin-top: 24px;&quot;&gt;참고링크&lt;/h4&gt;&lt;ul style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 0px !important; margin-top: 0px; padding-left: 2em;&quot;&gt;&lt;li style=&quot;box-sizing: border-box;&quot;&gt;객체가 CloudFront 엣지 캐시에 보관되는 시간 지정(만료)&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;&lt;a href=&quot;http://docs.aws.amazon.com/ko_kr/AmazonCloudFront/latest/DeveloperGuide/Expiration.html&quot; style=&quot;box-sizing: border-box; color: #0366d6; text-decoration-line: none;&quot;&gt;http://docs.aws.amazon.com/ko_kr/AmazonCloudFront/latest/DeveloperGuide/Expiration.html&lt;/a&gt;&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; margin-top: 0.25em;&quot;&gt;How Do I Add Metadata to an S3 Object?&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;&lt;a href=&quot;http://docs.aws.amazon.com/ko_kr/AmazonS3/latest/user-guide/add-object-metadata.html&quot; style=&quot;box-sizing: border-box; color: #0366d6; text-decoration-line: none;&quot;&gt;http://docs.aws.amazon.com/ko_kr/AmazonS3/latest/user-guide/add-object-metadata.html&lt;/a&gt;&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; margin-top: 0.25em;&quot;&gt;무효화 경로&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;&lt;a href=&quot;http://docs.aws.amazon.com/ko_kr/AmazonCloudFront/latest/DeveloperGuide/Invalidation.html#invalidation-specifying-objects&quot; style=&quot;box-sizing: border-box; color: #0366d6; text-decoration-line: none;&quot;&gt;http://docs.aws.amazon.com/ko_kr/AmazonCloudFront/latest/DeveloperGuide/Invalidation.html#invalidation-specifying-objects&lt;/a&gt;&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; margin-top: 0.25em;&quot;&gt;Object Caching, Minimum TTL, Default TTL, Maximum TTL에 대한 자세한 설명&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;&lt;a href=&quot;http://docs.aws.amazon.com/ko_kr/AmazonCloudFront/latest/DeveloperGuide/distribution-web-values-specify.html#DownloadDistValuesObjectCaching&quot; style=&quot;box-sizing: border-box; color: #0366d6; text-decoration-line: none;&quot;&gt;http://docs.aws.amazon.com/ko_kr/AmazonCloudFront/latest/DeveloperGuide/distribution-web-values-specify.html#DownloadDistValuesObjectCaching&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content><link rel='replies' type='application/atom+xml' href='https://walkinpcm.blogspot.com/feeds/2039210220583008240/comments/default' title='댓글'/><link rel='replies' type='text/html' href='https://walkinpcm.blogspot.com/2017/06/aws-aws-s3-origin-cloudfront.html#comment-form' title='0개의 덧글'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/3470089366387037599/posts/default/2039210220583008240'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/3470089366387037599/posts/default/2039210220583008240'/><link rel='alternate' type='text/html' href='https://walkinpcm.blogspot.com/2017/06/aws-aws-s3-origin-cloudfront.html' title='[AWS] AWS S3를 Origin으로 설정한 CloudFront의 컨텐츠 갱신'/><author><name>Unknown</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='https://img1.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://1.bp.blogspot.com/-aQE7o53mwS8/WT-QX-pH_xI/AAAAAAAAA5Y/5TsDVosMjGsuH-DdXaGLgIUkL4Tqt0rHwCLcB/s72-c/image01.jpg" height="72" width="72"/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-3470089366387037599.post-7767950970101487689</id><published>2017-06-12T00:03:00.000-07:00</published><updated>2017-11-09T18:30:40.686-08:00</updated><category scheme="http://www.blogger.com/atom/ns#" term="[011. AWS]"/><title type='text'>[AWS] AWS S3를 이용한 static website hosting에서 Custom Domain과 HTTPS(SSL) 사용하기</title><content type='html'>&lt;h1 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-left: 0px; margin-right: 0px; margin-top: 0px !important; padding-bottom: 0.3em;&quot;&gt;&lt;span style=&quot;color: #cc0000;&quot;&gt;AWS S3를 이용한 static website hosting에서 Custom Domain과 HTTPS(SSL) 사용하기&lt;/span&gt;&lt;/h1&gt;&lt;br style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px;&quot; /&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;지금은 많은 사람들이 알고 있듯이, AWS S3를 이용하면 단순 파일 저장뿐 아니라 정적 웹호스팅(static website hosting)이 가능합니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;그런데, 한가지 아쉬운 점은 S3에 업로드한 객체들 각각의 endpoint는 https가 기본지원되는 반면에, web hosting의 endpoint는 http만 지원하고 있습니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;하지만 AWS CloudFront를 이용하면 S3의 web hosting에도 https를 사용하게 할 수 있습니다.&lt;br /&gt;이번 포스팅에서는 S3를 이용한 static website hosting에서 Custom Domain과 HTTPS(SSL) 사용하는 방법을 정리해보겠습니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;h2 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-top: 24px; padding-bottom: 0.3em;&quot;&gt;0. 사용하는 AWS 서비스&lt;/h2&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;이번 포스팅에서는 4가지 AWS 서비스를 사용합니다.&lt;/div&gt;&lt;ul style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px; margin-top: 0px; padding-left: 2em;&quot;&gt;&lt;li style=&quot;box-sizing: border-box;&quot;&gt;Certificate Manager&lt;ul style=&quot;box-sizing: border-box; margin-bottom: 0px; margin-top: 0px; padding-left: 2em;&quot;&gt;&lt;li style=&quot;box-sizing: border-box;&quot;&gt;SSL 인증서 생성.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; margin-top: 0.25em;&quot;&gt;S3&lt;ul style=&quot;box-sizing: border-box; margin-bottom: 0px; margin-top: 0px; padding-left: 2em;&quot;&gt;&lt;li style=&quot;box-sizing: border-box;&quot;&gt;웹호스팅 Origin.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; margin-top: 0.25em;&quot;&gt;CloudFront&lt;ul style=&quot;box-sizing: border-box; margin-bottom: 0px; margin-top: 0px; padding-left: 2em;&quot;&gt;&lt;li style=&quot;box-sizing: border-box;&quot;&gt;웹호스팅 파일들을 CDN에 올리고 SSL을 적용. 그리고 Custom Domain 설정.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; margin-top: 0.25em;&quot;&gt;Route53&lt;ul style=&quot;box-sizing: border-box; margin-bottom: 0px; margin-top: 0px; padding-left: 2em;&quot;&gt;&lt;li style=&quot;box-sizing: border-box;&quot;&gt;CloudFront에 배포한 웹호스팅 도메인과 Custom Domain을 연결.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;&lt;/div&gt;&lt;h2 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-top: 24px; padding-bottom: 0.3em;&quot;&gt;1. SSL 인증서 준비&lt;/h2&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;본 포스팅에서는 HTTPS를 위한 SSL 인증서를 AWS Certificate Manager 서비스에서 만듭니다.&lt;br /&gt;절차는 쉽지만 알아둬야할 사항이 있어서 글로 정리합니다.&lt;br /&gt;(참고로, AWS Certificate Manager에서 만드는 SSL인증서는 무료입니다!)&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;우선, Certificate Manager 서비스에 들어갑니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;가장 먼저 해줘야할 작업은 리전을&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;US East (N. Virginia)&lt;/code&gt;로 변경하는 것입니다.&lt;br /&gt;왜냐하면, CloudFront에서 Custom SSL Certificate를 사용하려면 반드시 Virginia 리전에서 생성된 인증서만 허용되기 때문입니다.&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-ZEKVmJkThFY/WT457ggMA9I/AAAAAAAAA44/LRI6LfkmV1o3zed-klZ3GKwqKcXrfBpygCEw/s1600/image07.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;517&quot; data-original-width=&quot;342&quot; height=&quot;400&quot; src=&quot;https://3.bp.blogspot.com/-ZEKVmJkThFY/WT457ggMA9I/AAAAAAAAA44/LRI6LfkmV1o3zed-klZ3GKwqKcXrfBpygCEw/s400/image07.JPG&quot; width=&quot;263&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;리전을 바꿨으면&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;시작하기&lt;/code&gt;를 선택합니다.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-gMQlVZ5lEps/WT4572h9VgI/AAAAAAAAA44/BhmOXN5BgY0uXS0-x6iq0h2xTKiSglaZQCEw/s1600/image08.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;372&quot; data-original-width=&quot;789&quot; height=&quot;187&quot; src=&quot;https://4.bp.blogspot.com/-gMQlVZ5lEps/WT4572h9VgI/AAAAAAAAA44/BhmOXN5BgY0uXS0-x6iq0h2xTKiSglaZQCEw/s400/image08.JPG&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;도메인 이름은 인증서를 발급 받고 싶은 도메인 주소를 입력합니다.&lt;br /&gt;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;ssltest.example.com&lt;/code&gt;&amp;nbsp;처럼 서브도메인을 포함한 주소를 입력해도 되고,&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;*.example.com&lt;/code&gt;&amp;nbsp;처럼 서브도메인을 와일드카드로 입력해도 됩니다.&lt;br /&gt;입력하고나면&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;검토 및 요청&lt;/code&gt;을 클릭합니다.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-i6AoXvBsWL8/WT4573t3S2I/AAAAAAAAA44/YW7vKzIpNr4g5pUXem6FBp8br1EWVSZGACEw/s1600/image09.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;519&quot; data-original-width=&quot;1484&quot; height=&quot;222&quot; src=&quot;https://3.bp.blogspot.com/-i6AoXvBsWL8/WT4573t3S2I/AAAAAAAAA44/YW7vKzIpNr4g5pUXem6FBp8br1EWVSZGACEw/s640/image09.JPG&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;다음화면에서는 도메인 관리자에게 인증서 승인을 위한 메일을 보낸다는 안내가 됩니다.&lt;br /&gt;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;확인 및 요청&lt;/code&gt;을 클릭합니다.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-Mp8Ii56baQU/WT458bSnlHI/AAAAAAAAA44/qHvSafxPyh4nRXV7JaEQsdto21WC3varQCEw/s1600/image10.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;346&quot; data-original-width=&quot;1474&quot; height=&quot;150&quot; src=&quot;https://4.bp.blogspot.com/-Mp8Ii56baQU/WT458bSnlHI/AAAAAAAAA44/qHvSafxPyh4nRXV7JaEQsdto21WC3varQCEw/s640/image10.JPG&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;다음화면에서는 어떤 메일로 승인 요청을 보냈는지 나타납니다.(도메인 부분을 클릭하면 펼쳐집니다.)&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-kfE-XLaO50A/WT458WaosYI/AAAAAAAAA44/1wnkP0xa7WgzCh7GfrPghTL5oJwjgDA_wCEw/s1600/image11.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;592&quot; data-original-width=&quot;1481&quot; height=&quot;254&quot; src=&quot;https://3.bp.blogspot.com/-kfE-XLaO50A/WT458WaosYI/AAAAAAAAA44/1wnkP0xa7WgzCh7GfrPghTL5oJwjgDA_wCEw/s640/image11.JPG&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;계속&lt;/code&gt;&amp;nbsp;버튼까지 눌러줍니다.&lt;br /&gt;(생성한 인증서 목록이 보일텐데 방금 만든 인증서의 상태가 &#39;검증 보류&#39;라고 나타날 겁니다.)&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;사실 승인 요청을 메일로 보내기 전에 위의 메일 주소들 중에 하나라도 생성되어 있어야하는게 맞는데...&lt;br /&gt;제 경우에는 도메인을 Route53에서 만들었었더니,&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;whoisprivacyservice.org&lt;/code&gt;&amp;nbsp;계정 3개로 보내진 인증서 승인 메일이 제 개인 메일로 전달(forwarding)되어져 왔습니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;아래 그림 처럼 메일이 왔습니다.&lt;br /&gt;가운데 쯤의&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Amazon Certificate Approvals&lt;/code&gt;&amp;nbsp;링크를 누릅니다.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-Ux1iIxgMsx4/WT458u4GuII/AAAAAAAAA44/za6Xz7u6658lD_TzvYarmzypmwIAYFWkgCEw/s1600/image12.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;665&quot; data-original-width=&quot;612&quot; height=&quot;400&quot; src=&quot;https://4.bp.blogspot.com/-Ux1iIxgMsx4/WT458u4GuII/AAAAAAAAA44/za6Xz7u6658lD_TzvYarmzypmwIAYFWkgCEw/s400/image12.JPG&quot; width=&quot;367&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;그러면 새창이 또 뜹니다. 여기서&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;I Approve&lt;/code&gt;&amp;nbsp;버튼을 누르면 인증서 승인이 완료됩니다.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-0_6u76arCTo/WT459HlKoyI/AAAAAAAAA44/ciFci_vL6W4nk_AmZfeJc706uEhgK_aDgCEw/s1600/image13.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;613&quot; data-original-width=&quot;1240&quot; height=&quot;316&quot; src=&quot;https://1.bp.blogspot.com/-0_6u76arCTo/WT459HlKoyI/AAAAAAAAA44/ciFci_vL6W4nk_AmZfeJc706uEhgK_aDgCEw/s640/image13.JPG&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;승인이 완료되고 다시 Certificate Manager로 돌아와서 새로고침을 한번 해주면 상태가 &#39;발급 완료&#39;로 변경됩니다.&lt;br /&gt;인증서 준비는 끝났습니다~!&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;&lt;/div&gt;&lt;h2 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-top: 24px; padding-bottom: 0.3em;&quot;&gt;2. S3 준비&lt;/h2&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;S3에 버킷을 생성하고 파일들을 업로드 하고 버킷의 Properties에서 Static website hosting 기능을 활성화합니다.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-Yi6msBdx0Ts/WT456ITPE2I/AAAAAAAAA34/DvY1js6ARggfvHekcwgYavpT7WthBjDqACLcB/s1600/image01.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;880&quot; data-original-width=&quot;1598&quot; height=&quot;352&quot; src=&quot;https://2.bp.blogspot.com/-Yi6msBdx0Ts/WT456ITPE2I/AAAAAAAAA34/DvY1js6ARggfvHekcwgYavpT7WthBjDqACLcB/s640/image01.JPG&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;버킷을 생성할 때 주의할 점이 하나 있습니다.&lt;br /&gt;HTTPS 지원없이 Custom Domain만 사용하려면 Route53에서 S3를 바로 연결시키면 되는데, 이때는 버킷 이름이 Custom Domain이름과 같아야합니다. (ex. ssltest.example.com 으로 버킷 이름도 설정하고 도메인도 똑같은 이름으로 만들어야합니다.)&lt;br /&gt;그런데 CloudFront를 S3와 Route53 사이에 껴넣을때는 버킷이름이 도메인 이름이랑 같으면 오히려 HTTPS 지원이 정상적으로 안됩니다. 제가 이 문제 때문에 하루를 버렸네요..ㅠㅠ&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;다시 본론으로.. 버킷의 Properties에서 Permissions에 가셔서 Bucket Policy에 아래 내용을 입력하고 Save합니다.&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Resource&lt;/code&gt;의 값 부분에 있는&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;[YOUR_BUCKET_NAME]&lt;/code&gt;을 본인의 버킷 이름으로 대체하시면 됩니다.&lt;br /&gt;아래 Bucket Policy는 버킷으로 웹호스팅 할 때 전체 파일에 대해서 모든 사용자한테 Get을 허용하는 유용한 Policy입니다.&lt;/div&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; color: #24292e; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; margin-bottom: 16px; overflow: auto; padding: 16px; word-wrap: normal;&quot;&gt;&lt;code style=&quot;background: transparent; border-radius: 3px; border: 0px; box-sizing: border-box; display: inline; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; line-height: inherit; margin: 0px; overflow: visible; padding: 0px; word-break: normal; word-wrap: normal;&quot;&gt;{&lt;br /&gt;    &quot;Version&quot;: &quot;2012-10-17&quot;,&lt;br /&gt;    &quot;Statement&quot;: [&lt;br /&gt;        {&lt;br /&gt;            &quot;Effect&quot;: &quot;Allow&quot;,&lt;br /&gt;            &quot;Principal&quot;: &quot;*&quot;,&lt;br /&gt;            &quot;Action&quot;: &quot;s3:GetObject&quot;,&lt;br /&gt;            &quot;Resource&quot;: &quot;arn:aws:s3:::[YOUR_BUCKET_NAME]/*&quot;&lt;br /&gt;        }&lt;br /&gt;    ]&lt;br /&gt;}&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;&lt;/div&gt;&lt;h2 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-top: 24px; padding-bottom: 0.3em;&quot;&gt;3. CloudFront 준비&lt;/h2&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;CloudFront는 AWS의 CDN 서비스입니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;AWS CloudFront 서비스에 들어가서&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Create Distribution&lt;/code&gt;을 선택합니다.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-xWmT7PfXJDI/WT456HXXtcI/AAAAAAAAA38/XivocmMtw1ocjU88iQaK36c3I684lhAnACEw/s1600/image02.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;240&quot; data-original-width=&quot;752&quot; height=&quot;127&quot; src=&quot;https://1.bp.blogspot.com/-xWmT7PfXJDI/WT456HXXtcI/AAAAAAAAA38/XivocmMtw1ocjU88iQaK36c3I684lhAnACEw/s400/image02.JPG&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;다음 화면(Select delivery method)에서는 배포할 컨텐츠의 타입이 무엇인지 선택합니다.&lt;br /&gt;여기서는&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Web&lt;/code&gt;부분의&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Get Started&lt;/code&gt;를 클릭합니다.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-xK0HKUSo0Y0/WT456YnNWrI/AAAAAAAAA4A/8ndzC9sxptw0aayRdbcXQf4gkLTbhQ2gACEw/s1600/image03.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;592&quot; data-original-width=&quot;1600&quot; height=&quot;235&quot; src=&quot;https://1.bp.blogspot.com/-xK0HKUSo0Y0/WT456YnNWrI/AAAAAAAAA4A/8ndzC9sxptw0aayRdbcXQf4gkLTbhQ2gACEw/s640/image03.JPG&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;다음 화면(Create distribution)에서는 갖가지 설정들을 하게되는데, 필수적인 사항만 정리하겠습니다. 다른 설정들은 상황에 따라 알맞게 손 보시면 됩니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Origin Settings&lt;/code&gt;에서&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Origin Domain Name&lt;/code&gt;을 입력합니다.&lt;br /&gt;마우스로 선택하면 S3 버킷 목록이 나오는데, 목록에서 선택하시지 말고,&lt;br /&gt;위의 S3에서 웹호스팅 기능을 활성화 했을 때 생성되는 Endpoint(URL)을 직접 복사해서 넣으시길 권장드립니다.&lt;br /&gt;목록에서 버킷을 선택해도 일반적인 static 웹호스팅은 문제가 없으나, SPA(Single Page Application)을 웹호스팅 할 경우를 대비한다면 Endpoint(URL)을 직접 입력해야합니다.&lt;br /&gt;(If you want to host SPA(Single Page Application) on S3, insert Web hosing Endpoint(URL) of S3 into &#39;Origin Domain Name&#39;. Don&#39;t select one of the dropdown list.)&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-jR22LvQuNJE/WT45645AJ1I/AAAAAAAAA4E/9U0T1q1gnYs0HaL26P1HHJYcz0XCQta2wCEw/s1600/image04.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;340&quot; data-original-width=&quot;1282&quot; height=&quot;168&quot; src=&quot;https://4.bp.blogspot.com/-jR22LvQuNJE/WT45645AJ1I/AAAAAAAAA4E/9U0T1q1gnYs0HaL26P1HHJYcz0XCQta2wCEw/s640/image04.JPG&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Distribution Setting&lt;/code&gt;에서&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Alternate Domain Names&lt;/code&gt;에 사용할 Custom Domain을 입력합니다. 이 이름은 나중에 Route53에 생성할 도메인과 동일해야합니다.&lt;br /&gt;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;SSL Certificate&lt;/code&gt;는&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Custom SSL Certificate&lt;/code&gt;를 선택합니다.&lt;br /&gt;Default로 선택해도 동작에는 문제가 없지만 아래 그림처럼 경고가 뜹니다. 도메인 이름과 인증서 이름이 같지 않아서 발생하는 경고입니다.&lt;br /&gt;노력해서 HTTPS를 쓰려고하는데 이런게 보이면 영 꺼림직 하지요..&lt;br /&gt;그래서 Custom SSL Certificate를 선택하고 1번 단계에서 생성한 인증서를 선택해줍니다.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-y1zWs4MlSrU/WT457HKrqRI/AAAAAAAAA44/MZdKyTDIO48mphxxqpGZQjpZzrlSoWjOgCEw/s1600/image05_2.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;71&quot; data-original-width=&quot;425&quot; height=&quot;53&quot; src=&quot;https://3.bp.blogspot.com/-y1zWs4MlSrU/WT457HKrqRI/AAAAAAAAA44/MZdKyTDIO48mphxxqpGZQjpZzrlSoWjOgCEw/s320/image05_2.JPG&quot; width=&quot;320&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;blockquote style=&quot;border-left: 0.25em solid rgb(223, 226, 229); box-sizing: border-box; color: #6a737d; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin: 0px 0px 16px; padding: 0px 1em;&quot;&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;&lt;span style=&quot;box-sizing: border-box; font-weight: 600;&quot;&gt;!!주의!! 1번 단계에서 생성한 인증서가 목록에 보임에도 불구하고 Custom SSL Certificate가 선택이 불가능하게 비활성화 되어 있을 수 있습니다.&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;box-sizing: border-box; font-weight: 600;&quot;&gt;찾아보니 이게 활성화 되는데는 인증서 생성 이후에 하루 정도가 걸릴 수 있다고 하네요... 저도 자고 일어나니 선택이 가능했습니다.&lt;/span&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;그리고&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Default Root Object&lt;/code&gt;에는 도메인만 입력했을 때 바로 보여줄 파일이 무엇인지 설정하는 것입니다. 다들 아시는 index.html 로 입력하게 되실 것 같네요 ㅎㅎ&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-fSfo2m89C0Y/WT47H0lVFBI/AAAAAAAAA5A/DydjknBnjwIaYDo2saLnj4apO8d12vZqgCLcB/s1600/image05.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;792&quot; data-original-width=&quot;866&quot; height=&quot;584&quot; src=&quot;https://3.bp.blogspot.com/-fSfo2m89C0Y/WT47H0lVFBI/AAAAAAAAA5A/DydjknBnjwIaYDo2saLnj4apO8d12vZqgCLcB/s640/image05.JPG&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;딱 4가지만 설정했습니다. 이렇게 설정하고 완료하면 생성한 Distribution의 General 속성에서 Distribution Status가&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;InProgress&lt;/code&gt;가 됩니다. 이 때가 각 엣지로 배포되는 중이라고 하네요.(조금 오래 걸립니다..)&lt;br /&gt;배포가 완료되면&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Deployed&lt;/code&gt;가 됩니다. 자동으로 되는게 아니니깐 새로고침 간간히 해서 확인해주세요~&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-f5LtsZGrKNQ/WT457aYLVPI/AAAAAAAAA44/yTgaTOccY_IKFp3a-XchCoGF0zMgEzFBwCEw/s1600/image06.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;771&quot; data-original-width=&quot;1353&quot; height=&quot;364&quot; src=&quot;https://4.bp.blogspot.com/-f5LtsZGrKNQ/WT457aYLVPI/AAAAAAAAA44/yTgaTOccY_IKFp3a-XchCoGF0zMgEzFBwCEw/s640/image06.JPG&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;Deployed를 기다리는 동안 Route53을 준비합니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;h2 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-top: 24px; padding-bottom: 0.3em;&quot;&gt;4. Route53 준비&lt;/h2&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;본 포스팅을 참고하시는 분들은 아마 자체 도메인을 이미 가지고 계실 것 같습니다.&lt;br /&gt;그래서 Route53에 이미 기존에 사용하는 Hosted Zone이 있다는 가정하에 정리하겠습니다.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-FugchuJESsQ/WT459TZSx2I/AAAAAAAAA44/KI9d6npDIHs0_PCdXYhgoS_nFIX3O_PkwCEw/s1600/image15.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;617&quot; data-original-width=&quot;419&quot; height=&quot;640&quot; src=&quot;https://3.bp.blogspot.com/-FugchuJESsQ/WT459TZSx2I/AAAAAAAAA44/KI9d6npDIHs0_PCdXYhgoS_nFIX3O_PkwCEw/s640/image15.JPG&quot; width=&quot;434&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;Route53의 Hosted zones에 가셔서 사용하실 도메인에서&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Create Record Set&lt;/code&gt;을 선택합니다.&lt;br /&gt;우측에 나타나는 입력창의&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Name&lt;/code&gt;&amp;nbsp;입력칸에 CloudFront에서 Alternate Domain Names에 입력했던 서브도메인을 입력합니다.&lt;br /&gt;(ex. Alternate Domain Names에 ssltest.example.com 이라고 입력했따면&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Name&lt;/code&gt;&amp;nbsp;입력칸에&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;ssltest&lt;/code&gt;를 입력합니다.)&lt;br /&gt;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Type&lt;/code&gt;은&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;A - IPv4 address&lt;/code&gt;를 선택합니다.&lt;br /&gt;그리고&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Alias&lt;/code&gt;를&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Yes&lt;/code&gt;로 선택합니다. 왜냐하면 CloudFront와 Route53을 연결할 때 별칭 리소스 레코드 세트를 사용하면 DNS 쿼리에 대한 요금이 지불되지 않는다고 합니다~!&lt;br /&gt;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Alias Target&lt;/code&gt;&amp;nbsp;입력칸을 클릭하면 CloudFront distribution에 위에서 생성한 distribution이 알아서 나타나있을 것입니다. 그걸 선택합니다. (Name을 입력해야 나타납니다.)&lt;br /&gt;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Create&lt;/code&gt;를 누르면 끝납니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;h2 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-top: 24px; padding-bottom: 0.3em;&quot;&gt;5. 확인&lt;/h2&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;이제 모든 절차가 끝났습니다. DNS에 도메인이 등록되는 시간을 잠시 기다리고나면 아래처럼 S3로 웹호스팅한 웹페이지가 HTTPS가 지원되는 걸 보실 수 있습니다!&lt;br /&gt;수고하셨습니다~&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-OKZm3b0GVEo/WT459Qb7qXI/AAAAAAAAA44/F3IwtGpRgioCdpuJO3lG9vsAoz2O62fhwCEw/s1600/image16.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;74&quot; data-original-width=&quot;421&quot; height=&quot;70&quot; src=&quot;https://1.bp.blogspot.com/-OKZm3b0GVEo/WT459Qb7qXI/AAAAAAAAA44/F3IwtGpRgioCdpuJO3lG9vsAoz2O62fhwCEw/s400/image16.JPG&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;&lt;b&gt;* 내용 추가!&lt;/b&gt;&lt;br /&gt;&amp;gt; S3에 업로드한 파일을 수정해서 다시 올렸을 때 어떻게 CloudFront에 갱신시키는지에 대한 내용을 아래 링크에 정리했습니다. 함께 보시면 좋을 것 같습니다~!&lt;br /&gt;(링크 :&amp;nbsp;&lt;a href=&quot;https://walkinpcm.blogspot.kr/2017/06/aws-aws-s3-origin-cloudfront.html&quot;&gt;https://walkinpcm.blogspot.kr/2017/06/aws-aws-s3-origin-cloudfront.html&lt;/a&gt;)&lt;br /&gt;&lt;br /&gt;&lt;/div&gt;&lt;h4 style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; line-height: 1.25; margin-bottom: 16px; margin-top: 24px;&quot;&gt;참고링크&lt;/h4&gt;&lt;ul style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 0px !important; margin-top: 0px; padding-left: 2em;&quot;&gt;&lt;li style=&quot;box-sizing: border-box;&quot;&gt;AWS CloudFront와 S3를 이용한 웹 페이지 작성 가이드&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;&lt;a href=&quot;http://cloud.hosting.kr/aws-cloudfront%EC%99%80-s3%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%9C-%EC%9B%B9-%ED%8E%98%EC%9D%B4%EC%A7%80-%EC%9E%91%EC%84%B1-%EA%B0%80%EC%9D%B4%EB%93%9C/&quot; style=&quot;box-sizing: border-box; color: #0366d6; text-decoration-line: none;&quot;&gt;http://cloud.hosting.kr/aws-cloudfront%EC%99%80-s3%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%9C-%EC%9B%B9-%ED%8E%98%EC%9D%B4%EC%A7%80-%EC%9E%91%EC%84%B1-%EA%B0%80%EC%9D%B4%EB%93%9C/&lt;/a&gt;&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; margin-top: 0.25em;&quot;&gt;Using HTTPS with Amazon S3 and Your Domain&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;&lt;a href=&quot;https://www.h3xed.com/web-development/using-https-with-amazon-s3-and-your-domain&quot; style=&quot;box-sizing: border-box; color: #0366d6; text-decoration-line: none;&quot;&gt;https://www.h3xed.com/web-development/using-https-with-amazon-s3-and-your-domain&lt;/a&gt;&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; margin-top: 0.25em;&quot;&gt;Route 53와 CloudFront 연동하기&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;&lt;a href=&quot;http://pyrasis.com/book/TheArtOfAmazonWebServices/Chapter17/04&quot; style=&quot;box-sizing: border-box; color: #0366d6; text-decoration-line: none;&quot;&gt;http://pyrasis.com/book/TheArtOfAmazonWebServices/Chapter17/04&lt;/a&gt;&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; margin-top: 0.25em;&quot;&gt;대체 도메인 이름 사용(CNAME) =&amp;gt; 별칭 리소스 레코드 세트를 사용하면 Amazon Route 53 쿼리에 대해서는 요금이 지불되지 않습니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;&lt;a href=&quot;http://docs.aws.amazon.com/ko_kr/AmazonCloudFront/latest/DeveloperGuide/CNAMEs.html&quot; style=&quot;box-sizing: border-box; color: #0366d6; text-decoration-line: none;&quot;&gt;http://docs.aws.amazon.com/ko_kr/AmazonCloudFront/latest/DeveloperGuide/CNAMEs.html&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content><link rel='replies' type='application/atom+xml' href='https://walkinpcm.blogspot.com/feeds/7767950970101487689/comments/default' title='댓글'/><link rel='replies' type='text/html' href='https://walkinpcm.blogspot.com/2017/06/aws-aws-s3-static-website-hosting.html#comment-form' title='9개의 덧글'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/3470089366387037599/posts/default/7767950970101487689'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/3470089366387037599/posts/default/7767950970101487689'/><link rel='alternate' type='text/html' href='https://walkinpcm.blogspot.com/2017/06/aws-aws-s3-static-website-hosting.html' title='[AWS] AWS S3를 이용한 static website hosting에서 Custom Domain과 HTTPS(SSL) 사용하기'/><author><name>Unknown</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='https://img1.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://3.bp.blogspot.com/-ZEKVmJkThFY/WT457ggMA9I/AAAAAAAAA44/LRI6LfkmV1o3zed-klZ3GKwqKcXrfBpygCEw/s72-c/image07.JPG" height="72" width="72"/><thr:total>9</thr:total></entry><entry><id>tag:blogger.com,1999:blog-3470089366387037599.post-3865356141080600449</id><published>2017-06-08T20:57:00.000-07:00</published><updated>2017-06-23T01:34:54.540-07:00</updated><category scheme="http://www.blogger.com/atom/ns#" term="[007. Javascript]"/><category scheme="http://www.blogger.com/atom/ns#" term="[011. AWS]"/><title type='text'>[AWS] AWS S3를 이용해서 웹브라우저에서 사용할 수 있는 포토 앨범 만들기</title><content type='html'>&lt;h1 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; line-height: 1.25; margin: 0px 0px 16px; padding-bottom: 0.3em;&quot;&gt;&lt;span style=&quot;color: #cc0000;&quot;&gt;AWS S3를 이용해서 웹브라우저에서 사용할 수 있는 포토 앨범 만들기&lt;/span&gt;&lt;/h1&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;이번 포스팅에서는 AWS S3를 이용해서 웹브라우저에서 사진을 업로드하고 보고, 삭제 할 수 있는 포토 앨범을 만드는 예제를 정리해보겠습니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;여기서 사용하는 예제는 이미 AWS에서 튜토리얼로 제공하는 예제이지만, 아직 한국어가 지원되지 않았고, 제 스스로 학습을 위해서 정리해서 글로 남겨봅니다.&lt;br /&gt;(원문 :&amp;nbsp;&lt;a href=&quot;http://docs.aws.amazon.com/ko_kr/sdk-for-javascript/v2/developer-guide/s3-example-photo-album.html&quot; style=&quot;box-sizing: border-box; color: #0366d6; text-decoration-line: none;&quot;&gt;http://docs.aws.amazon.com/ko_kr/sdk-for-javascript/v2/developer-guide/s3-example-photo-album.html&lt;/a&gt;)&lt;/div&gt;&lt;br style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px;&quot; /&gt;&lt;h2 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-top: 24px; padding-bottom: 0.3em;&quot;&gt;시나리오&lt;/h2&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;이 예제에서는 아래 그림과 같이, 웹브라우저에서 AWS SDK를 이용해서 AWS S3에 사진앨범을 만들게 됩니다.&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-g9J9fszMwIM/WTobrJY0oeI/AAAAAAAAA10/sDw-LdDGzAMKzwrArONm6AAahmQeoKCvgCEw/s1600/image01.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;168&quot; data-original-width=&quot;800&quot; height=&quot;134&quot; src=&quot;https://1.bp.blogspot.com/-g9J9fszMwIM/WTobrJY0oeI/AAAAAAAAA10/sDw-LdDGzAMKzwrArONm6AAahmQeoKCvgCEw/s640/image01.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;이 예제에는 포토앨범에 대해서 아래와 같은 기능이 포함되어 있습니다.&lt;/div&gt;&lt;ul style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px; margin-top: 0px; padding-left: 2em;&quot;&gt;&lt;li style=&quot;box-sizing: border-box;&quot;&gt;listAlbums&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; margin-top: 0.25em;&quot;&gt;createAlbums&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; margin-top: 0.25em;&quot;&gt;viewAlbums&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; margin-top: 0.25em;&quot;&gt;addPhoto&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; margin-top: 0.25em;&quot;&gt;deleteAlbum&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; margin-top: 0.25em;&quot;&gt;deletePhoto&lt;/li&gt;&lt;/ul&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;&lt;/div&gt;&lt;h2 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-top: 24px; padding-bottom: 0.3em;&quot;&gt;0. 선행 작업&lt;/h2&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;이 예제를 진행하기 위해서 3가지 선행 작업이 필요합니다.&lt;/div&gt;&lt;h3 style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 1.25em; line-height: 1.25; margin-bottom: 16px; margin-top: 24px;&quot;&gt;0-1. AWS S3 Bucket 만들기&lt;/h3&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;포토앨범들을 저장하기 위한 Bucket을 하나 만들어 줍니다.&lt;br /&gt;그리고 Bucket의 Permissions 설정에서 하위메뉴에 있는&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;CORS configuration&lt;/code&gt;에 아래의 문서를 복사하고 저장해줍니다.&lt;/div&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; color: #24292e; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; margin-bottom: 16px; overflow: auto; padding: 16px; word-wrap: normal;&quot;&gt;&lt;code style=&quot;background: transparent; border-radius: 3px; border: 0px; box-sizing: border-box; display: inline; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; line-height: inherit; margin: 0px; overflow: visible; padding: 0px; word-break: normal; word-wrap: normal;&quot;&gt;&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;&lt;br /&gt;&amp;lt;CORSConfiguration xmlns=&quot;http://s3.amazonaws.com/doc/2006-03-01/&quot;&amp;gt;&lt;br /&gt;    &amp;lt;CORSRule&amp;gt;&lt;br /&gt;        &amp;lt;AllowedOrigin&amp;gt;*&amp;lt;/AllowedOrigin&amp;gt;&lt;br /&gt;        &amp;lt;AllowedMethod&amp;gt;POST&amp;lt;/AllowedMethod&amp;gt;&lt;br /&gt;        &amp;lt;AllowedMethod&amp;gt;GET&amp;lt;/AllowedMethod&amp;gt;&lt;br /&gt;        &amp;lt;AllowedMethod&amp;gt;PUT&amp;lt;/AllowedMethod&amp;gt;&lt;br /&gt;        &amp;lt;AllowedMethod&amp;gt;DELETE&amp;lt;/AllowedMethod&amp;gt;&lt;br /&gt;        &amp;lt;AllowedMethod&amp;gt;HEAD&amp;lt;/AllowedMethod&amp;gt;&lt;br /&gt;        &amp;lt;AllowedHeader&amp;gt;*&amp;lt;/AllowedHeader&amp;gt;&lt;br /&gt;    &amp;lt;/CORSRule&amp;gt;&lt;br /&gt;&amp;lt;/CORSConfiguration&amp;gt;&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;&lt;br style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px;&quot; /&gt;&lt;h3 style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 1.25em; line-height: 1.25; margin-bottom: 16px; margin-top: 24px;&quot;&gt;0-2. AWS Cognito Identity Pool 생성하기&lt;/h3&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;이 예제에서 credentials을 획득할 수 있게 하기위한 Cognito Identity Pool을 생성합니다.&lt;br /&gt;원문에서는 익명 사용자도 허용했지만, 저는 Cognito UserPool로 로그인 한 사용자를 대상으로만 실습을 진행해보겠습니다.&lt;br /&gt;왜냐하면 로그인 하고 난 뒤에 로그인 한 사용자의 credentials로 AWS 서비스에 접근되는게 보고싶거든요 ㅎㅎ&lt;br /&gt;Identity Pool을 생성하는 방법은 아래 링크를 참고하시면 좋을 것 같습니다.&lt;br /&gt;(링크 :&amp;nbsp;&lt;a href=&quot;https://walkinpcm.blogspot.kr/2017/06/aws-aws-cognito-federated-identities.html&quot; style=&quot;box-sizing: border-box; color: #0366d6; text-decoration-line: none;&quot;&gt;https://walkinpcm.blogspot.kr/2017/06/aws-aws-cognito-federated-identities.html&lt;/a&gt;)&lt;/div&gt;&lt;br style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px;&quot; /&gt;&lt;h3 style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 1.25em; line-height: 1.25; margin-bottom: 16px; margin-top: 24px;&quot;&gt;0-3. Identity Pool 생성할 때 함께 생성된 IAM Role에 S3에 접근할 수 있는 Policy 추가하기.&lt;/h3&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;원문에서는 IAM role을 생성하라고 되어 있는데, 그럴 필요 없습니다.&lt;br /&gt;0-2 단계에서 Identity Pool을 생성할 때 IAM role이 함께 생성되는데, 그 role을 찾아서 거기에 S3에 접근 할 수 있게 하기위한 Policy를 추가해주면 됩니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;이 과정을 조금 자세히 살펴 보겠습니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;span style=&quot;box-sizing: border-box; font-weight: 600;&quot;&gt;(1) Policy 생성&lt;/span&gt;&lt;br /&gt;Identity Pool을 생성할 때 함께 만들어진 IAM role을 찾으시면&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Inline Policies&lt;/code&gt;는 무언가 자동으로 만들어진게 있는데&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Managed Policies&lt;/code&gt;에는 아무것도 없습니다.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-IXUmQ-NpSwA/WTobrFuvA7I/AAAAAAAAA18/HkHoDa2H0vMDHGqLu57nPCB_sUYg7rm6QCEw/s1600/image02.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;499&quot; data-original-width=&quot;810&quot; height=&quot;394&quot; src=&quot;https://1.bp.blogspot.com/-IXUmQ-NpSwA/WTobrFuvA7I/AAAAAAAAA18/HkHoDa2H0vMDHGqLu57nPCB_sUYg7rm6QCEw/s640/image02.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Attach Policy&lt;/code&gt;를 눌러서 S3에 접근할 수 있는 Policy를 찾아서 추가하면 되는데, 이렇게 하면 기본적으로 모든 Bucket에 대한 권한을 주게 됩니다.&lt;br /&gt;앨범으로 쓸 Bucket은 하나인데 다른 Bucket까지 권한을 주면 보안 측면에서 좋지 않은 건 당연합니다.&lt;br /&gt;그래서 권한을 줄 Bucket만을 대상으로하는 Policy를 새로 생성합니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;AWS IAM에서 좌측 메뉴의 Policies를 누르면 기본적으로 제공되는 Policy들이 나타납니다. 그리고 그 위에 보면&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;create policy&lt;/code&gt;가 있습니다. 클릭합니다.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-k3mSzxdnYfQ/WTobrG88xUI/AAAAAAAAA14/8SCOvDBNH8QcPGhRBJZ6b3qOzk5K2wFlwCEw/s1600/image03.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;419&quot; data-original-width=&quot;748&quot; height=&quot;358&quot; src=&quot;https://3.bp.blogspot.com/-k3mSzxdnYfQ/WTobrG88xUI/AAAAAAAAA14/8SCOvDBNH8QcPGhRBJZ6b3qOzk5K2wFlwCEw/s640/image03.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;다음 화면에서 Policy를 어떤 방식으로 생성할 건지 묻는데, 여기서는&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Create Your Own Policy&lt;/code&gt;를 선택합니다.&lt;br /&gt;왜냐하면 Policy에 작성할 내용은 원문에서 제공하고 있거든요.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/--vzoKYeKp8A/WTobryAfpLI/AAAAAAAAA2E/A7gGwZMNB1ggFq5IpyUubczp1Z-XQFyJACEw/s1600/image04.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;449&quot; data-original-width=&quot;1007&quot; height=&quot;284&quot; src=&quot;https://4.bp.blogspot.com/--vzoKYeKp8A/WTobryAfpLI/AAAAAAAAA2E/A7gGwZMNB1ggFq5IpyUubczp1Z-XQFyJACEw/s640/image04.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;Policy Name은 본인이 Policy를 식별할 수 있게 잘 지어주시면 되고 Description도 Policy에 대한 설명을 잘 작성해주시면 됩니다.&lt;br /&gt;중요한건 Policy Document입니다. 여기에 아래 Json 문서를 복사하고&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;BUCKET_NAME&lt;/code&gt;을 앨범으로 쓸 Bucket이름으로 바꿔줍니다.&lt;br /&gt;다 작성하고나면 Validate Policy 버튼을 눌러서 작성한 Policy가 올바른지 확인하고 확인이 되면 Create Policy 버튼을 클릭합니다.&lt;/div&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; color: #24292e; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; margin-bottom: 16px; overflow: auto; padding: 16px; word-wrap: normal;&quot;&gt;&lt;code style=&quot;background: transparent; border-radius: 3px; border: 0px; box-sizing: border-box; display: inline; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; line-height: inherit; margin: 0px; overflow: visible; padding: 0px; word-break: normal; word-wrap: normal;&quot;&gt;{&lt;br /&gt;   &quot;Version&quot;: &quot;2012-10-17&quot;,&lt;br /&gt;   &quot;Statement&quot;: [&lt;br /&gt;      {&lt;br /&gt;         &quot;Effect&quot;: &quot;Allow&quot;,&lt;br /&gt;         &quot;Action&quot;: [&lt;br /&gt;            &quot;s3:*&quot;&lt;br /&gt;         ],&lt;br /&gt;         &quot;Resource&quot;: [&lt;br /&gt;            &quot;arn:aws:s3:::BUCKET_NAME/*&quot;&lt;br /&gt;         ]&lt;br /&gt;      }&lt;br /&gt;   ]&lt;br /&gt;}&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-S4ScOta4ZIo/WTobr2LrVwI/AAAAAAAAA2A/1s0KCiP_sFgR8onx1_ENFmFrRre67UDHwCEw/s1600/image05.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;684&quot; data-original-width=&quot;800&quot; height=&quot;546&quot; src=&quot;https://2.bp.blogspot.com/-S4ScOta4ZIo/WTobr2LrVwI/AAAAAAAAA2A/1s0KCiP_sFgR8onx1_ENFmFrRre67UDHwCEw/s640/image05.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;span style=&quot;box-sizing: border-box; font-weight: 600;&quot;&gt;(2) Cognito Identity Pool을 생성하면서 함께 생성된 Role에 방금 생성한 Policy 추가&lt;/span&gt;&lt;br /&gt;Policy를 생성하고 나면 아까 Role에서 아무것도 없던 Managed Policies에&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Attach Policy&lt;/code&gt;를 눌러서 방금 생성한 Policy를 추가해줍니다.&lt;br /&gt;&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;&lt;br /&gt;선행작업 3번째가 좀 길었네요.. 선행작업 여기까지입니다ㅎㅎㅎ 쉬었다가 아래부터는 웹브라우저에서 포토앨범을 만들 html, javascript 코드들을 보시죠 ㅎㅎ&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;&lt;/div&gt;&lt;h2 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-top: 24px; padding-bottom: 0.3em;&quot;&gt;1. HTML 코드 작성&lt;/h2&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;HTML 코드는 간결합니다. 사실 원문에서는 더 간결한데, 원문에서는 익명사용자를 허용하기 때문에 로그인 할 필요가 없어서 더 짧은 것이고, 본 포스팅에서는 로그인을 한 사용자만 허용하기 위해서 코드가 조금 더 들어갔습니다.&lt;/div&gt;&lt;div class=&quot;highlight highlight-text-html-basic&quot; style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; overflow: auto; padding: 16px; word-break: normal; word-wrap: normal;&quot;&gt;&amp;lt;!DOCTYPE html&amp;gt;&lt;br /&gt;&amp;lt;&lt;span class=&quot;pl-ent&quot; style=&quot;box-sizing: border-box; color: #63a35c;&quot;&gt;html&lt;/span&gt;&amp;gt;&lt;br /&gt;  &amp;lt;&lt;span class=&quot;pl-ent&quot; style=&quot;box-sizing: border-box; color: #63a35c;&quot;&gt;head&lt;/span&gt;&amp;gt;&lt;br /&gt;    &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&amp;lt;!--&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;        AWS Cognito를 사용하려면 아래 2개의 라이브러리가 필요합니다.&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;        자세한 사항은 https://walkinpcm.blogspot.kr/2017/05/aws-aws-cognito.html 를 참고해주세요.&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;     &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;--&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;    &amp;lt;&lt;span class=&quot;pl-ent&quot; style=&quot;box-sizing: border-box; color: #63a35c;&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;pl-e&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;./res/js/aws-cognito-sdk.min.js&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&amp;gt;&lt;span class=&quot;pl-s1&quot; style=&quot;box-sizing: border-box;&quot;&gt;&amp;lt;&lt;/span&gt;/&lt;span class=&quot;pl-ent&quot; style=&quot;box-sizing: border-box; color: #63a35c;&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;br /&gt;    &amp;lt;&lt;span class=&quot;pl-ent&quot; style=&quot;box-sizing: border-box; color: #63a35c;&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;pl-e&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;./res/js/amazon-cognito-identity.min.js&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&amp;gt;&lt;span class=&quot;pl-s1&quot; style=&quot;box-sizing: border-box;&quot;&gt;&amp;lt;&lt;/span&gt;/&lt;span class=&quot;pl-ent&quot; style=&quot;box-sizing: border-box; color: #63a35c;&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;br /&gt;&lt;br /&gt;    &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;&amp;lt;!--&lt;/span&gt; AWS SDK for Javascript &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;--&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;    &amp;lt;&lt;span class=&quot;pl-ent&quot; style=&quot;box-sizing: border-box; color: #63a35c;&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;pl-e&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;https://sdk.amazonaws.com/js/aws-sdk-2.7.20.min.js&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&amp;gt;&lt;span class=&quot;pl-s1&quot; style=&quot;box-sizing: border-box;&quot;&gt;&amp;lt;&lt;/span&gt;/&lt;span class=&quot;pl-ent&quot; style=&quot;box-sizing: border-box; color: #63a35c;&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;br /&gt;&lt;br /&gt;    &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;&amp;lt;!--&lt;/span&gt; 로그인, 앨범 관련 함수를 작성할 js 파일 &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;--&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;    &amp;lt;&lt;span class=&quot;pl-ent&quot; style=&quot;box-sizing: border-box; color: #63a35c;&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;pl-e&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;./res/js/app.js&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&amp;gt;&lt;span class=&quot;pl-s1&quot; style=&quot;box-sizing: border-box;&quot;&gt;&amp;lt;&lt;/span&gt;/&lt;span class=&quot;pl-ent&quot; style=&quot;box-sizing: border-box; color: #63a35c;&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;br /&gt;&lt;br /&gt;    &amp;lt;&lt;span class=&quot;pl-ent&quot; style=&quot;box-sizing: border-box; color: #63a35c;&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;span class=&quot;pl-s1&quot; style=&quot;box-sizing: border-box;&quot;&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;pl-s1&quot; style=&quot;box-sizing: border-box;&quot;&gt;       &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;getHtml&lt;/span&gt;(&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;template&lt;/span&gt;) {&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;pl-s1&quot; style=&quot;box-sizing: border-box;&quot;&gt;          &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;template&lt;/span&gt;.&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;join&lt;/span&gt;(&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;pl-cce&quot; style=&quot;box-sizing: border-box;&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;);&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;pl-s1&quot; style=&quot;box-sizing: border-box;&quot;&gt;       }&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;pl-s1&quot; style=&quot;box-sizing: border-box;&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;pl-s1&quot; style=&quot;box-sizing: border-box;&quot;&gt;&amp;lt;&lt;/span&gt;/&lt;span class=&quot;pl-ent&quot; style=&quot;box-sizing: border-box; color: #63a35c;&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;br /&gt;  &amp;lt;/&lt;span class=&quot;pl-ent&quot; style=&quot;box-sizing: border-box; color: #63a35c;&quot;&gt;head&lt;/span&gt;&amp;gt;&lt;br /&gt;  &amp;lt;&lt;span class=&quot;pl-ent&quot; style=&quot;box-sizing: border-box; color: #63a35c;&quot;&gt;body&lt;/span&gt;&amp;gt;&lt;br /&gt;    &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;&amp;lt;!--&lt;/span&gt; 로그인을 위한 부분입니다. &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;--&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;    &amp;lt;&lt;span class=&quot;pl-ent&quot; style=&quot;box-sizing: border-box; color: #63a35c;&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;br /&gt;      &amp;lt;&lt;span class=&quot;pl-ent&quot; style=&quot;box-sizing: border-box; color: #63a35c;&quot;&gt;h1&lt;/span&gt;&amp;gt;Cognito Sign in&amp;lt;/&lt;span class=&quot;pl-ent&quot; style=&quot;box-sizing: border-box; color: #63a35c;&quot;&gt;h1&lt;/span&gt;&amp;gt;&lt;br /&gt;      Username : &amp;lt;&lt;span class=&quot;pl-ent&quot; style=&quot;box-sizing: border-box; color: #63a35c;&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;pl-e&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;signin_username&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;pl-e&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;text&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;pl-e&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;size&lt;/span&gt;=&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;20&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;pl-e&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;placeholder&lt;/span&gt;=&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;Username&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&amp;gt;&amp;lt;&lt;span class=&quot;pl-ent&quot; style=&quot;box-sizing: border-box; color: #63a35c;&quot;&gt;br&lt;/span&gt;&amp;gt;&lt;br /&gt;      Password : &amp;lt;&lt;span class=&quot;pl-ent&quot; style=&quot;box-sizing: border-box; color: #63a35c;&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;pl-e&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;signin_pwd&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;pl-e&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;password&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;pl-e&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;size&lt;/span&gt;=&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;20&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;pl-e&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;placeholder&lt;/span&gt;=&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;Password&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&amp;gt;&amp;lt;&lt;span class=&quot;pl-ent&quot; style=&quot;box-sizing: border-box; color: #63a35c;&quot;&gt;br&lt;/span&gt;&amp;gt;&lt;br /&gt;      &amp;lt;&lt;span class=&quot;pl-ent&quot; style=&quot;box-sizing: border-box; color: #63a35c;&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;pl-e&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;button&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;pl-e&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;onclick&lt;/span&gt;=&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;submitSignin()&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;pl-e&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;value&lt;/span&gt;=&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;Sign in&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&amp;gt;&lt;br /&gt;    &amp;lt;/&lt;span class=&quot;pl-ent&quot; style=&quot;box-sizing: border-box; color: #63a35c;&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;br /&gt;&lt;br /&gt;    &amp;lt;&lt;span class=&quot;pl-ent&quot; style=&quot;box-sizing: border-box; color: #63a35c;&quot;&gt;h1&lt;/span&gt;&amp;gt;My Photo Albums App&amp;lt;/&lt;span class=&quot;pl-ent&quot; style=&quot;box-sizing: border-box; color: #63a35c;&quot;&gt;h1&lt;/span&gt;&amp;gt;&lt;br /&gt;    &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;&amp;lt;!--&lt;/span&gt; app div 내부에 함수들의 실행 결과가 출력될 것입니다. &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;--&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;    &amp;lt;&lt;span class=&quot;pl-ent&quot; style=&quot;box-sizing: border-box; color: #63a35c;&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;pl-e&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;app&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&amp;gt;&amp;lt;/&lt;span class=&quot;pl-ent&quot; style=&quot;box-sizing: border-box; color: #63a35c;&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;br /&gt;  &amp;lt;/&lt;span class=&quot;pl-ent&quot; style=&quot;box-sizing: border-box; color: #63a35c;&quot;&gt;body&lt;/span&gt;&amp;gt;&lt;br /&gt;&amp;lt;/&lt;span class=&quot;pl-ent&quot; style=&quot;box-sizing: border-box; color: #63a35c;&quot;&gt;html&lt;/span&gt;&amp;gt;&lt;/pre&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;코드를 실행하면 아래와 같이 스타일 없는 밋밋한 화면이 출력됩니다.&lt;br /&gt;원문대로라면 앨범 리스트가 나와야하지만, 본 포스팅에서는 로그인에 성공하면 앨범 리스트가 출력되도록 수정하였습니다.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-rWvQitMmpIM/WTobr3B0b4I/AAAAAAAAA2Q/Is8WppUseXs1mLFv34KQidVdlMyVguvEQCEw/s1600/image06.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;396&quot; data-original-width=&quot;485&quot; height=&quot;326&quot; src=&quot;https://1.bp.blogspot.com/-rWvQitMmpIM/WTobr3B0b4I/AAAAAAAAA2Q/Is8WppUseXs1mLFv34KQidVdlMyVguvEQCEw/s400/image06.jpg&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;로그인에 성공하면 아래와 같이 표시됩니다.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-2yqpVyKg7NM/WTobseZg4UI/AAAAAAAAA2Q/_LDSruxMrv8z-GSgi9tz-6Fec2tQI0a4gCEw/s1600/image07.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;474&quot; data-original-width=&quot;436&quot; height=&quot;400&quot; src=&quot;https://1.bp.blogspot.com/-2yqpVyKg7NM/WTobseZg4UI/AAAAAAAAA2Q/_LDSruxMrv8z-GSgi9tz-6Fec2tQI0a4gCEw/s400/image07.jpg&quot; width=&quot;367&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;&lt;/div&gt;&lt;h2 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-top: 24px; padding-bottom: 0.3em;&quot;&gt;2. Javascript 코드 작성&lt;/h2&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;Javascript코드는 HTML의 head 내부에 script 태그로 넣어도 되지만, 내용이 조금 기니깐 따로 파일로 저장하시는게 좋습니다.&lt;br /&gt;위의 HTML 코드에서도 보이듯이 저는 app.js 라고 파일을 작성해서 HTML 코드에서 불러왔습니다.&lt;br /&gt;참고로, 제 포스팅의 코드와 원문의 코드가 조금씩 다른 부분은 다 로그인한 사용자만 허용하기 위해서 코드를 조금 수정한 것입니다.&lt;/div&gt;&lt;h3 style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 1.25em; line-height: 1.25; margin-bottom: 16px; margin-top: 24px;&quot;&gt;2-1. AWS SDK와 AWS Cognito를 사용하기 위한 환경설정&lt;/h3&gt;&lt;div class=&quot;highlight highlight-source-js&quot; style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; overflow: auto; padding: 16px; word-break: normal; word-wrap: normal;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; 리전 정보&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;var&lt;/span&gt; regionInfo &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&amp;lt;region&amp;gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; 포토앨범으로 사용할 Bucket 이름&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;var&lt;/span&gt; albumBucketName &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&amp;lt;bucket-name&amp;gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; 로그인 기능을 위한 Id 설정들&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;var&lt;/span&gt; userPoolId &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&amp;lt;user pool id&amp;gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;;&lt;br /&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;var&lt;/span&gt; appClientId &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&amp;lt;app client id&amp;gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;;    &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; 위의 userpool에서 생성한 app client id를 입력하시면 됩니다.&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;var&lt;/span&gt; identityPoolId &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&amp;lt;identity pool id&amp;gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;;  &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; 위의 userpool을 이용해서 생성한 federated identity pool의 id를 입력하시면 됩니다.&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; AWS.config에 리전 정보 설정&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;AWS&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;config&lt;/span&gt;.&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;update&lt;/span&gt;({&lt;br /&gt;  region&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;:&lt;/span&gt; regionInfo&lt;br /&gt;});&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; AWSCognito 객체에도 리전 정보 설정&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;AWSCognito&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;config&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;region&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;=&lt;/span&gt; regionInfo;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; 사용할 User Pool의 정보를 저장&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;var&lt;/span&gt; poolData &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;=&lt;/span&gt; {&lt;br /&gt;  UserPoolId &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;:&lt;/span&gt; userPoolId,&lt;br /&gt;  ClientId &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;:&lt;/span&gt; appClientId&lt;br /&gt;};&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; 입력한 User Pool 정보를 가지고 실제 User Pool에 접근할 수 있는 객체 생성&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;var&lt;/span&gt; userPool &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;AWSCognito.CognitoIdentityServiceProvider.CognitoUserPool&lt;/span&gt;(poolData);&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; 로그인 성공시 로그인 한 사용자의 정보를 반환받는 변수&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;var&lt;/span&gt; cognitoUser;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; s3 객체를 담기 위한 전역변수 선언&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;var&lt;/span&gt; s3;&lt;/pre&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;꺽인 괄호(&amp;lt;&amp;gt;)로 된 부분을 모두 자신의 정보로 대체해주시면 됩니다.&lt;br /&gt;identityPoolId를 받기 위해서 AWS Cognito Federated Identitis에서 Identity Pool을 생성해야하는데,&lt;br /&gt;이와 관련한 자세한 사항은 아래 링크를 참고하시면 좋습니다.&lt;br /&gt;(링크 :&amp;nbsp;&lt;a href=&quot;https://walkinpcm.blogspot.kr/2017/06/aws-aws-cognito-federated-identities.html&quot; style=&quot;box-sizing: border-box; color: #0366d6; text-decoration-line: none;&quot;&gt;https://walkinpcm.blogspot.kr/2017/06/aws-aws-cognito-federated-identities.html&lt;/a&gt;)&lt;/div&gt;&lt;h3 style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 1.25em; line-height: 1.25; margin-bottom: 16px; margin-top: 24px;&quot;&gt;2-2. 로그인 함수&lt;/h3&gt;&lt;div&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; color: #24292e; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; overflow: auto; padding: 16px; word-break: normal; word-wrap: normal;&quot;&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #6f42c1;&quot;&gt;submitSignin&lt;/span&gt;() {&lt;br /&gt;  &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #6a737d;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; 입력 폼에서 ID와 비밀번호를 입력받습니다.&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;var&lt;/span&gt; user_Name &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;getElementById&lt;/span&gt;(&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #032f62;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;signin_username&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;).&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;value&lt;/span&gt;;&lt;br /&gt;  &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;var&lt;/span&gt; user_Pw &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;getElementById&lt;/span&gt;(&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #032f62;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;signin_pwd&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;).&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;value&lt;/span&gt;;&lt;br /&gt;&lt;br /&gt;  &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #6a737d;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; ID와 Password를 정해진 속성명인 Username과 Password에 담습니다.&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;var&lt;/span&gt; authenticationData &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;=&lt;/span&gt; {&lt;br /&gt;    Username &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;:&lt;/span&gt; user_Name,&lt;br /&gt;    Password &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;:&lt;/span&gt; user_Pw&lt;br /&gt;  };&lt;br /&gt;&lt;br /&gt;  &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #6a737d;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; 여기에는 ID와 User Pool 정보를 담아 놓습니다.&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;var&lt;/span&gt; userData &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;=&lt;/span&gt; {&lt;br /&gt;    Username &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;:&lt;/span&gt; user_Name, &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #6a737d;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; your username here&lt;/span&gt;&lt;br /&gt;    Pool &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;:&lt;/span&gt; userPool&lt;br /&gt;  };&lt;br /&gt;&lt;br /&gt;  &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #6a737d;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; 로그인을 위해 Cognito 객체 2개를 준비합니다.&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;var&lt;/span&gt; authenticationDetails &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #6f42c1;&quot;&gt;AWSCognito.CognitoIdentityServiceProvider.AuthenticationDetails&lt;/span&gt;(authenticationData);&lt;br /&gt;  cognitoUser &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #6f42c1;&quot;&gt;AWSCognito.CognitoIdentityServiceProvider.CognitoUser&lt;/span&gt;(userData);&lt;br /&gt;&lt;br /&gt;  &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #6a737d;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; authenticateUser 함수로 로그인을 시도합니다.&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;cognitoUser&lt;/span&gt;.&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #6f42c1;&quot;&gt;authenticateUser&lt;/span&gt;(authenticationDetails, {&lt;br /&gt;    &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #6f42c1;&quot;&gt;onSuccess&lt;/span&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;result&lt;/span&gt;) {&lt;br /&gt;      &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #6a737d;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; credentials를 가져오기 위해 필요한 정보들을 입력합니다.&lt;/span&gt;&lt;br /&gt;      &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;AWS&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;config&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;credentials&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #6f42c1;&quot;&gt;AWS.CognitoIdentityCredentials&lt;/span&gt;({&lt;br /&gt;        IdentityPoolId&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;:&lt;/span&gt; identityPoolId,&lt;br /&gt;        Logins&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;:&lt;/span&gt; {}&lt;br /&gt;      });&lt;br /&gt;      &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;AWS&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;config&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;credentials&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;params&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;Logins&lt;/span&gt;[&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #032f62;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;cognito-idp.&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;+&lt;/span&gt; regionInfo &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #032f62;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;.amazonaws.com/&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;+&lt;/span&gt; userPoolId] &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;result&lt;/span&gt;.&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #6f42c1;&quot;&gt;getIdToken&lt;/span&gt;().&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #6f42c1;&quot;&gt;getJwtToken&lt;/span&gt;();&lt;br /&gt;&lt;br /&gt;      &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #6a737d;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; get() 함수로 credentials을 획득합니다.&lt;/span&gt;&lt;br /&gt;      &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;AWS&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;config&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;credentials&lt;/span&gt;.&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #005cc5;&quot;&gt;get&lt;/span&gt;(&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;err&lt;/span&gt;){&lt;br /&gt;        &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;if&lt;/span&gt; (err) {&lt;br /&gt;          &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #6f42c1;&quot;&gt;alert&lt;/span&gt;(err);&lt;br /&gt;        }&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;else&lt;/span&gt;{&lt;br /&gt;          &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #6a737d;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; !!! 주의 !!! S3 객체를 만들때는 credentials이 획득된 상태에서 S3를 생성해야합니다.&lt;/span&gt;&lt;br /&gt;          &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #6a737d;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; 그렇지 않으면, Missing credentials in config 에러가 발생합니다.&lt;/span&gt;&lt;br /&gt;          s3 &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #6f42c1;&quot;&gt;AWS.S3&lt;/span&gt;({&lt;br /&gt;            apiVersion&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #032f62;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;2006-03-01&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;            params&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;:&lt;/span&gt; {Bucket&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;:&lt;/span&gt; albumBucketName}&lt;br /&gt;          });&lt;br /&gt;&lt;br /&gt;          &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #6a737d;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; s3객체를 획득하고 앨범 리스트를 출력합니다.&lt;/span&gt;&lt;br /&gt;          &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #6f42c1;&quot;&gt;listAlbums&lt;/span&gt;();&lt;br /&gt;        }&lt;br /&gt;      });&lt;br /&gt;    },&lt;br /&gt;    &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #6f42c1;&quot;&gt;onFailure&lt;/span&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #d73a49;&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box;&quot;&gt;err&lt;/span&gt;) {&lt;br /&gt;      &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #6f42c1;&quot;&gt;alert&lt;/span&gt;(err);&lt;br /&gt;    }&lt;br /&gt;  });&lt;br /&gt;}&lt;/pre&gt;&lt;/div&gt;&lt;h3 style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 1.25em; line-height: 1.25; margin-bottom: 16px; margin-top: 24px;&quot;&gt;2-3. 포토앨범 제어 함수&lt;/h3&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;이 부분은 원문의 코드와 다른점이 없기에 상세한 설명은 생략하도록 하겠습니다.&lt;br /&gt;다만, 원문의 오타인것인지 viewAlbum() 함수의 첫줄에서 슬래시가 2개면 정상적으로 안되고 1개면 정상적으로 되는 것 같더군요.&lt;br /&gt;그래서 저는 슬래시 1개만 썼습니다.&lt;br /&gt;관련해서 AWS에 Feedback을 남겼는데, 답변을 받아봐야 진상을 알 것 같네요 ㅎㅎㅎ&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;전체 코드를 보시려면 아래를 펼쳐주세요.&lt;br /&gt;원문을 복사한것이 아니라 제가 작성해서 작동을 확인한 코드입니다.&lt;/div&gt;&lt;div id=&quot;more01a&quot; style=&quot;display: block;&quot;&gt;&lt;a href=&quot;https://www.blogger.com/blogger.g?blogID=3470089366387037599#&quot; onclick=&quot;layer_toggle(document.getElementById(&#39;more01a&#39;)); layer_toggle(document.getElementById(&#39;more01b&#39;)); return false;&quot;&gt; &lt;/a&gt;&lt;br /&gt;&lt;a href=&quot;https://www.blogger.com/blogger.g?blogID=3470089366387037599#&quot; onclick=&quot;layer_toggle(document.getElementById(&#39;more01a&#39;)); layer_toggle(document.getElementById(&#39;more01b&#39;)); return false;&quot;&gt;전체 코드 보기&lt;/a&gt;&lt;br /&gt;&lt;a href=&quot;https://www.blogger.com/blogger.g?blogID=3470089366387037599#&quot; onclick=&quot;layer_toggle(document.getElementById(&#39;more01a&#39;)); layer_toggle(document.getElementById(&#39;more01b&#39;)); return false;&quot;&gt; &lt;/a&gt;&lt;/div&gt;&lt;div id=&quot;more01b&quot; style=&quot;display: none;&quot;&gt;&lt;a href=&quot;https://www.blogger.com/blogger.g?blogID=3470089366387037599#&quot; onclick=&quot;layer_toggle(document.getElementById(&#39;more01a&#39;)); layer_toggle(document.getElementById(&#39;more01b&#39;)); return false;&quot;&gt; &lt;/a&gt;&lt;br /&gt;&lt;a href=&quot;https://www.blogger.com/blogger.g?blogID=3470089366387037599#&quot; onclick=&quot;layer_toggle(document.getElementById(&#39;more01a&#39;)); layer_toggle(document.getElementById(&#39;more01b&#39;)); return false;&quot;&gt;전체 코드 숨기기&lt;/a&gt;&lt;br /&gt;&lt;a href=&quot;https://www.blogger.com/blogger.g?blogID=3470089366387037599#&quot; onclick=&quot;layer_toggle(document.getElementById(&#39;more01a&#39;)); layer_toggle(document.getElementById(&#39;more01b&#39;)); return false;&quot;&gt; &lt;/a&gt; &lt;br /&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;highlight highlight-source-js&quot; style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; overflow: auto; padding: 16px; word-break: normal; word-wrap: normal;&quot;&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;createAlbum&lt;/span&gt;(&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;albumName&lt;/span&gt;) {&lt;br /&gt;  albumName &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;albumName&lt;/span&gt;.&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;trim&lt;/span&gt;();&lt;br /&gt;  &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;!&lt;/span&gt;albumName) {&lt;br /&gt;    &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;alert&lt;/span&gt;(&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;Album names must contain at least one non-space character.&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;);&lt;br /&gt;  }&lt;br /&gt;  &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;albumName&lt;/span&gt;.&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;indexOf&lt;/span&gt;(&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;/&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;) &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;1&lt;/span&gt;) {&lt;br /&gt;    &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;alert&lt;/span&gt;(&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;Album names cannot contain slashes.&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;);&lt;br /&gt;  }&lt;br /&gt;  &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;var&lt;/span&gt; albumKey &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;encodeURIComponent&lt;/span&gt;(albumName) &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;/&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;;&lt;br /&gt;  &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;s3&lt;/span&gt;.&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;headObject&lt;/span&gt;({Key&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;:&lt;/span&gt; albumKey}, &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;err&lt;/span&gt;, &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;data&lt;/span&gt;) {&lt;br /&gt;    &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;!&lt;/span&gt;err) {&lt;br /&gt;      &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;alert&lt;/span&gt;(&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;Album already exists.&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;);&lt;br /&gt;    }&lt;br /&gt;    &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;err&lt;/span&gt;.&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;code&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;NotFound&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;) {&lt;br /&gt;      &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;alert&lt;/span&gt;(&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;There was an error creating your album: &lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;err&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;message&lt;/span&gt;);&lt;br /&gt;    }&lt;br /&gt;    &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;s3&lt;/span&gt;.&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;putObject&lt;/span&gt;({Key&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;:&lt;/span&gt; albumKey}, &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;err&lt;/span&gt;, &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;data&lt;/span&gt;) {&lt;br /&gt;      &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;if&lt;/span&gt; (err) {&lt;br /&gt;        &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;alert&lt;/span&gt;(&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;There was an error creating your album: &lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;err&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;message&lt;/span&gt;);&lt;br /&gt;      }&lt;br /&gt;      &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;alert&lt;/span&gt;(&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;Successfully created album.&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;);&lt;br /&gt;      &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;viewAlbum&lt;/span&gt;(albumName);&lt;br /&gt;    });&lt;br /&gt;  });&lt;br /&gt;}&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;listAlbums&lt;/span&gt;() {&lt;br /&gt;  &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;s3&lt;/span&gt;.&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;listObjects&lt;/span&gt;({Delimiter&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;/&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;}, &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;err&lt;/span&gt;, &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;data&lt;/span&gt;) {&lt;br /&gt;    &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;if&lt;/span&gt; (err) {&lt;br /&gt;      &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;alert&lt;/span&gt;(&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;There was an error listing your albums: &lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;err&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;message&lt;/span&gt;);&lt;br /&gt;    } &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;else&lt;/span&gt; {&lt;br /&gt;      &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;var&lt;/span&gt; albums &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;data&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;CommonPrefixes&lt;/span&gt;.&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;map&lt;/span&gt;(&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;commonPrefix&lt;/span&gt;) {&lt;br /&gt;        &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;var&lt;/span&gt; prefix &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;commonPrefix&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;Prefix&lt;/span&gt;;&lt;br /&gt;        &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;var&lt;/span&gt; albumName &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;decodeURIComponent&lt;/span&gt;(&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;prefix&lt;/span&gt;.&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;replace&lt;/span&gt;(&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;/&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;, &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;));&lt;br /&gt;        &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;getHtml&lt;/span&gt;([&lt;br /&gt;          &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&amp;lt;li&amp;gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;            &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&amp;lt;span onclick=&quot;deleteAlbum(&lt;span class=&quot;pl-cce&quot; style=&quot;box-sizing: border-box;&quot;&gt;\&#39;&lt;/span&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;+&lt;/span&gt; albumName &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;pl-cce&quot; style=&quot;box-sizing: border-box;&quot;&gt;\&#39;&lt;/span&gt;)&quot;&amp;gt;X&amp;lt;/span&amp;gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;            &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&amp;lt;span onclick=&quot;viewAlbum(&lt;span class=&quot;pl-cce&quot; style=&quot;box-sizing: border-box;&quot;&gt;\&#39;&lt;/span&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;+&lt;/span&gt; albumName &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;pl-cce&quot; style=&quot;box-sizing: border-box;&quot;&gt;\&#39;&lt;/span&gt;)&quot;&amp;gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;              albumName,&lt;br /&gt;            &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&amp;lt;/span&amp;gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;          &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&amp;lt;/li&amp;gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;        ]);&lt;br /&gt;      });&lt;br /&gt;      &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;var&lt;/span&gt; message &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;albums&lt;/span&gt;.&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;length&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;?&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;getHtml&lt;/span&gt;([&lt;br /&gt;          &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&amp;lt;p&amp;gt;Click on an album name to view it.&amp;lt;/p&amp;gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;          &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&amp;lt;p&amp;gt;Click on the X to delete the album.&amp;lt;/p&amp;gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;        ]) &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;:&lt;/span&gt;&lt;br /&gt;        &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&amp;lt;p&amp;gt;You do not have any albums. Please Create album.&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;;&lt;br /&gt;      &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;var&lt;/span&gt; htmlTemplate &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;=&lt;/span&gt; [&lt;br /&gt;        &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&amp;lt;h2&amp;gt;Albums&amp;lt;/h2&amp;gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;        message,&lt;br /&gt;        &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&amp;lt;ul&amp;gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;          &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;getHtml&lt;/span&gt;(albums),&lt;br /&gt;        &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&amp;lt;/ul&amp;gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;        &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&amp;lt;button onclick=&quot;createAlbum(prompt(&lt;span class=&quot;pl-cce&quot; style=&quot;box-sizing: border-box;&quot;&gt;\&#39;&lt;/span&gt;Enter Album Name:&lt;span class=&quot;pl-cce&quot; style=&quot;box-sizing: border-box;&quot;&gt;\&#39;&lt;/span&gt;))&quot;&amp;gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;          &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;Create New Album&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;        &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&amp;lt;/button&amp;gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;      ]&lt;br /&gt;      &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;getElementById&lt;/span&gt;(&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;app&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;).&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;innerHTML&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;getHtml&lt;/span&gt;(htmlTemplate);&lt;br /&gt;    }&lt;br /&gt;  });&lt;br /&gt;}&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;viewAlbum&lt;/span&gt;(&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;albumName&lt;/span&gt;) {&lt;br /&gt;  &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;var&lt;/span&gt; albumPhotosKey &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;encodeURIComponent&lt;/span&gt;(albumName) &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;/&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;;     &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; 여기 &#39;//&#39;였는데 &#39;/&#39;로 수정함.&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;s3&lt;/span&gt;.&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;listObjects&lt;/span&gt;({Prefix&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;:&lt;/span&gt; albumPhotosKey}, &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;err&lt;/span&gt;, &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;data&lt;/span&gt;) {&lt;br /&gt;    &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;if&lt;/span&gt; (err) {&lt;br /&gt;      &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;alert&lt;/span&gt;(&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;There was an error viewing your album: &lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;err&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;message&lt;/span&gt;);&lt;br /&gt;    }&lt;br /&gt;    &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; `this` references the AWS.Response instance that represents the response&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;var&lt;/span&gt; href &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;request&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;httpRequest&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;endpoint&lt;/span&gt;.&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;href&lt;/span&gt;;&lt;br /&gt;    &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;var&lt;/span&gt; bucketUrl &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;=&lt;/span&gt; href &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;+&lt;/span&gt; albumBucketName &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;/&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;;&lt;br /&gt;&lt;br /&gt;    &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;var&lt;/span&gt; photos &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;data&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;Contents&lt;/span&gt;.&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;map&lt;/span&gt;(&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;photo&lt;/span&gt;) {&lt;br /&gt;      &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;var&lt;/span&gt; photoKey &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;photo&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;Key&lt;/span&gt;;&lt;br /&gt;      &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;var&lt;/span&gt; photoUrl &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;=&lt;/span&gt; bucketUrl &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;encodeURIComponent&lt;/span&gt;(photoKey);&lt;br /&gt;      &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;getHtml&lt;/span&gt;([&lt;br /&gt;        &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&amp;lt;span&amp;gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;          &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&amp;lt;div&amp;gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;            &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&amp;lt;img style=&quot;width:128px;height:128px;&quot; src=&quot;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;+&lt;/span&gt; photoUrl &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&quot;/&amp;gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;          &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&amp;lt;/div&amp;gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;          &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&amp;lt;div&amp;gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;            &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&amp;lt;span onclick=&quot;deletePhoto(&lt;span class=&quot;pl-cce&quot; style=&quot;box-sizing: border-box;&quot;&gt;\&#39;&lt;/span&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;+&lt;/span&gt; albumName &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&#39;,&#39;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;+&lt;/span&gt; photoKey &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;pl-cce&quot; style=&quot;box-sizing: border-box;&quot;&gt;\&#39;&lt;/span&gt;)&quot;&amp;gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;              &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;X&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;            &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&amp;lt;/span&amp;gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;            &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&amp;lt;span&amp;gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;              &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;photoKey&lt;/span&gt;.&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;replace&lt;/span&gt;(albumPhotosKey, &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;),&lt;br /&gt;            &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&amp;lt;/span&amp;gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;          &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&amp;lt;/div&amp;gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;        &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&amp;lt;span&amp;gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;      ]);&lt;br /&gt;    });&lt;br /&gt;    &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;var&lt;/span&gt; message &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;photos&lt;/span&gt;.&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;length&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;?&lt;/span&gt;&lt;br /&gt;      &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&amp;lt;p&amp;gt;Click on the X to delete the photo&amp;lt;/p&amp;gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;:&lt;/span&gt;&lt;br /&gt;      &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&amp;lt;p&amp;gt;You do not have any photos in this album. Please add photos.&amp;lt;/p&amp;gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;;&lt;br /&gt;    &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;var&lt;/span&gt; htmlTemplate &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;=&lt;/span&gt; [&lt;br /&gt;      &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&amp;lt;h2&amp;gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;        &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;Album: &lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;+&lt;/span&gt; albumName,&lt;br /&gt;      &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&amp;lt;/h2&amp;gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;      message,&lt;br /&gt;      &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&amp;lt;div&amp;gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;        &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;getHtml&lt;/span&gt;(photos),&lt;br /&gt;      &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&amp;lt;/div&amp;gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;      &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&amp;lt;input id=&quot;photoupload&quot; type=&quot;file&quot; accept=&quot;image/*&quot;&amp;gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;      &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&amp;lt;button id=&quot;addphoto&quot; onclick=&quot;addPhoto(&lt;span class=&quot;pl-cce&quot; style=&quot;box-sizing: border-box;&quot;&gt;\&#39;&lt;/span&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;+&lt;/span&gt; albumName &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;pl-cce&quot; style=&quot;box-sizing: border-box;&quot;&gt;\&#39;&lt;/span&gt;)&quot;&amp;gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;        &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;Add Photo&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;      &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&amp;lt;/button&amp;gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;      &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&amp;lt;button onclick=&quot;listAlbums()&quot;&amp;gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;        &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;Back To Albums&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;      &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&amp;lt;/button&amp;gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;,      &lt;br /&gt;    ]&lt;br /&gt;    &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;getElementById&lt;/span&gt;(&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;app&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;).&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;innerHTML&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;getHtml&lt;/span&gt;(htmlTemplate);&lt;br /&gt;  });&lt;br /&gt;}&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;addPhoto&lt;/span&gt;(&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;albumName&lt;/span&gt;) {&lt;br /&gt;  &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;var&lt;/span&gt; files &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;getElementById&lt;/span&gt;(&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;photoupload&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;).&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;files&lt;/span&gt;;&lt;br /&gt;  &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;files&lt;/span&gt;.&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;length&lt;/span&gt;) {&lt;br /&gt;    &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;alert&lt;/span&gt;(&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;Please choose a file to upload first.&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;);&lt;br /&gt;  }&lt;br /&gt;  &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;var&lt;/span&gt; file &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;=&lt;/span&gt; files[&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;0&lt;/span&gt;];&lt;br /&gt;  &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;var&lt;/span&gt; fileName &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;file&lt;/span&gt;.&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;name&lt;/span&gt;;&lt;br /&gt;  &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;var&lt;/span&gt; albumPhotosKey &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;encodeURIComponent&lt;/span&gt;(albumName) &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;/&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;;&lt;br /&gt;&lt;br /&gt;  &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;var&lt;/span&gt; photoKey &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;=&lt;/span&gt; albumPhotosKey &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;+&lt;/span&gt; fileName;&lt;br /&gt;  &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;s3&lt;/span&gt;.&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;upload&lt;/span&gt;({&lt;br /&gt;    Key&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;:&lt;/span&gt; photoKey,&lt;br /&gt;    Body&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;:&lt;/span&gt; file,&lt;br /&gt;    &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;ACL&lt;/span&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;public-read&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;  }, &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;err&lt;/span&gt;, &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;data&lt;/span&gt;) {&lt;br /&gt;    &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;if&lt;/span&gt; (err) {&lt;br /&gt;      &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;alert&lt;/span&gt;(&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;There was an error uploading your photo: &lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;, &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;err&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;message&lt;/span&gt;);&lt;br /&gt;    }&lt;br /&gt;    &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;alert&lt;/span&gt;(&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;Successfully uploaded photo.&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;);&lt;br /&gt;    &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;viewAlbum&lt;/span&gt;(albumName);&lt;br /&gt;  });&lt;br /&gt;}&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;deletePhoto&lt;/span&gt;(&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;albumName&lt;/span&gt;, &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;photoKey&lt;/span&gt;) {&lt;br /&gt;  &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;s3&lt;/span&gt;.&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;deleteObject&lt;/span&gt;({Key&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;:&lt;/span&gt; photoKey}, &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;err&lt;/span&gt;, &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;data&lt;/span&gt;) {&lt;br /&gt;    &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;if&lt;/span&gt; (err) {&lt;br /&gt;      &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;alert&lt;/span&gt;(&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;There was an error deleting your photo: &lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;, &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;err&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;message&lt;/span&gt;);&lt;br /&gt;    }&lt;br /&gt;    &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;alert&lt;/span&gt;(&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;Successfully deleted photo.&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;);&lt;br /&gt;    &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;viewAlbum&lt;/span&gt;(albumName);&lt;br /&gt;  });&lt;br /&gt;}&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;deleteAlbum&lt;/span&gt;(&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;albumName&lt;/span&gt;) {&lt;br /&gt;  &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;var&lt;/span&gt; albumKey &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;encodeURIComponent&lt;/span&gt;(albumName) &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;/&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;;&lt;br /&gt;  &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;s3&lt;/span&gt;.&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;listObjects&lt;/span&gt;({Prefix&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;:&lt;/span&gt; albumKey}, &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;err&lt;/span&gt;, &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;data&lt;/span&gt;) {&lt;br /&gt;    &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;if&lt;/span&gt; (err) {&lt;br /&gt;      &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;alert&lt;/span&gt;(&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;There was an error deleting your album: &lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;, &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;err&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;message&lt;/span&gt;);&lt;br /&gt;    }&lt;br /&gt;    &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;var&lt;/span&gt; objects &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;data&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;Contents&lt;/span&gt;.&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;map&lt;/span&gt;(&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;object&lt;/span&gt;) {&lt;br /&gt;      &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;return&lt;/span&gt; {Key&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;object&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;Key&lt;/span&gt;};&lt;br /&gt;    });&lt;br /&gt;    &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;s3&lt;/span&gt;.&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;deleteObjects&lt;/span&gt;({&lt;br /&gt;      Delete&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;:&lt;/span&gt; {Objects&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;:&lt;/span&gt; objects, Quiet&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;true&lt;/span&gt;}&lt;br /&gt;    }, &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;err&lt;/span&gt;, &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;data&lt;/span&gt;) {&lt;br /&gt;      &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;if&lt;/span&gt; (err) {&lt;br /&gt;        &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;alert&lt;/span&gt;(&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;There was an error deleting your album: &lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;, &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;err&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;message&lt;/span&gt;);&lt;br /&gt;      }&lt;br /&gt;      &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;alert&lt;/span&gt;(&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;Successfully deleted album.&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;);&lt;br /&gt;      &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;listAlbums&lt;/span&gt;();&lt;br /&gt;    });&lt;br /&gt;  });&lt;br /&gt;}&lt;/pre&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;br /&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;모든 코드를 다 작성하시고, html 페이지를 웹브라우저에서 열으셔서 로그인을 하시면 앨범 목록이 보이고(처음엔 비었겠지만)&lt;br /&gt;앨범을 생성하실 수 있습니다. 사진도 넣으실 수 있구요. 물론 사진 삭제도 됩니다.&lt;br /&gt;&lt;br /&gt;다만 저도 아직 이상한 점은... 앨범을 생성하면 자동으로 빈껍데기 파일이 앨범안에 하나가 생성되더라구요..&lt;br /&gt;코드 상에서 putObject가 있는데 일부러 넣은 것 같아서 뺄 수도 없고,,, 일단 좀 살펴봐야할 것 같습니다.&lt;br /&gt;이 부분이 전체적인 기능에 문제가 되지는 않으니 일단 무시해도 될 것 같습니다~ &lt;br /&gt;&lt;br /&gt;&lt;br /&gt;여기까지해서 이번 포스팅을 마치겠습니다.&lt;br /&gt;참고로, 본 포스팅의 코드가 제가 실습한 전체 코드입니다.&lt;br /&gt;혹여 틀린 부분이나 보완되야할 부분을 댓글로 남겨주시면 최대한 빠르게 댓글 달고 수정하도록 하겠습니다~&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;감사합니다~!&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;&lt;/div&gt;&lt;h4 style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; line-height: 1.25; margin-bottom: 16px; margin-top: 24px;&quot;&gt;참고 링크&lt;/h4&gt;&lt;ul style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 0px !important; margin-top: 0px; padding-left: 2em;&quot;&gt;&lt;li style=&quot;box-sizing: border-box;&quot;&gt;[AWS Document] Uploading Photos to Amazon S3 from a Browser&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;&lt;a href=&quot;http://docs.aws.amazon.com/ko_kr/sdk-for-javascript/v2/developer-guide/s3-example-photo-album.html&quot; style=&quot;box-sizing: border-box; color: #0366d6; text-decoration-line: none;&quot;&gt;http://docs.aws.amazon.com/ko_kr/sdk-for-javascript/v2/developer-guide/s3-example-photo-album.html&lt;/a&gt;&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; margin-top: 0.25em;&quot;&gt;[AWS] AWS Cognito 입문 가이드&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;&lt;a href=&quot;https://walkinpcm.blogspot.kr/2017/05/aws-aws-cognito.html&quot; style=&quot;box-sizing: border-box; color: #0366d6; text-decoration-line: none;&quot;&gt;https://walkinpcm.blogspot.kr/2017/05/aws-aws-cognito.html&lt;/a&gt;&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; margin-top: 0.25em;&quot;&gt;[AWS] AWS Cognito Federated Identities 시작하기&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;&lt;a href=&quot;https://walkinpcm.blogspot.kr/2017/06/aws-aws-cognito-federated-identities.html&quot; style=&quot;box-sizing: border-box; color: #0366d6; text-decoration-line: none;&quot;&gt;https://walkinpcm.blogspot.kr/2017/06/aws-aws-cognito-federated-identities.html&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content><link rel='replies' type='application/atom+xml' href='https://walkinpcm.blogspot.com/feeds/3865356141080600449/comments/default' title='댓글'/><link rel='replies' type='text/html' href='https://walkinpcm.blogspot.com/2017/06/aws-s3-aws-s3.html#comment-form' title='1개의 덧글'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/3470089366387037599/posts/default/3865356141080600449'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/3470089366387037599/posts/default/3865356141080600449'/><link rel='alternate' type='text/html' href='https://walkinpcm.blogspot.com/2017/06/aws-s3-aws-s3.html' title='[AWS] AWS S3를 이용해서 웹브라우저에서 사용할 수 있는 포토 앨범 만들기'/><author><name>Unknown</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='https://img1.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://1.bp.blogspot.com/-g9J9fszMwIM/WTobrJY0oeI/AAAAAAAAA10/sDw-LdDGzAMKzwrArONm6AAahmQeoKCvgCEw/s72-c/image01.jpg" height="72" width="72"/><thr:total>1</thr:total></entry><entry><id>tag:blogger.com,1999:blog-3470089366387037599.post-1030531153065624453</id><published>2017-06-08T20:19:00.001-07:00</published><updated>2017-06-23T01:34:54.536-07:00</updated><category scheme="http://www.blogger.com/atom/ns#" term="[007. Javascript]"/><category scheme="http://www.blogger.com/atom/ns#" term="[011. AWS]"/><title type='text'>[AWS] AWS Cognito Federated Identities 시작하기</title><content type='html'>&lt;h1 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-left: 0px; margin-right: 0px; margin-top: 0px !important; padding-bottom: 0.3em;&quot;&gt;&lt;span style=&quot;color: #cc0000;&quot;&gt;AWS Cognito Federated Identities 시작하기&lt;/span&gt;&lt;/h1&gt;&lt;h3 style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 1.25em; line-height: 1.25; margin-bottom: 16px; margin-top: 24px;&quot;&gt;(부제 : 자바스크립트에서 AWS 서비스에 접근하기 위한 AWS Credentials 획득방법)&lt;/h3&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;웹브라우저에서, AWS의 Javascript SDK를 이용해서 AWS의 서비스(ex. S3)에 접근하려면 당연히 권한이 있는지 인증을 해야하는데, 그 한가지 방법이 Federated Identities를 이용하여 Credentials을 획득해서 이용하는 것입니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;Federated Identities에서는 다양한 Identity Provider를 지원하는데, AWS Cognito UserPool도 한가지 Provider로 제공되고 있습니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;이번 포스팅에서는 AWS Cognito UserPool을 Identity Provider로 선택한 상태에서, 해당 Cognito UserPool에 가입된 계정으로 로그인해서 Credentials을 획득하는 과정을 정리해보겠습니다.&lt;/div&gt;&lt;h2 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-top: 24px; padding-bottom: 0.3em;&quot;&gt;0. 순서&lt;/h2&gt;&lt;ol style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px; margin-top: 0px; padding-left: 2em;&quot;&gt;&lt;li style=&quot;box-sizing: border-box;&quot;&gt;Federated Identities에서 Identity Pool 준비하기&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; margin-top: 0.25em;&quot;&gt;Cognito UserPool에 가입된 게정으로 로그인해서 Credentials 획득하기&lt;/li&gt;&lt;/ol&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;단계를 잘게 쪼개려 했는데, 그러면 쓸데없이 맥이 끊길거 같아서 2개 단계로만 나눴습니다.&lt;/div&gt;&lt;h2 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-top: 24px; padding-bottom: 0.3em;&quot;&gt;1. Federated Identities에서 Identity Pool 준비하기&lt;/h2&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;AWS Cognito는 User Pool과 Identity Pool, 2개의 서비스로 나눠진다고 볼 수 있습니다.&lt;br /&gt;User Pool은 회원 정보들의 저장소를 제공하는 서비스이고, Identity Pool은 Facebook, Google, Twitter 등 외부 서비스의 계정으로 로그인 할 수 있게 해주면서, AWS 서비스에 접근할 수 있는 Credentials을 생성해주는 서비스라고 할 수 있습니다.&lt;br /&gt;물론 Identity Pool에서는 User Pool도 Identity Provider로 사용할 수 있습니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;이제 Step by Step으로 진행해보겠습니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;AWS Cognito 서비스에 접속합니다.&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-U4NTMv8VTqo/WToNgPPA5kI/AAAAAAAAA1g/LZKjwip-1hIcpAOPoS6nBEmeskelj8oGgCLcB/s1600/image01.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;424&quot; data-original-width=&quot;891&quot; height=&quot;304&quot; src=&quot;https://3.bp.blogspot.com/-U4NTMv8VTqo/WToNgPPA5kI/AAAAAAAAA1g/LZKjwip-1hIcpAOPoS6nBEmeskelj8oGgCLcB/s640/image01.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;첫 화면에서&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Manage Federated Identities&lt;/code&gt;를 선택합니다.&lt;br /&gt;새로 생성하는 것이기 때문에&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Create new identity pool&lt;/code&gt;을 선택합니다.&lt;br /&gt;그럼 아래 화면처럼 Identity Pool을 설정하는 화면이 나타납니다.&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-_htjHcbehuQ/WToNgNc9ciI/AAAAAAAAA1c/lFKVS3mu0sYcwWRDoYh7x0OEbbHuUniCwCEw/s1600/image02.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;847&quot; data-original-width=&quot;1466&quot; height=&quot;368&quot; src=&quot;https://1.bp.blogspot.com/-_htjHcbehuQ/WToNgNc9ciI/AAAAAAAAA1c/lFKVS3mu0sYcwWRDoYh7x0OEbbHuUniCwCEw/s640/image02.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Identity pool name&lt;/code&gt;에는 본인이 원하는 이름으로 넣어주시면 됩니다.&lt;br /&gt;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Unauthenticated identities&lt;/code&gt;는 로그인 하지 않은 사용자에게도 AWS 서비스에 접근할 수 있는 Credentials을 발급해주겠다는 것입니다. 즉, 익명 사용자를 허용하는 것입니다. 허용하려면&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Enable access to unauthenticated identities&lt;/code&gt;&amp;nbsp;체크박스에 체크를 하시면 됩니다.&lt;br /&gt;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Authentication providers&lt;/code&gt;가 로그인 기능의 제공자입니다.&lt;br /&gt;Facebook, Google 등이 있지만 여기서는 Cognito를 선택하겠습니다.&lt;br /&gt;Cognito의 User Pool을 로그인 기능 제공자로 사용하려면 User Pool의 ID와 App Client ID를 입력해야합니다.&lt;br /&gt;(UserPool에 대한 정보는 다음의 링크에서 확인하시면 좋습니다.&amp;nbsp;&lt;a href=&quot;https://walkinpcm.blogspot.kr/2017/05/aws-aws-cognito.html&quot; style=&quot;box-sizing: border-box; color: #0366d6; text-decoration-line: none;&quot;&gt;https://walkinpcm.blogspot.kr/2017/05/aws-aws-cognito.html&lt;/a&gt;)&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;입력을 마치고&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Create Pool&lt;/code&gt;을 선택하면 다음 화면으로, Role에 대한 설정화면이 나타납니다.&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-B4ZJfRzrVH4/WToNgMNEk9I/AAAAAAAAA1k/GHmleLzoGnoI_Z2mfd-Va3asj3GeNOFYwCEw/s1600/image03.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;820&quot; data-original-width=&quot;1484&quot; height=&quot;352&quot; src=&quot;https://3.bp.blogspot.com/-B4ZJfRzrVH4/WToNgMNEk9I/AAAAAAAAA1k/GHmleLzoGnoI_Z2mfd-Va3asj3GeNOFYwCEw/s640/image03.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;여기서 설정하는 Role이 어떤 것이냐면, 지금 생성하는 Identity Pool을 이용해서 Credentials을 획득한 사용자에게 어떤 AWS 서비스에 대한 제어권을 허용할지 정하는 Role 설정입니다.&lt;br /&gt;당연히 모든 AWS 서비스를 개방해주면 보안 측면에서 좋지 않을 것입니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;위의 화면을 보시면 2개의 Role을 만들게 되는데 하나는 Unauthenticated Identities에 대한 Role이고(익명 사용자), 다른 하나는 Authenticated Identities에 대한 Role(로그인 한 사용자)입니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;AWS IAM에서 미리 적절한 Role을 생성하셨다면 해당 Role을 선택하시면 되고, 준비된 Role이 없으시면 본 화면의 기본설정을 그대로 둬서 새로운 Role을 생성하시면 됩니다.&lt;br /&gt;여기서 새로 생성한 Role은 이름만 지정된 빈껍데기니깐 IAM가셔서 빈껍데기 Role에 허용하실 AWS 서비스에 대한 Policy를 추가하셔야합니다.&lt;br /&gt;&lt;del style=&quot;box-sizing: border-box;&quot;&gt;(실제론 정말 빈껍데기는 아니고 cognito관련 policy가 있기하지만 여기서는 관련 없으니 빈껍데기라고 표현했습니다.)&lt;/del&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Allow&lt;/code&gt;를 클릭하시면 Identity Pool 생성이 완료됩니다~&lt;/div&gt;&lt;br style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px;&quot; /&gt;&lt;h2 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-top: 24px; padding-bottom: 0.3em;&quot;&gt;2. Cognito UserPool에 가입된 계정으로 로그인해서 Credentials 획득하기&lt;/h2&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;Identity Pool이 생성이 되고나면 자바스크립트 코드에서 Credentials을 획득 할 수 있습니다.&lt;br /&gt;Identity Provider를 Cognito UserPool로 했기 때문에 Cognito의 signin 함수 내에서 로그인에 성공했을 때 credential을 획득할 수 있습니다.&lt;br /&gt;signin 함수에 대해서는&amp;nbsp;&lt;a href=&quot;https://walkinpcm.blogspot.kr/2017/05/aws-aws-cognito.html&quot; style=&quot;box-sizing: border-box; color: #0366d6; text-decoration-line: none;&quot;&gt;https://walkinpcm.blogspot.kr/2017/05/aws-aws-cognito.html&lt;/a&gt;&amp;nbsp;에서 자세히 보실 수 있습니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;signin 함수에서 로그인 요청하는 부분의 코드를 보면서 설명하겠습니다.&lt;/div&gt;&lt;div class=&quot;highlight highlight-source-js&quot; style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; overflow: auto; padding: 16px; word-break: normal; word-wrap: normal;&quot;&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;var&lt;/span&gt; cognitoSignedUser &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;AWSCognito.CognitoIdentityServiceProvider.CognitoUser&lt;/span&gt;(userData);&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; authenticateUser() 함수가 cognito에 로그인을 요청하는 함수입니다.&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;cognitoSignedUser&lt;/span&gt;.&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;authenticateUser&lt;/span&gt;(authenticationDetails, {&lt;br /&gt;  &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; 로그인 성공시 onSuccess함수가 호출되며, 토큰 정보 등을 가지고 있는 result 변수를 전달합니다.&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;onSuccess&lt;/span&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;result&lt;/span&gt;) {&lt;br /&gt;    &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; credentials을 가져오기 전 리전 정보를 설정합니다.&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;AWS&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;config&lt;/span&gt;.&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;update&lt;/span&gt;({&lt;br /&gt;      region&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;YOUR_REGION&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;    });&lt;br /&gt;    &lt;br /&gt;    &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; credentials를 가져오기 위해 필요한 정보들을 입력합니다.&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; &amp;lt;&amp;gt; 안을 자신의 정보로 대체하여 입력합니다.&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;AWS&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;config&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;credentials&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;AWS.CognitoIdentityCredentials&lt;/span&gt;({&lt;br /&gt;      IdentityPoolId&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&amp;lt;YOUR_IDENTITY_POOL_ID&amp;gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;      Logins&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;:&lt;/span&gt; {&lt;br /&gt;          &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;cognito-idp.&amp;lt;region&amp;gt;.amazonaws.com/&amp;lt;YOUR_USER_POOL_ID&amp;gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;result&lt;/span&gt;.&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;getIdToken&lt;/span&gt;().&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;getJwtToken&lt;/span&gt;()&lt;br /&gt;      }&lt;br /&gt;    });&lt;br /&gt;&lt;br /&gt;    &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; get() 함수로 credentials을 획득합니다.&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;AWS&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;config&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;credentials&lt;/span&gt;.&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;get&lt;/span&gt;(&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;err&lt;/span&gt;){&lt;br /&gt;      &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;if&lt;/span&gt; (err) {&lt;br /&gt;          &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;alert&lt;/span&gt;(err);&lt;br /&gt;      }&lt;br /&gt;    });&lt;br /&gt;  },&lt;br /&gt;  &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; 로그인 실패시 에러메세지 출력&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;onFailure&lt;/span&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;err&lt;/span&gt;) {&lt;br /&gt;    &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;alert&lt;/span&gt;(err);&lt;br /&gt;  }&lt;br /&gt;});&lt;/pre&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;위와 같이&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;AWS.config.credentials&lt;/code&gt;에 credentials을 획득할 수 있습니다.&lt;br /&gt;웹브라우저에서 credentials을 획득하고 나면 이걸 가지고 AWS 서비스에 접근할 수 있는데, 다음 포스팅에서 credentials을 이용하여 AWS S3에 사진을 올리고 읽어오고 삭제하는 등 포토앨범을 만드는 예제를 정리해보겠습니다.&lt;/div&gt;&lt;br style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px;&quot; /&gt;&lt;h4 style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; line-height: 1.25; margin-bottom: 16px; margin-top: 24px;&quot;&gt;연결되는 포스팅&lt;/h4&gt;&lt;blockquote style=&quot;border-left: 0.25em solid rgb(223, 226, 229); box-sizing: border-box; color: #6a737d; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin: 0px 0px 16px; padding: 0px 1em;&quot;&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;AWS S3를 이용해서 웹브라우저에서 사용할 수 있는 포토 앨범 만들기&lt;/div&gt;&lt;/blockquote&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;링크 : &lt;a href=&quot;https://walkinpcm.blogspot.kr/2017/06/aws-s3-aws-s3.html&quot;&gt;https://walkinpcm.blogspot.kr/2017/06/aws-s3-aws-s3.html&lt;/a&gt;&lt;/div&gt;&lt;br style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px;&quot; /&gt;&lt;h4 style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; line-height: 1.25; margin-bottom: 16px; margin-top: 24px;&quot;&gt;참고 링크&lt;/h4&gt;&lt;ul style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 0px !important; margin-top: 0px; padding-left: 2em;&quot;&gt;&lt;li style=&quot;box-sizing: border-box;&quot;&gt;&lt;div style=&quot;box-sizing: border-box; margin-bottom: 16px; margin-top: 16px;&quot;&gt;Uploading Photos to Amazon S3 from a Browser&lt;br /&gt;&lt;a href=&quot;http://docs.aws.amazon.com/ko_kr/sdk-for-javascript/v2/developer-guide/s3-example-photo-album.html&quot; style=&quot;box-sizing: border-box; color: #0366d6; text-decoration-line: none;&quot;&gt;http://docs.aws.amazon.com/ko_kr/sdk-for-javascript/v2/developer-guide/s3-example-photo-album.html&lt;/a&gt;&lt;/div&gt;&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; margin-top: 0.25em;&quot;&gt;&lt;div style=&quot;box-sizing: border-box; margin-bottom: 16px; margin-top: 16px;&quot;&gt;Integrate a User in a User Pool with an Identity Pool&lt;br /&gt;&lt;a href=&quot;http://docs.aws.amazon.com/ko_kr/cognito/latest/developerguide/using-amazon-cognito-user-identity-pools-javascript-examples.html#using-amazon-cognito-user-identity-pools-javascript-examples-user-pool-identity-pool&quot; style=&quot;box-sizing: border-box; color: #0366d6; text-decoration-line: none;&quot;&gt;http://docs.aws.amazon.com/ko_kr/cognito/latest/developerguide/using-amazon-cognito-user-identity-pools-javascript-examples.html#using-amazon-cognito-user-identity-pools-javascript-examples-user-pool-identity-pool&lt;/a&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ul&gt;</content><link rel='replies' type='application/atom+xml' href='https://walkinpcm.blogspot.com/feeds/1030531153065624453/comments/default' title='댓글'/><link rel='replies' type='text/html' href='https://walkinpcm.blogspot.com/2017/06/aws-aws-cognito-federated-identities.html#comment-form' title='0개의 덧글'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/3470089366387037599/posts/default/1030531153065624453'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/3470089366387037599/posts/default/1030531153065624453'/><link rel='alternate' type='text/html' href='https://walkinpcm.blogspot.com/2017/06/aws-aws-cognito-federated-identities.html' title='[AWS] AWS Cognito Federated Identities 시작하기'/><author><name>Unknown</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='https://img1.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://3.bp.blogspot.com/-U4NTMv8VTqo/WToNgPPA5kI/AAAAAAAAA1g/LZKjwip-1hIcpAOPoS6nBEmeskelj8oGgCLcB/s72-c/image01.jpg" height="72" width="72"/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-3470089366387037599.post-5579747405825659078</id><published>2017-05-26T02:20:00.000-07:00</published><updated>2017-06-23T01:34:54.543-07:00</updated><category scheme="http://www.blogger.com/atom/ns#" term="[007. Javascript]"/><category scheme="http://www.blogger.com/atom/ns#" term="[011. AWS]"/><title type='text'>[AWS] AWS Lambda에서 DynamoDB에 데이터 삽입, 조회, 수정, 삭제 하기.</title><content type='html'>&lt;h1 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-left: 0px; margin-right: 0px; margin-top: 0px !important; padding-bottom: 0.3em;&quot;&gt;&lt;span style=&quot;color: #cc0000;&quot;&gt;AWS Lambda에서 DynamoDB에 데이터 삽입, 조회, 수정, 삭제 하기.&lt;/span&gt;&lt;/h1&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;이번 포스팅에서는 AWS의 서버리스 컴퓨트 서비스인 Lambda에서, NoSQL 서비스인 DynamoDB에 데이터를 삽입, 조회, 수정, 삭제하는 방법에 대해서 정리해보겠습니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;Lambda에서는 node.js를 사용했습니다.&lt;/div&gt;&lt;h2 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-top: 24px; padding-bottom: 0.3em;&quot;&gt;1. DynamoDB에서 Table 생성하기&lt;/h2&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;먼저 DynamoDB에 데이터를 넣을 수 있는 Table을 생성합니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;DynamoDB에서 Table을 생성하는 것은 매우 간단합니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;중요한 것은 Partition Key가 관계형데이터베이스의 Primary Key라고 생각하시면 되는 것 입니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;그리고 선택적으로 Sort Key를 추가하면 Partition Key와 Sort Key가 복합으로 Primary Key키로써 테이블 내에서 하나의 항목(Item)을 식별하는데 사용됩니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;Table을 만들때는 단지, Table의 이름과 Partition Key, Sort Key를 지정해주면 끝납니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;물론, 더 세세한 설정이 가능하지만 이번 포스팅에서는 기본설정으로 사용하도록 하겠습니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;&lt;del style=&quot;box-sizing: border-box;&quot;&gt;(저도 초보자라서 자세한 설정은 아직 지식이 깊지 않아서요..ㅎㅎ)&lt;/del&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-6BIrJ6XW6_o/WSfyzuVVNxI/AAAAAAAAA0Q/3Y51rrxI3ak9hWm0wVDqlck8HdFmBiksgCLcB/s1600/image01.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;820&quot; data-original-width=&quot;1268&quot; height=&quot;412&quot; src=&quot;https://2.bp.blogspot.com/-6BIrJ6XW6_o/WSfyzuVVNxI/AAAAAAAAA0Q/3Y51rrxI3ak9hWm0wVDqlck8HdFmBiksgCLcB/s640/image01.jpg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;h2 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-top: 24px; padding-bottom: 0.3em;&quot;&gt;2. Lambda에서 DynamoDB에 접근하기&lt;/h2&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;두 소제목으로 정리하겠습니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;첫번째는 Lambda 코드에서 DynamoDB에 데이터를 삽입, 조회, 수정, 삭제하는 함수이고,&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;두번째는 함수의 인자로 넘길 변수의 메세지 포맷(Json 형식)입니다.&lt;/div&gt;&lt;h3 style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 1.25em; line-height: 1.25; margin-bottom: 16px; margin-top: 24px;&quot;&gt;2-1. Lambda 코드&lt;/h3&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;여기서 설명은 코드내에서 주석으로 정리하겠습니다.&lt;/div&gt;&lt;div class=&quot;highlight highlight-source-js&quot; style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; overflow: auto; padding: 16px; word-break: normal; word-wrap: normal;&quot;&gt;&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;use strict&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;Loading function&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;);&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; DynamoDB를 사용하기 위해서 아래 2줄을 꼭 추가시켜줘야합니다.&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;doc&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;dynamodb-doc&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;);&lt;br /&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;dynamo&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;doc.DynamoDB&lt;/span&gt;();&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;exports&lt;/span&gt;.&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;handler&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;=&lt;/span&gt; (&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;event&lt;/span&gt;, &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;context&lt;/span&gt;, &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;callback&lt;/span&gt;) &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;=&amp;gt;&lt;/span&gt; {&lt;br /&gt;    &lt;br /&gt;    &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; DynamoDB에 데이터를 조작한 뒤에 그 결과를 받아서 Lambda함수를 return 시킬 콜백함수입니다.&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; 이 예제에서는 처리결과코드(statusCode)와 처리내용(body)를 본 Lambda함수의 결과로 반환합니다.&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;done&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;=&lt;/span&gt; (&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;err&lt;/span&gt;, &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;res&lt;/span&gt;) &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;callback&lt;/span&gt;(&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;null&lt;/span&gt;, {&lt;br /&gt;        statusCode&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;:&lt;/span&gt; err &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;400&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;200&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;        body&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;:&lt;/span&gt; err &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;err&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;message&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;JSON&lt;/span&gt;.&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;stringify&lt;/span&gt;(res),&lt;br /&gt;    });&lt;br /&gt;&lt;br /&gt;    &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; 아래 2-2에서 설명드리겠지만 저는 이 람다함수를 수행하기 위해서 요청 payload에 method 항목을 넣었습니다.&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; 이 method는 post, get, put, delete 값을 가지고 그에 따라 분기합니다.&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;switch&lt;/span&gt; (&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;event&lt;/span&gt;.&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;method&lt;/span&gt;) {&lt;br /&gt;        &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;DELETE&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;:&lt;br /&gt;            &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; DynamoDB에서 Item을 삭제 시킬 때는 deleteItme 함수를 이용합니다.&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; 함수 호출에 필요한 메세지를 첫번째 인자로 넘기고, 두번째 인자에 결과를 받을 콜백함수를 넣어줍니다.&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; 인자는 모든 함수가 동일합니다. 다만 메세지의 포맷이 조금씩 변경될 뿐입니다. 그 내용은 아래 2-2에서 정리하겠습니다.&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;dynamo&lt;/span&gt;.&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;deleteItem&lt;/span&gt;(&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;event&lt;/span&gt;.&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;body&lt;/span&gt;, done);&lt;br /&gt;            &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;break&lt;/span&gt;;&lt;br /&gt;        &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;GET&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;:&lt;br /&gt;            &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; (1) Read Item : Key를 알고 있는 한 Item을 가져옵니다.&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;dynamo&lt;/span&gt;.&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;getItem&lt;/span&gt;(&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;event&lt;/span&gt;.&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;body&lt;/span&gt;, done);&lt;br /&gt;&lt;br /&gt;            &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; (2) Query Data : 조건에 만족하는 일부 Item들만 가져옵니다.&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt;dynamo.query(event.body, done);&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;            &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; (3) Scan Data : 지정한 테이블의 전체 Item들을 가져옵니다.&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt;dynamo.scan(event.body, done);&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;break&lt;/span&gt;;&lt;br /&gt;        &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;POST&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;:&lt;br /&gt;            &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; 새로운 Item을 추가할 때는 putItem 함수를 사용합니다.&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;dynamo&lt;/span&gt;.&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;putItem&lt;/span&gt;(&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;event&lt;/span&gt;.&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;body&lt;/span&gt;, done);&lt;br /&gt;            &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;break&lt;/span&gt;;&lt;br /&gt;        &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;PUT&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;:&lt;br /&gt;            &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; Item의 내용을 수정할 때는 updateItem 함수를 사용합니다.&lt;/span&gt;&lt;br /&gt;            &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;dynamo&lt;/span&gt;.&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;updateItem&lt;/span&gt;(&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;event&lt;/span&gt;.&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;body&lt;/span&gt;, done);&lt;br /&gt;            &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;break&lt;/span&gt;;&lt;br /&gt;        &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;default&lt;/span&gt;:&lt;br /&gt;            &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;done&lt;/span&gt;(&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;Error&lt;/span&gt;(&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;`&lt;/span&gt;Unsupported method&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;`&lt;/span&gt;&lt;/span&gt;));&lt;br /&gt;    }&lt;br /&gt;};&lt;/pre&gt;&lt;/div&gt;&lt;h3 style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 1.25em; line-height: 1.25; margin-bottom: 16px; margin-top: 24px;&quot;&gt;2-2. 함수의 첫번째 인자로 넘기는 메세지 포맷&lt;/h3&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;Lambda에서 DynamoDB를 조작할 때는 함수에 Json 형식의 메세지를 넘기게 되는데,&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;삽입, 조회, 수정, 삭제 각 경우에 따라서 메세지에 담아야할 항목들이 조금씩 다릅니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;이번에는 이 때 각각 어떤 항목이 기본적으로 필요한지 정리하겠습니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;Lambda함수의 테스트를 위해서 아래와 같은 기본 포맷을 사용했습니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;method는 제가 Lambda 코드에서 분기 시키기 위해서 넣어 놓은 것이고,&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;중요한 것은 body항목의 값으로 들어가 있는 부분 입니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;위에서 제시한 예제에서도 DynamoDB에 이 body부분만 추출해서 인자로 넣습니다.&lt;/div&gt;&lt;div class=&quot;highlight highlight-source-json&quot; style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; overflow: auto; padding: 16px; word-break: normal; word-wrap: normal;&quot;&gt;{&lt;br /&gt;    &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;method&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;:&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;POST&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;    &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;body&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;:{&lt;span class=&quot;pl-ii&quot; style=&quot;background-color: #b52a1d; box-sizing: border-box; color: #f8f8f8;&quot;&gt;...&lt;/span&gt;}&lt;br /&gt;}&lt;/pre&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;아래의 코드들은 body부분만 작성한 것이니 주의해주시기 바랍니다.&lt;/div&gt;&lt;h4 style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; line-height: 1.25; margin-bottom: 16px; margin-top: 24px;&quot;&gt;(1) 삽입(putItem)&lt;/h4&gt;&lt;div class=&quot;highlight highlight-source-json&quot; style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; overflow: auto; padding: 16px; word-break: normal; word-wrap: normal;&quot;&gt;{&lt;br /&gt;    &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;TableName&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;:&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;{테이블 이름}&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;    &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;Item&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;:{&lt;br /&gt;        &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;{Partition Key}&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;:&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;{추가할 값}&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;        &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;{Sort Key}&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;:&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;{추가할 값}&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;        &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;{기타 추가할 Attribute}&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;:&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;{추가할 값}&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;    }&lt;br /&gt;}&lt;/pre&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;삽입에서 꼭 필요한 항목은&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;TableName&lt;/code&gt;과&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Item&lt;/code&gt;입니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;꼭 대소문자 확식하게 구별해주셔야합니다. 안그러면 에러나서 안됩니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;Partition Key는 필수로 넣어주셔야하고, Sort Key도 설정하셨다면 필수로 넣어주셔야합니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;그외 넣고싶은 Attribute를 Json 형식으로 마음껏 넣으셔도 됩니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;참고로, 아시다시피 값이 숫자라면 쌍따옴표로 묶어줄 필요없이 숫자만 기입하셔도 됩니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;오히려 Partition Key 또는 Sort Key의 자료형을 숫자(Number)로 했는데 숫자값을 쌍따옴표로 묶었다면 에러가 발생합니다.&lt;/div&gt;&lt;h4 style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; line-height: 1.25; margin-bottom: 16px; margin-top: 24px;&quot;&gt;(2) 조회&lt;/h4&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;조회는 3가지가 있습니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;Key를 알고있어서 바로 딱 한 Item만 조회하는 방법, Query를 이용해서 일부 Item들을 조회하는 방법, 전체 Item을 조회하는 방법입니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;명명하는 것을 구분하기 위하여, 한 Item만 가져오는 것을 Read Item, 일부 Item들을 가져오는 것을 Query Data, 전체 Item들을 가져오는 것을 Scan Data라고 하겠습니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;(1) Read Item&lt;/div&gt;&lt;div class=&quot;highlight highlight-source-json&quot; style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; overflow: auto; padding: 16px; word-break: normal; word-wrap: normal;&quot;&gt;{&lt;br /&gt;    &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;TableName&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;: &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;{테이블 이름}&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;    &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;Key&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;: {&lt;br /&gt;        &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;{Partition Key}&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;:&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;{찾을 값}&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;        &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;{Sort Key}&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;:&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;{찾을 값}&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;    }&lt;br /&gt;}&lt;/pre&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;Key를 알고 있는 상태에서 해당 Key에 해당하는 특정 Item만 가져오기를 원할 때는&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;getItem()&lt;/code&gt;함수를 사용합니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;그리고 요청에는&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;TableName&lt;/code&gt;과&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Key&lt;/code&gt;&amp;nbsp;정보만 넘기면 됩니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;(2) Query Data&lt;/div&gt;&lt;div class=&quot;highlight highlight-source-json&quot; style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; overflow: auto; padding: 16px; word-break: normal; word-wrap: normal;&quot;&gt;{&lt;br /&gt;    &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;TableName&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;: &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;{테이블 이름}&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;    &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;KeyConditionExpression&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;:&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;{찾으려는 Partition Key} = :{변수명1} and {찾으려는 Sort Key} between :{변수명2} and :{변수명3}&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;    &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;ExpressionAttributeValues&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; : {&lt;br /&gt;        &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;:{변수명1}&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;:&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;{찾을 값1}&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;        &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;:{변수명2}&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;:&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;{찾을 값2}&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;        &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;:{변수명3}&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;:&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;{찾을 값3}&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;    }&lt;br /&gt;}&lt;/pre&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;특정 한개의 Item이 아니라 조건식을 이용해서 조건에 해당하는 모든 Item들을 조회하고자 할때는&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;query()&lt;/code&gt;함수를 사용합니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;여기서는 중요한 점이, Partition Key는 오직 등식 조건(=)만 가능하다는 것입니다. 그리고 Sort Key에 비교 연산자 사용이 가능합니다. Sort Key에 사용 가능한 비교 연산자는 아래 링크에서 확인 가능합니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;(링크 :&amp;nbsp;&lt;a href=&quot;http://docs.aws.amazon.com/ko_kr/amazondynamodb/latest/developerguide/Query.html#Query.KeyConditionExpressions&quot; style=&quot;box-sizing: border-box; color: #0366d6; text-decoration-line: none;&quot;&gt;http://docs.aws.amazon.com/ko_kr/amazondynamodb/latest/developerguide/Query.html#Query.KeyConditionExpressions&lt;/a&gt;)&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;참고로, Query를 날렸는데 Key명이 예약어라서 오류가 난다면&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;ExpressionAttributeNames&lt;/code&gt;에 대해 알아보시기 바랍니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;추가적으로, 일반 Attribute를 사용하여 Query를 날리고 싶을 때는, 해당 Attribute를 GSI(Global Secondary Indexes)로 설정하면 됩니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;GSI에 설정하고 나면, 위 json형식에서 단지&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;IndexName&lt;/code&gt;만 추가하면 됩니다.&lt;/div&gt;&lt;div class=&quot;highlight highlight-source-json&quot; style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; overflow: auto; padding: 16px; word-break: normal; word-wrap: normal;&quot;&gt;{&lt;br /&gt;    &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;TableName&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;: &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;{테이블 이름}&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;    &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;IndexName&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;: &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;{GSI생성 시에 설정한 Index 이름}&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;    &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;KeyConditionExpression&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;:&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;{찾으려는 Partition Key} = :{변수명1} and {찾으려는 Sort Key} between :{변수명2} and :{변수명3}&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;    &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;ExpressionAttributeValues&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; : {&lt;br /&gt;        &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;:{변수명1}&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;:&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;{찾을 값1}&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;        &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;:{변수명2}&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;:&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;{찾을 값2}&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;        &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;:{변수명3}&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;:&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;{찾을 값3}&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;    }&lt;br /&gt;}&lt;/pre&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;(3) Scan Data&lt;/div&gt;&lt;div class=&quot;highlight highlight-source-json&quot; style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; overflow: auto; padding: 16px; word-break: normal; word-wrap: normal;&quot;&gt;{&lt;br /&gt;    &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;TableName&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;: &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;{테이블 이름}&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;}&lt;/pre&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;Table의 모든 Item을 조회할 때는&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;scan()&lt;/code&gt;함수를 사용합니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;그리고 scan할때는 기본적으로&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;TableName&lt;/code&gt;만 지정하면 해당 Table의 모든 Item을 조회할 수 있습니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;선택적으로 Filter를 추가할 수는 있습니다.&lt;/div&gt;&lt;div class=&quot;highlight highlight-source-json&quot; style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; overflow: auto; padding: 16px; word-break: normal; word-wrap: normal;&quot;&gt;{&lt;br /&gt;    &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;TableName&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;: &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;{테이블 이름}&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;    &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;FilterExpression&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;:&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;{찾으려는 Attribute} between :{변수명1} and :{변수명2}&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;    &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;ExpressionAttributeValues&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; : {&lt;br /&gt;        &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;:{변수명1}&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;:&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;{찾을 값1}&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;        &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;:{변수명2}&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;:&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;{찾을 값2}&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;    }&lt;br /&gt;}&lt;/pre&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;Filter를 이용하면 일부 Item만 조회하는게 가능한데, 이는 Query Data와 유사합니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;다만 차이점이 있는데, 첫째, Key 뿐만 아니라 다른 일반 Attribute로도 조회가 가능하다는 점. 둘째, Query Data에서는 Partition Key에 등식 조건(=)만 사용 가능했는데, Scan Data에서는 Filter를 이용하면 Partition Key에 비교 연산자를 사용하여 일부 Item만 조회하는게 가능합니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;여기서 사용할 수 있는 비교 연산자는 Query Data에서 Sort Key에 적용할 수 있는 것과 동일 한 것 같습니다.&lt;/div&gt;&lt;h4 style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; line-height: 1.25; margin-bottom: 16px; margin-top: 24px;&quot;&gt;(3) 수정&lt;/h4&gt;&lt;div class=&quot;highlight highlight-source-json&quot; style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; overflow: auto; padding: 16px; word-break: normal; word-wrap: normal;&quot;&gt;{&lt;br /&gt;    &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;TableName&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;:&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;{테이블 이름}&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;    &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;Key&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;:{&lt;br /&gt;        &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;{Partition Key}&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;:&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;{찾을 값}&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;        &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;{Sort Key}&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;:&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;{찾을 값}&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;    },&lt;br /&gt;    &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;UpdateExpression&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;:&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;set {변경할 Attribute1} = :{변수명1}, {변경할 Attribute2} = :{변수명2}&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;    &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;ExpressionAttributeValues&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;:{&lt;br /&gt;        &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;:{변수명1}&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;:&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;{변경할 값1}&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;        &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;:{변수명2}&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;:&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;{변경할 값2}&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;    },&lt;br /&gt;    &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;ReturnValues&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;:&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;UPDATED_NEW&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;}&lt;/pre&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;수정에서는 필수로 넣어줘야하는 항목이 4개입니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;TableName&lt;/code&gt;,&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Key&lt;/code&gt;,&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;UpdateExpression&lt;/code&gt;,&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;ExpressionAttributeValues&lt;/code&gt;입니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;TableName&lt;/code&gt;은 수정을 원하는 테이블의 이름이며,&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Key&lt;/code&gt;는 수정할 데이터를 찾기 위한 Partition Key와 Sort Key를 알려주는 곳입니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;UpdateExpression&lt;/code&gt;은 변경할 데이터의 Attribute를 지정하는 곳입니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;ExpressionAttributeValues&lt;/code&gt;에서 변수들과 값들을 매칭시킵니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;ReturnValues&lt;/code&gt;는 선택 항목인데, 이 항목이 없으면 수정 요청이 성공해도 아무런 응답값이 없지만, 이 항목의 값을&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;UPDATED_NEW&lt;/code&gt;로 하면 수정한 값이 응답으로 되돌아 옵니다.&lt;/div&gt;&lt;h4 style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; line-height: 1.25; margin-bottom: 16px; margin-top: 24px;&quot;&gt;(4) 삭제&lt;/h4&gt;&lt;div class=&quot;highlight highlight-source-json&quot; style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; overflow: auto; padding: 16px; word-break: normal; word-wrap: normal;&quot;&gt;{&lt;br /&gt;    &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;TableName&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;:&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;{테이블 이름}&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;    &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;Key&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;:{&lt;br /&gt;        &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;{Partition Key}&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;:&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;{찾을 값}&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;        &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;{Sort Key}&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;:&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;{찾을 값}&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;    }&lt;br /&gt;}&lt;/pre&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;삭제는 테이블 이름과 키만 넘기면 바로 삭제 됩니다. Sort Key를 설정하지 않았다면&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;Partition Key&lt;/code&gt;만 입력하시면 됩니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;지금까지 읽어주셔서 감사합니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;여러분의 정보 습득에 도움이 되었길 바랍니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;혹여, 틀린 내용이나 보충되야할 내용이 있다면 댓글 달아주시면 바로 확인하고 보완하도록 하겠습니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;감사합니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;h5 style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 0.875em; line-height: 1.25; margin-bottom: 16px; margin-top: 24px;&quot;&gt;참고 링크&lt;/h5&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;AWS Doc&lt;/div&gt;&lt;ul style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px; margin-top: 0px; padding-left: 2em;&quot;&gt;&lt;li style=&quot;box-sizing: border-box;&quot;&gt;&lt;a href=&quot;http://docs.aws.amazon.com/ko_kr/amazondynamodb/latest/gettingstartedguide/GettingStarted.NodeJs.03.html&quot; style=&quot;box-sizing: border-box; color: #0366d6; text-decoration-line: none;&quot;&gt;http://docs.aws.amazon.com/ko_kr/amazondynamodb/latest/gettingstartedguide/GettingStarted.NodeJs.03.html&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;AWS DynamoDB Query 상세&lt;/div&gt;&lt;ul style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px; margin-top: 0px; padding-left: 2em;&quot;&gt;&lt;li style=&quot;box-sizing: border-box;&quot;&gt;&lt;a href=&quot;http://docs.aws.amazon.com/ko_kr/amazondynamodb/latest/developerguide/Query.html&quot; style=&quot;box-sizing: border-box; color: #0366d6; text-decoration-line: none;&quot;&gt;http://docs.aws.amazon.com/ko_kr/amazondynamodb/latest/developerguide/Query.html&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;AWS DynamoDB Scan 상세&lt;/div&gt;&lt;ul style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 0px !important; margin-top: 0px; padding-left: 2em;&quot;&gt;&lt;li style=&quot;box-sizing: border-box;&quot;&gt;&lt;a href=&quot;http://docs.aws.amazon.com/ko_kr/amazondynamodb/latest/developerguide/Scan.html&quot; style=&quot;box-sizing: border-box; color: #0366d6; text-decoration-line: none;&quot;&gt;http://docs.aws.amazon.com/ko_kr/amazondynamodb/latest/developerguide/Scan.html&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content><link rel='replies' type='application/atom+xml' href='https://walkinpcm.blogspot.com/feeds/5579747405825659078/comments/default' title='댓글'/><link rel='replies' type='text/html' href='https://walkinpcm.blogspot.com/2017/05/aws-aws-lambda-dynamodb.html#comment-form' title='0개의 덧글'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/3470089366387037599/posts/default/5579747405825659078'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/3470089366387037599/posts/default/5579747405825659078'/><link rel='alternate' type='text/html' href='https://walkinpcm.blogspot.com/2017/05/aws-aws-lambda-dynamodb.html' title='[AWS] AWS Lambda에서 DynamoDB에 데이터 삽입, 조회, 수정, 삭제 하기.'/><author><name>Unknown</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='https://img1.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://2.bp.blogspot.com/-6BIrJ6XW6_o/WSfyzuVVNxI/AAAAAAAAA0Q/3Y51rrxI3ak9hWm0wVDqlck8HdFmBiksgCLcB/s72-c/image01.jpg" height="72" width="72"/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-3470089366387037599.post-1878129517598279348</id><published>2017-05-25T23:12:00.000-07:00</published><updated>2017-05-25T23:12:18.014-07:00</updated><category scheme="http://www.blogger.com/atom/ns#" term="[004. JAVA]"/><title type='text'>[JAVA] String의 equals 메서드에 대한 한가지 Tip</title><content type='html'>&lt;h2&gt;&lt;span style=&quot;color: #990000;&quot;&gt;Java에서, String의 equals 메서드에 대한 한가지 Tip&lt;/span&gt;&lt;/h2&gt;&lt;br /&gt;&lt;br /&gt;Java를 하는 사람은 다들 알 듯이 String형의 값의 비교는 동등 비교(==)를 사용하면 안되고 equals 메서드를 사용해야합니다.&lt;br /&gt;&lt;br /&gt;이때 한가지 주의해야할 Tip이 있습니다.&lt;br /&gt;&lt;br /&gt;우선 소스를 보겠습니다.&lt;br /&gt;&lt;br /&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; color: #24292e; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; overflow: auto; padding: 16px; word-break: normal; word-wrap: normal;&quot;&gt;&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;FINAL_STRING&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;hello world&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;;&lt;br /&gt;&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;String&lt;/span&gt; str &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;null&lt;/span&gt;;&lt;br /&gt;&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;:&lt;/span&gt;   &lt;br /&gt;&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;if&lt;/span&gt;(&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;FINAL_STRING&lt;/span&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;.&lt;/span&gt;equals(str)) {&lt;br /&gt;&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;:&lt;/span&gt;  &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;.&lt;/span&gt;println(&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;문자열 값이 같습니다.&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;);&lt;br /&gt;&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;6&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;:&lt;/span&gt; }&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;else&lt;/span&gt;{&lt;br /&gt;&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;7&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;:&lt;/span&gt;  &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;.&lt;/span&gt;println(&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;문자열 값이 다릅니다.&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;);&lt;br /&gt;&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;8&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;:&lt;/span&gt; }&lt;br /&gt;&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;9&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;:&lt;/span&gt;  &lt;br /&gt;&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;if&lt;/span&gt;(str&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;.&lt;/span&gt;equals(&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;FINAL_STRING&lt;/span&gt;)) {&lt;br /&gt;&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;:&lt;/span&gt;  &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;.&lt;/span&gt;println(&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;문자열 값이 같습니다.&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;);&lt;br /&gt;&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;:&lt;/span&gt; }&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;else&lt;/span&gt;{&lt;br /&gt;&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;13&lt;/span&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;:&lt;/span&gt;  &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;.&lt;/span&gt;println(&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;문자열 값이 다릅니다.&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;);&lt;br /&gt;&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;14&lt;/span&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;:&lt;/span&gt; }&lt;/pre&gt;&lt;br /&gt;우선 2개의 String형 변수가 있습니다. 하나는 FINAL_STRING 이라는 문자상수고 하나는 str라는 변수입니다.&lt;br /&gt;&lt;br /&gt;위 코드를 실행하면 4번 라인의 조건문은 정상적으로 수행되고 10번라인의 조건문은 에러가 발생합니다.&lt;br /&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; color: #24292e; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; overflow: auto; padding: 16px; word-break: normal; word-wrap: normal;&quot;&gt;문자열 값이 다릅니다&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;Exception&lt;/span&gt; in thread &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;main&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;br /&gt;&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;java.lang&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;.&lt;/span&gt;NullPointerException&lt;/span&gt;&lt;br /&gt; at &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;helloworld&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;.&lt;/span&gt;HelloWorld&lt;/span&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;.&lt;/span&gt;main(&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;HelloWorld&lt;/span&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;.&lt;/span&gt;java&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;10&lt;/span&gt;)&lt;/pre&gt;&lt;br /&gt;보시다시피 equals 메서드의 인자에는 null 값이 들어가도 되지만 equals 메서드를 호출하는 변수는 null이면 예외가 발생합니다.&lt;br /&gt;&lt;br /&gt;이를 실제로 적용하시는 경우는 이런 경우가 있습니다.&lt;br /&gt;사용자로부터 값을 입력받거나 하는 등 값이 변하는 String형 변수가 있고, 그 변수의 값을 프로그램이 고정으로 사용하는 문자열과 값 비교를 한다면, 꼭 고정된 문자열에서 equals 메서드를 호출하고 동적으로 변할 수 있는 변수를 인자로 넣어줘야 예외가 발생하지 않습니다.&lt;br /&gt;&lt;br /&gt;동적으로 변하는 String형 변수에 절대적으로 null이 들어오지 않는다라는 확신이 있다면 아무렇게나 해도 되겠지만 혹시나 만에하나라도 null이 생길수 있는 경우를 대비해서 절대적으로 null이 될 수 없는 문자 상수나 프로그램 내에서 고정적으로 문자열을 할당한 변수를 equals 앞에 써주는게 좋습니다.&lt;br /&gt;&lt;br /&gt;결론,&lt;br /&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; color: #24292e; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; overflow: auto; padding: 16px; word-break: normal; word-wrap: normal;&quot;&gt;{절대&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;null&lt;/span&gt;이 되지 않는 &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;String&lt;/span&gt;}&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;.&lt;/span&gt;equals(&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;null&lt;/span&gt;이 될수도 있는 &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;String&lt;/span&gt;)&lt;/pre&gt;&lt;br /&gt;</content><link rel='replies' type='application/atom+xml' href='https://walkinpcm.blogspot.com/feeds/1878129517598279348/comments/default' title='댓글'/><link rel='replies' type='text/html' href='https://walkinpcm.blogspot.com/2017/05/java-string-equals-tip.html#comment-form' title='0개의 덧글'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/3470089366387037599/posts/default/1878129517598279348'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/3470089366387037599/posts/default/1878129517598279348'/><link rel='alternate' type='text/html' href='https://walkinpcm.blogspot.com/2017/05/java-string-equals-tip.html' title='[JAVA] String의 equals 메서드에 대한 한가지 Tip'/><author><name>Unknown</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='https://img1.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-3470089366387037599.post-6139524690010159229</id><published>2017-05-10T08:16:00.000-07:00</published><updated>2017-06-23T01:34:54.546-07:00</updated><category scheme="http://www.blogger.com/atom/ns#" term="[007. Javascript]"/><category scheme="http://www.blogger.com/atom/ns#" term="[011. AWS]"/><title type='text'>[AWS] AWS API Gateway와 Lambda를 이용한 REST API 만들기</title><content type='html'>&lt;h1 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-left: 0px; margin-right: 0px; margin-top: 0px !important; padding-bottom: 0.3em;&quot;&gt;&lt;span style=&quot;color: #cc0000;&quot;&gt;AWS API Gateway와 Lambda를 이용한 REST API 만들기&lt;/span&gt;&lt;/h1&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;이번 포스팅에서는 AWS의 API Gateway와 Lambda를 이용해서 REST API를 만들어보겠습니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;또한, REST API는 AWS Cognito로 로그인한 사용자에게만 사용 가능하도록 할 것입니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;실습 과정에서 Cognito로 만든 User Pool이 필요합니다. 미리 만들고 본 포스팅을 보시면 좋을 것 같습니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;AWS Cognito로 로그인 시스템을 만드는 방법은 이전 포스트에서 다루었습니다. 아래 링크를 참고해주시기 바랍니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;(AWS Cognito 사용법 :&amp;nbsp;&lt;a href=&quot;https://walkinpcm.blogspot.kr/2017/05/aws-aws-cognito.html&quot;&gt;https://walkinpcm.blogspot.kr/2017/05/aws-aws-cognito.html&lt;/a&gt;)&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;기초적인 실습이라서 입문자에게 도움이 되는 글일 듯 싶습니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;&lt;del style=&quot;box-sizing: border-box;&quot;&gt;(제가 입문자라서 입문용 글을 쓰고 있습니다..ㅎㅎ)&lt;/del&gt;&lt;/div&gt;&lt;h2 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-top: 24px; padding-bottom: 0.3em;&quot;&gt;1. API Gateway와 Lambda의 개념&lt;/h2&gt;&lt;h3 style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 1.25em; line-height: 1.25; margin-bottom: 16px; margin-top: 24px;&quot;&gt;1-1. API Gateway&lt;/h3&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;AWS API Gateway는 손 쉽게 REST API의 URI 주소를 생성할 수 있고, 유지 관리, 모니터링 할 수 있는 서비스입니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;톰캣의 서블릿으로 예를 들면,&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;http(s)://{서버의 주소}/{서블릿명}&lt;/code&gt;&amp;nbsp;처럼 Resource에 접근할 수 있는 인터페이스라고 할 수 있습니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;다만, API Gateway는 웹서버가 필요 없고, API 호출에 대한 로그도 쉽게 볼 수 있는 등 여러 장점이 있는 서비스라고 할 수 있습니다.&lt;/div&gt;&lt;h3 style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 1.25em; line-height: 1.25; margin-bottom: 16px; margin-top: 24px;&quot;&gt;1-2. Lambda&lt;/h3&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;Lambda는 최근 인기가 상승하고 있는 Serverless Compute Service입니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;역시 톰캣으로 예를 들면, 서블릿의 역할을 수행하는 서비스라고 할 수 있습니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;즉, 기존의 서버에서 동적으로 수행되는 특정 기능을 서버 없이 만들 수 있는 서비스인 것입니다. (엄밀히는 AWS가 서버를 운영하는 거겠지만, 사용자 입장에서 서버가 없다는 것입니다.)&lt;/div&gt;&lt;h2 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-top: 24px; padding-bottom: 0.3em;&quot;&gt;2. 실습 상황&lt;/h2&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;이번 포스팅에서 진행할 실습의 상황은 다음과 같습니다.&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-YGZ1QuTaFYI/WRMp7E8MTtI/AAAAAAAAAwY/uvx-sBqKSJcmRLBh8ejgsySoSxB1G-kWgCEw/s1600/image00.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;178&quot; src=&quot;https://3.bp.blogspot.com/-YGZ1QuTaFYI/WRMp7E8MTtI/AAAAAAAAAwY/uvx-sBqKSJcmRLBh8ejgsySoSxB1G-kWgCEw/s640/image00.JPG&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;ol style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px; margin-top: 0px; padding-left: 2em;&quot;&gt;&lt;li style=&quot;box-sizing: border-box;&quot;&gt;&lt;div style=&quot;box-sizing: border-box; margin-bottom: 16px; margin-top: 16px;&quot;&gt;웹브라우저에서 사용자 인증을 위한 Token과 데이터를 가진 Payload를 붙여서 POST 요청을 보냅니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;&lt;span style=&quot;box-sizing: border-box; font-weight: 600;&quot;&gt;(API의 호출 권한을 Open으로 해 놓으면 Token은 필요없습니다. Token을 API Gateway의 API Key로도 설정할 수 있지만, 본 포스팅에서는 AWS Cognito를 이용한 User의 Token으로 설정할 것입니다.)&lt;/span&gt;&lt;/div&gt;&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; margin-top: 0.25em;&quot;&gt;&lt;div style=&quot;box-sizing: border-box; margin-bottom: 16px; margin-top: 16px;&quot;&gt;API Gateway는 Token을 확인하여 적법한 사용자라고 판별되면 Lambda Function을 호출하여 POST 요청에 대한 동작을 수행하게 합니다.&lt;/div&gt;&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; margin-top: 0.25em;&quot;&gt;&lt;div style=&quot;box-sizing: border-box; margin-bottom: 16px; margin-top: 16px;&quot;&gt;Lambda는 적절한 동작을 수행 한 뒤 응답을 API Gateway로 보냅니다.&lt;/div&gt;&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; margin-top: 0.25em;&quot;&gt;&lt;div style=&quot;box-sizing: border-box; margin-bottom: 16px; margin-top: 16px;&quot;&gt;API Gateway는 Lambda에게 받은 응답을 그대로 웹브라우저에게 응답합니다.&lt;/div&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h2 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-top: 24px; padding-bottom: 0.3em;&quot;&gt;3. 실습&lt;/h2&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;이제 step by step으로 정리해보겠습니다.&lt;/div&gt;&lt;h3 style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 1.25em; line-height: 1.25; margin-bottom: 16px; margin-top: 24px;&quot;&gt;3-1. Lambda function과 API 만들기를 시작합니다.&lt;/h3&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;AWS Lambda를 만드는 과정에서 API Gateway를 바로 연결 시켜서 API까지 만들 수 있습니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;그래서 가장 먼저, AWS Lambda 서비스로 들어가서 &#39;Get Started Now&#39;를 클릭합니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;이미 만들어본 적이 있으시면 Function을 새로 만드는 버튼을 찾아서 누르시면 됩니다.&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-KnJt0uuQ9yk/WRMp7NtMPtI/AAAAAAAAAyI/FNJRZ5iTu7MXEuWIx5xkauye8piqBWElQCEw/s1600/image01.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;262&quot; src=&quot;https://3.bp.blogspot.com/-KnJt0uuQ9yk/WRMp7NtMPtI/AAAAAAAAAyI/FNJRZ5iTu7MXEuWIx5xkauye8piqBWElQCEw/s640/image01.JPG&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;h3 style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 1.25em; line-height: 1.25; margin-bottom: 16px; margin-top: 24px;&quot;&gt;3-2. Function 탬플릿을 선택합니다.&lt;/h3&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;AWS Lambda는 맨땅부터 코딩할 수도 있지만, 목적에 따라 미리 만들어진 탬플릿을 골라서 생성할 수도 있습니다.&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-NRaBUxWk9Fk/WRMp7Yf9s9I/AAAAAAAAAyI/yADWJEJ4lks-LhrdL35O41Ly0GKqnCifQCEw/s1600/image02.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;462&quot; src=&quot;https://2.bp.blogspot.com/-NRaBUxWk9Fk/WRMp7Yf9s9I/AAAAAAAAAyI/yADWJEJ4lks-LhrdL35O41Ly0GKqnCifQCEw/s640/image02.JPG&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;보시다시피 탬플릿이 참 많은데요. Filter부분에 키워드를 검색하시면 알맞은 탬플릿을 금방 찾으실 수 있습니다.&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-r-eSBYomdUE/WRMp8M1gYwI/AAAAAAAAAyI/MPZC4zYBFekvb6D50PhQVl9T4RnKAcoTwCEw/s1600/image03.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;334&quot; src=&quot;https://4.bp.blogspot.com/-r-eSBYomdUE/WRMp8M1gYwI/AAAAAAAAAyI/MPZC4zYBFekvb6D50PhQVl9T4RnKAcoTwCEw/s640/image03.JPG&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;본 포스팅은 입문을 위하여 정리하기에 탬플릿 중에 &#39;hello-world&#39; 탬플릿을 선택하겠습니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;파이썬으로 된 탬플릿도 있지만 저는 노드를 선택했습니다.&lt;/div&gt;&lt;h3 style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 1.25em; line-height: 1.25; margin-bottom: 16px; margin-top: 24px;&quot;&gt;3-3. Lambda의 Trigger로 API Gateway를 선택합니다.&lt;/h3&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;Lambda를 생성하면서 바로 Trigger를 선택하고 함께 생성할 수 있습니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;빨간색 네모박스 부분을 클릭하시면 Trigger로 사용할 수 있는 종류가 나옵니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;저는 API Gateway를 선택했습니다.&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-FxE4RAhzq1M/WRMp7-Cxr0I/AAAAAAAAAyI/RWiRuXkoIYAeLNnAuKtLYDRwnRcttqxowCEw/s1600/image04.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;180&quot; src=&quot;https://3.bp.blogspot.com/-FxE4RAhzq1M/WRMp7-Cxr0I/AAAAAAAAAyI/RWiRuXkoIYAeLNnAuKtLYDRwnRcttqxowCEw/s640/image04.JPG&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;h3 style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 1.25em; line-height: 1.25; margin-bottom: 16px; margin-top: 24px;&quot;&gt;3-4. API Gateway 이름을 지정합니다.&lt;/h3&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&#39;API name&#39;에 원하는 API이름을 입력합니다. 이 이름으로 나중에 URL이 만들어 지지는 않습니다. URL은 Lambda function 이름으로 설정됩니다. 그러니 여기서는 API를 구분할 목적으로 입력하시면 되겠습니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;&#39;Deployment stage&#39;는 나중에는 API의 버전 관리를 하게되면 세분화 해서 나누지만 본 포스팅에서는 입문을 빠르게 할 목적으로 일단 prod 하나만 사용하겠습니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;&#39;Security&#39;는 Open으로 하셔도 되고 아무거나 하셔도 됩니다. 나중에 Cognito로 변경할 것이기 때문입니다. 저는 그래도 Open은 아무나 막 쓸수 있다는 생각에 Open with access key를 선택했습니다.&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-TqAoeYWkdH8/WRMp8J_b3sI/AAAAAAAAAyI/Twldbj_xGMIYt1DAbXxP8d1F6cZLOk_kQCEw/s1600/image04_2.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;392&quot; src=&quot;https://3.bp.blogspot.com/-TqAoeYWkdH8/WRMp8J_b3sI/AAAAAAAAAyI/Twldbj_xGMIYt1DAbXxP8d1F6cZLOk_kQCEw/s640/image04_2.JPG&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;h3 style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 1.25em; line-height: 1.25; margin-bottom: 16px; margin-top: 24px;&quot;&gt;3-5. Lambda Function 이름을 지정합니다.&lt;/h3&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;API 설정 다음으로 Lambda Function에 대한 설정을 합니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;&#39;Name&#39;에 원하는 이름을 입력해주세요. 이 이름이 URL에 사용됩니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;&#39;Runtime&#39;은 저는 노드를 선택했습니다. 여러분은 원하는 것을 선택하셔도 좋습니다.&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-3CxBgqmOIPA/WRMp8QM1dbI/AAAAAAAAAyI/XruTibpDb2EjrePyG1j2a7ialjiVBTaFQCEw/s1600/image05.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;172&quot; src=&quot;https://3.bp.blogspot.com/-3CxBgqmOIPA/WRMp8QM1dbI/AAAAAAAAAyI/XruTibpDb2EjrePyG1j2a7ialjiVBTaFQCEw/s640/image05.JPG&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;h3 style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 1.25em; line-height: 1.25; margin-bottom: 16px; margin-top: 24px;&quot;&gt;3-6. Lambda Function의 코드를 보기만하고 넘어갑니다.&lt;/h3&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;일단 코드는 보기만 하고 넘어갑니다. 뒤에서 수정할 것입니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;코드를 간략히 설명하자면, Input으로 들어온 Body에서 key1, key2, key3의 값을 로그로 출력하고 Lambda Function의 응답으로 key1의 값을 반환합니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;부가적으로 밑에 &#39;Environment Variables&#39;가 있는데, 이는 자주 또는 가끔 변경이 잘 되는 변수를 하드코딩하지 않고 환경변수로 두어서 값의 변경이 일어나도 코드 수정없이 반영할 수 있게 해주는 기능입니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;Tip을 드리자면 노드 기준으로 환경변수를 사용하기 위해서는&amp;nbsp;&lt;code style=&quot;background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; margin: 0px; padding: 0.2em 0px;&quot;&gt;process.env.환경변수명&lt;/code&gt;으로 코드에서 사용하실 수 있습니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;&lt;del style=&quot;box-sizing: border-box;&quot;&gt;보기만하고 지나간다고했는데 말이 길었네요 ㅎㅎ&lt;/del&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-q_CvjRhT4yc/WRMp8qbWQ_I/AAAAAAAAAyI/xbwySUB-ZGY6IYbJKePNcer3FwrVgmljACEw/s1600/image05_2.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;586&quot; src=&quot;https://4.bp.blogspot.com/-q_CvjRhT4yc/WRMp8qbWQ_I/AAAAAAAAAyI/xbwySUB-ZGY6IYbJKePNcer3FwrVgmljACEw/s640/image05_2.JPG&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;del style=&quot;box-sizing: border-box;&quot;&gt;&lt;br /&gt;&lt;/del&gt;&lt;/div&gt;&lt;h3 style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 1.25em; line-height: 1.25; margin-bottom: 16px; margin-top: 24px;&quot;&gt;3-7. Role을 설정합니다.&lt;/h3&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;Role은 Lambda Function에서 다른 AWS 서비스에 접근하기 위하여 필요합니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;기본적으로 Lambda에서는 Log를 남길수 있는 Role(권한)을 가지고 있습니다. 여기서 설정하는 Role은 추가적으로 필요한 Role을 설정하는 것입니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;처음에는 만들어진 Role이 없을 것이므로 &#39;Create new role from template(s)&#39;를 선택합니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;&#39;Role name&#39;은 적절하게 원하는 이름 붙여주시면 됩니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;&#39;Policy templates&#39;는 그림에 써넣은대로 더 추가하고 싶은 Role을 여러개 선택할 수 있는데, 본 포스팅에서는 hello world 실습이므로 다른 AWS 서비스에 접근할 일이 없어서 아무것도 선택하지 않았습니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;부가적인 설명으로, 맨 위에 &#39;Handler&#39;는 요청이 Lambda로 들어올 때 처리할 handler를 지정해 주는 것입니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;&#39;index.handler&#39;라고 되어 있는 이유는, 지금 생성중인 Lambda가 index.js가 되고 index.handler가 지금 생성중인 Lambda에 명시된 handler라고 하네요.&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-TgSLd-rrlE4/WRMp82LeRQI/AAAAAAAAAyI/YWVv2HGgYL0vbrwDIff9kjZH1OiGSCTiACEw/s1600/image05_3.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;354&quot; src=&quot;https://3.bp.blogspot.com/-TgSLd-rrlE4/WRMp82LeRQI/AAAAAAAAAyI/YWVv2HGgYL0vbrwDIff9kjZH1OiGSCTiACEw/s640/image05_3.JPG&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;h3 style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 1.25em; line-height: 1.25; margin-bottom: 16px; margin-top: 24px;&quot;&gt;3-8. 설정들 Review합니다.&lt;/h3&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;최종적으로 설정들을 Review합니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;저도 아직 깊숙히 몰라서 설정하지 않은 항목들이 있는데, 나중에 깊숙히 알게 되면 다시 포스팅을 하도록 하겠습니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;&#39;Create function&#39;을 클릭합니다.&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-91U95M1HsCE/WRMp9Fkv87I/AAAAAAAAAyI/lZQQ-gHWtJ4Kkv_WzswZgY3ilPLMiGzZACEw/s1600/image06.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;612&quot; src=&quot;https://3.bp.blogspot.com/-91U95M1HsCE/WRMp9Fkv87I/AAAAAAAAAyI/lZQQ-gHWtJ4Kkv_WzswZgY3ilPLMiGzZACEw/s640/image06.JPG&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;h3 style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 1.25em; line-height: 1.25; margin-bottom: 16px; margin-top: 24px;&quot;&gt;3-9. 첫번째 API 테스트&lt;/h3&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;생성하자마자 Lambda의 Trigger 탭 페이지가 보이고 누르고 싶게 생긴 URL이 있습니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;저게 바로 방금 생성한 Lambda를 실행시킬 수 있는 REST API URL입니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;한번 눌러보죠.&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-K3vUnPeNuPk/WRMp9Mc2X7I/AAAAAAAAAyI/X5ijVZhd-eAipOV7uJ5WLJybAS9WhumQQCEw/s1600/image07.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;178&quot; src=&quot;https://2.bp.blogspot.com/-K3vUnPeNuPk/WRMp9Mc2X7I/AAAAAAAAAyI/X5ijVZhd-eAipOV7uJ5WLJybAS9WhumQQCEw/s640/image07.JPG&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;Forbidden 에러가 발생합니다.&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-mSCePqwqhcQ/WRMudIVS_EI/AAAAAAAAAyY/lNPDRszmOcECKZr_r3hbskhBZWwFSy5IwCLcB/s1600/image08.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;88&quot; src=&quot;https://2.bp.blogspot.com/-mSCePqwqhcQ/WRMudIVS_EI/AAAAAAAAAyY/lNPDRszmOcECKZr_r3hbskhBZWwFSy5IwCLcB/s640/image08.JPG&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;에러가 발생한 이유는, 아까 &#39;Security&#39;를 &#39;Open with access key&#39;로 설정했는데 지금 링크를 누른건 아무 access key없이 요청이 보내졌기 때문에 발생한 에러입니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;아래 그림에서 빨간색 네모칸이 쳐진 &#39;Test&#39;는 Lambda function 자체만 테스트 하는 것입니다. 그래서 아무 문제없이 정상적인 출력이 나오죠. 이게 출력이 잘 나온다고 API Gateway+Lambda가 정상작동한다고 생각하시면 안됩니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;URL 밑에 &#39;ANY&#39;를 클릭해서 API Gateway 설정 페이지로 이동합니다.&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-C9Dcij8MucE/WRMp95UVytI/AAAAAAAAAyI/mOY68RgL8DoPLg46_KdoT2qcyxobKR5TQCEw/s1600/image09.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;330&quot; src=&quot;https://2.bp.blogspot.com/-C9Dcij8MucE/WRMp95UVytI/AAAAAAAAAyI/mOY68RgL8DoPLg46_KdoT2qcyxobKR5TQCEw/s640/image09.JPG&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;h3 style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 1.25em; line-height: 1.25; margin-bottom: 16px; margin-top: 24px;&quot;&gt;3-10. API의 인증방법으로 Cognito를 설정합니다.&lt;/h3&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;본 포스팅에서는 API를 호출할 수 있는 권한을 Cognito로 로그인한 유저에게만 주려고 합니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;좀 더 자세히 말씀드리면, API를 정상적으로 호출하려면 Token이 필요하게 할 것이고, 이 Token은 Cognito를 이용한 로그인 시스템에서 유저가 로그인하면 발급 받는 idToken입니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;(본 포스팅 상단의 Cognito 사용방법을 정리한 링크를 함께 보시면 좋을 것 같습니다.)&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;아래 그림에서 &#39;Method Request&#39;를 클릭합니다.&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-r1C2AgnPEqA/WRMp98XX-uI/AAAAAAAAAyI/7xmBB0BH1TA-NBrPwIZ2lWQvY-zxZcSLwCEw/s1600/image10.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;218&quot; src=&quot;https://4.bp.blogspot.com/-r1C2AgnPEqA/WRMp98XX-uI/AAAAAAAAAyI/7xmBB0BH1TA-NBrPwIZ2lWQvY-zxZcSLwCEw/s640/image10.JPG&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;그러면 아래와 같은 설정화면이 나옵니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;파란색 네모칸이 API 호출 권한에 대한 곳인데 여기서 &#39;Authorization&#39;과 &#39;API Key Required&#39;를 수정할 것입니다.&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-QQUaFN6YkPw/WRMtwdPM1JI/AAAAAAAAAyQ/dHHF7MBP1TkjRsd8V0Y5jgxktljerypsgCLcB/s1600/image11.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;344&quot; src=&quot;https://3.bp.blogspot.com/-QQUaFN6YkPw/WRMtwdPM1JI/AAAAAAAAAyQ/dHHF7MBP1TkjRsd8V0Y5jgxktljerypsgCLcB/s640/image11.JPG&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;왼쪽의 &#39;Authorizers&#39;를 클릭합니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;이동 된 페이지에서 상단의 &#39;Create&#39;-&#39;Cognito User Pool Authorizer&#39;를 선택합니다.&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-zUqu7jxEKBM/WRMuIn41_uI/AAAAAAAAAyU/chp_vufBTUwa2Y7B5DK8D1LU46u5tCHewCLcB/s1600/image12.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;153&quot; src=&quot;https://2.bp.blogspot.com/-zUqu7jxEKBM/WRMuIn41_uI/AAAAAAAAAyU/chp_vufBTUwa2Y7B5DK8D1LU46u5tCHewCLcB/s400/image12.JPG&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;그러면 아래와 같은 설정 페이지가 나타나는데, 여기에 미리 만들어 놓은 User Pool의 정보를 기입하면 됩니다.&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-ECffygLXGkQ/WRMp-VoW-II/AAAAAAAAAyI/w7F6Gaa7TjEE6BN7zuc8LEajTRh8e4q0wCEw/s1600/image13.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;148&quot; src=&quot;https://3.bp.blogspot.com/-ECffygLXGkQ/WRMp-VoW-II/AAAAAAAAAyI/w7F6Gaa7TjEE6BN7zuc8LEajTRh8e4q0wCEw/s640/image13.JPG&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&#39;Cognito region&#39;은 User Pool을 만들어 놓은 리전을 선택합니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;&#39;Cognito user pool&#39;은 미리 만들어 놓은 user pool을 선택합니다. 선택된 user pool에 있는 유저들만 지금 만들고 있는 API를 호출 할 수 있습니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;&#39;Authorizer name&#39;은 적절히 원하는 이름으로 기입하시면 됩니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;&#39;Create&#39;를 눌러서 Authorizer를 생성합니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;만들면 아래 그림처럼 Authorizer가 하나 생성됩니다.&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-ltMsosQZFQc/WRMp-k7hcGI/AAAAAAAAAyI/zMIp5TnBwG0dcQYHUY3nBvrghtzXb9zxQCEw/s1600/image14.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;190&quot; src=&quot;https://4.bp.blogspot.com/-ltMsosQZFQc/WRMp-k7hcGI/AAAAAAAAAyI/zMIp5TnBwG0dcQYHUY3nBvrghtzXb9zxQCEw/s400/image14.JPG&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;이제 만든 Authorizer를 API의 인증방법으로 선택하러 갑니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;왼쪽에 있는 &#39;Resources&#39;를 누르고 &#39;ANY&#39;를 누르고 &#39;Method Request&#39;를 눌러서 아까 인증 설정 화면으로 이동합니다.&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-HEj87Q6LO5U/WRMp_PdABnI/AAAAAAAAAyI/H_88QRoY7cYrEJdBe_qMiB65kP9n-9UaACEw/s1600/image15.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;184&quot; src=&quot;https://2.bp.blogspot.com/-HEj87Q6LO5U/WRMp_PdABnI/AAAAAAAAAyI/H_88QRoY7cYrEJdBe_qMiB65kP9n-9UaACEw/s640/image15.JPG&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;이제 &#39;Authorization&#39;의 목록을 보면 방금 생성한 Cognito user pool authorizer가 있습니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;그것을 선택합니다.&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-AxXePdz2-JQ/WRMp_CGiwWI/AAAAAAAAAyI/HWc1fQIeTagBERS5nxLSqVDBCw8lRTcyQCEw/s1600/image16.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;137&quot; src=&quot;https://4.bp.blogspot.com/-AxXePdz2-JQ/WRMp_CGiwWI/AAAAAAAAAyI/HWc1fQIeTagBERS5nxLSqVDBCw8lRTcyQCEw/s400/image16.JPG&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;그리고 &#39;API Key Required&#39;는 false로 선택합니다. 저는 처음에 Cognito에서 획득한 Token이 Key로 쓰인다고 생각해서 여기를 true로 했는데, 그랬더니 Cognito로 획득한 Token도 필요하고 API Gateway에서 만든 Key도 필요한 상황이 되었었습니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;선택을 하고나면 네모칸의 체크모양 버튼을 꼭 눌러주셔야합니다.&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-k_nypBUOfQw/WRMp_V8Oo7I/AAAAAAAAAyI/JaKpjswjHTYJ0UoPBiBcXvsAoHRgAnXXwCEw/s1600/image17.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;158&quot; src=&quot;https://1.bp.blogspot.com/-k_nypBUOfQw/WRMp_V8Oo7I/AAAAAAAAAyI/JaKpjswjHTYJ0UoPBiBcXvsAoHRgAnXXwCEw/s400/image17.JPG&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;API Gateway는 API에 변경사항이 발생하고나면 반드시 Deploy를 해야 반영됩니다. 이거때문에 안된다고 생각하고 난관을 겪는분들이 꽤 있다고 하네요.&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-qpaMBYR9_V0/WRMp_3-KZiI/AAAAAAAAAyI/to3KmAhwdIEy-tr1kc2En8UH4n8KijZNgCEw/s1600/image18.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;400&quot; src=&quot;https://3.bp.blogspot.com/-qpaMBYR9_V0/WRMp_3-KZiI/AAAAAAAAAyI/to3KmAhwdIEy-tr1kc2En8UH4n8KijZNgCEw/s400/image18.JPG&quot; width=&quot;333&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&#39;Deployment stage&#39;는 prod로 합니다.(아직 심화가 아니라서 배포 단계를 나누진 않았습니다.)&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;&#39;Deploy&#39;해주세요.&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-nKczbIrz0LM/WRMp_7ehlsI/AAAAAAAAAyI/yc1USydhvSQXhBkU5mQ1rv_9fEdYPYQ0gCEw/s1600/image19.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;222&quot; src=&quot;https://2.bp.blogspot.com/-nKczbIrz0LM/WRMp_7ehlsI/AAAAAAAAAyI/yc1USydhvSQXhBkU5mQ1rv_9fEdYPYQ0gCEw/s400/image19.JPG&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;h3 style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 1.25em; line-height: 1.25; margin-bottom: 16px; margin-top: 24px;&quot;&gt;3-11. 두번째 API 테스트&lt;/h3&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;API도 설정했으니 테스트를 해봅시다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;최초 Lambda function의 기능이 위에서 언급한 것 처럼 body에 전해오는 key1의 값을 그대로 반환한다고 했습니다. 그러니 테스트를 위해서는 요청에 body가 껴야하고, 그러려면 POST 요청을 해야합니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;그래서 테스트에 크롬 확장프로그램인 Postman을 이용합니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;아래 그림처럼 요청방식을 POST로 선택해주시고, URL에는 API의 URL을 넣어주시고, Header에는 Cognito로 만든 로그인 시스템에서 로그인하여 획득한 idToken 값을 넣어줍니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;그리고 body에는 key1, key2, key3를 json 형식으로 값과 함께 입력해줍니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;그리고 &#39;Send&#39;를 눌러서 요청을 보내봅니다.&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-WBgl47Bl9Bs/WRMqAORENzI/AAAAAAAAAyI/0UTaOvDMROkbXt2l5W1VXyyAs-XmcwJcwCEw/s1600/image20.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;177&quot; src=&quot;https://3.bp.blogspot.com/-WBgl47Bl9Bs/WRMqAORENzI/AAAAAAAAAyI/0UTaOvDMROkbXt2l5W1VXyyAs-XmcwJcwCEw/s640/image20.JPG&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;네, 에러가 발생합니다. Internal server error입니다. 이거는 Lambda function에서 난 에러입니다.&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-ZvyFp_G28vs/WRMqAhKjfLI/AAAAAAAAAyI/aYNnCKCHDT4LGdjVMXVGRwKLesFYSmd0wCEw/s1600/image22.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;236&quot; src=&quot;https://2.bp.blogspot.com/-ZvyFp_G28vs/WRMqAhKjfLI/AAAAAAAAAyI/aYNnCKCHDT4LGdjVMXVGRwKLesFYSmd0wCEw/s640/image22.JPG&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;h3 style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 1.25em; line-height: 1.25; margin-bottom: 16px; margin-top: 24px;&quot;&gt;3-12. Lambda function 코드를 수정합니다.&lt;/h3&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;만들어 놓은 Lambda function에 가서 아래 그림처럼 코드를 수정합니다.&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-_1Ev3GdnpaY/WRMqAwhbAKI/AAAAAAAAAyI/rJerKgCEeE0XgEFQZlP43Msi2YS_73FmwCEw/s1600/image23.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;328&quot; src=&quot;https://1.bp.blogspot.com/-_1Ev3GdnpaY/WRMqAwhbAKI/AAAAAAAAAyI/rJerKgCEeE0XgEFQZlP43Msi2YS_73FmwCEw/s640/image23.JPG&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;주요 변경된 부분은 event에서 body의 내용을 추출하는 부분과 callback의 응답을 수정하는 부분입니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;API Gateway의 API를 통해서 Lambda에 전달되는 요청은 body뿐만 아니라 다양한 이상한 값들과 함께 넘어갑니다. 그래서 body를 추출하려면 저렇게 해주셔야합니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;그리고 API Gateway를 통해서 반환되는 응답에는 statusCode와 headers, body가 있어야 정상적인 응답이 보내집니다. headers는 상황에 따라서 적절히 더 추가하시면 됩니다.&lt;/div&gt;&lt;h3 style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 1.25em; line-height: 1.25; margin-bottom: 16px; margin-top: 24px;&quot;&gt;3-13. 세번째 API 테스트&lt;/h3&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;이제 마지막 테스트 입니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;두번째 테스트와 동일하게 POST 요청을 보내봅니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;짜잔~ 성공적으로 Request body의 첫번째 key인 key1의 value가 되돌아 왔습니다.&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-BGfrY1BpyjA/WRMqBY-omtI/AAAAAAAAAyI/4pdIUY3SNjUf3a1HqVUwwYw9uwBl1U5rACEw/s1600/image24.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;254&quot; src=&quot;https://3.bp.blogspot.com/-BGfrY1BpyjA/WRMqBY-omtI/AAAAAAAAAyI/4pdIUY3SNjUf3a1HqVUwwYw9uwBl1U5rACEw/s640/image24.JPG&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;이 길고 긴 글을 읽어주셔서 너무 감사드립니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;부디 이 입문자의 글이 다른 입문자 분들께 도움이 되었으면 좋겠습니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;내용 중에 틀리거나 보완되야하거나 궁금한 내용은 댓글을 달아주시면 아는 지식 총 동원해서 포스팅을 수정하거나 답글을 달아드리겠습니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px;&quot;&gt;&lt;span style=&quot;box-sizing: border-box; font-weight: 600;&quot;&gt;감사합니다&lt;/span&gt;&lt;/div&gt;</content><link rel='replies' type='application/atom+xml' href='https://walkinpcm.blogspot.com/feeds/6139524690010159229/comments/default' title='댓글'/><link rel='replies' type='text/html' href='https://walkinpcm.blogspot.com/2017/05/aws-aws-api-gateway-lambda-rest-api.html#comment-form' title='1개의 덧글'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/3470089366387037599/posts/default/6139524690010159229'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/3470089366387037599/posts/default/6139524690010159229'/><link rel='alternate' type='text/html' href='https://walkinpcm.blogspot.com/2017/05/aws-aws-api-gateway-lambda-rest-api.html' title='[AWS] AWS API Gateway와 Lambda를 이용한 REST API 만들기'/><author><name>Unknown</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='https://img1.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://3.bp.blogspot.com/-YGZ1QuTaFYI/WRMp7E8MTtI/AAAAAAAAAwY/uvx-sBqKSJcmRLBh8ejgsySoSxB1G-kWgCEw/s72-c/image00.JPG" height="72" width="72"/><thr:total>1</thr:total></entry><entry><id>tag:blogger.com,1999:blog-3470089366387037599.post-8886830787299478207</id><published>2017-05-08T06:07:00.000-07:00</published><updated>2017-06-23T01:34:54.549-07:00</updated><category scheme="http://www.blogger.com/atom/ns#" term="[007. Javascript]"/><category scheme="http://www.blogger.com/atom/ns#" term="[011. AWS]"/><title type='text'>[AWS] AWS Cognito 입문 가이드</title><content type='html'>&lt;h1 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-left: 0px; margin-right: 0px; margin-top: 0px !important; padding-bottom: 0.3em;&quot;&gt;&lt;span style=&quot;color: #cc0000;&quot;&gt;AWS Cognito 입문 가이드&lt;/span&gt;&lt;/h1&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;본 포스팅에서는 AWS에서 제공하는 회원 관리 서비스인 AWS Cognito를 입문하는 방법에 대해 정리해보려 합니다.&lt;br /&gt;제가 시작하면서 경험한 내용을 바탕으로 작성하여 미래의 저 스스로와 다른 분들께 도움이 되면 좋겠습니다.&lt;/div&gt;&lt;h2 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-top: 24px; padding-bottom: 0.3em;&quot;&gt;0. AWS Cognito의 사용 예&lt;/h2&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;저는 Cognito 입문자이기 때문에 매우 단순하게 사용하려 합니다.&lt;br /&gt;AWS에서 제시하는 Cognito의 사용 예는 3가지 정도가 있으나, 이 중에서 가장 간단한 첫번째 사용 예를 실습해보았습니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;아래 그림이 가장 간단한 Cognito의 사용 예 입니다.&lt;/div&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/--CJVVxvaucw/WRBqrTf0PII/AAAAAAAAAu0/gvvU0S-jmAUi_n8IjKe1j_kUHk7rWb5VQCLcB/s1600/image00.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;368&quot; src=&quot;https://1.bp.blogspot.com/--CJVVxvaucw/WRBqrTf0PII/AAAAAAAAAu0/gvvU0S-jmAUi_n8IjKe1j_kUHk7rWb5VQCLcB/s640/image00.JPG&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;(출처 : AWS Summit 2017 Seoul 발표자료)&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;사용 예의 상황은 다음과 같습니다.&lt;br /&gt;사용자(User)가 사용하고 싶은 API(AWS API Gateway로 만들어진)가 있는데, 이 API를 이용하기 위해서는 사용이 인가된 사용자여야합니다.&lt;br /&gt;그래서 사용자(User)는 S3에서 웹호스팅 된 회원가입 및 사용자 인증, 로그인 페이지에 접속해서 회원가입을 하고 로그인을 해서 Token을 획득한 뒤에 해당 Token을 이용해서 API를 호출하는 상황입니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;그림에 표시된 번호대로 설명하면 아래와 같습니다.&lt;/div&gt;&lt;ol style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px; margin-top: 0px; padding-left: 2em;&quot;&gt;&lt;li style=&quot;box-sizing: border-box;&quot;&gt;먼저 서비스 제공자가 AWS S3에서 웹페이지(가입, 인증, 로그인이 가능한 웹페이지)를 웹호스팅을 하고 있는 상태입니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;사용자(User)는 자신의 기기(Client)에서 해당 웹페이지에 접속합니다.&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; margin-top: 0.25em;&quot;&gt;접속한 웹페이지에서 회원가입(Sign-up)을 합니다.&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; margin-top: 0.25em;&quot;&gt;회원가입만 한 상태에서는 사용자 인증이 되어있지 않습니다. 경우에 따라서 이메일 또는 핸드폰 번호로 인증번호가 발송됩니다.&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; margin-top: 0.25em;&quot;&gt;사용자는 이 코드를 웹페이지에 입력해서 사용자 인증을 받습니다.&lt;br style=&quot;box-sizing: border-box;&quot; /&gt;사용자 인증을 받고나면 로그인을 할 수 있습니다. 로그인에 성공하면 응답으로 Token을 받을 수 있습니다.&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; margin-top: 0.25em;&quot;&gt;드디어 사용자는 사용하고 싶은 API를 호출합니다. 이때, 로그인하면서 받은 Token을 헤더에 같이 넣어서 호출합니다.&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; margin-top: 0.25em;&quot;&gt;API Gateway는 이 Token이 유효한 Token인지 Cognito에 확인합니다.&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; margin-top: 0.25em;&quot;&gt;Cognito는 Token의 유효성을 응답해줍니다.&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; margin-top: 0.25em;&quot;&gt;API Gateway가 Cognito로부터 유효한 사용자라고 응답을 받으면 API 호출에 대한 적절한 응답을 사용자에게 반환합니다.&lt;/li&gt;&lt;/ol&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;이 사용 예에서 가장 중요한 것은 Token을 획득하는 일입니다.&lt;br /&gt;본 포스팅에서는 이 Token을 Cognito로 부터 획득하기 위해서 Cognito를 준비하고 회원가입, 인증, 로그인 페이지에서 어떻게 코드를 작성해야 하는가를 정리해보겠습니다.&lt;/div&gt;&lt;h2 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-top: 24px; padding-bottom: 0.3em;&quot;&gt;1. 실습&lt;/h2&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;본 실습에서는 html로 회원가입, 인증, 로그인 폼을 만들고, javascript로 각각의 동작을 구현합니다.&lt;br /&gt;절차는 크게 아래와 같습니다.&lt;/div&gt;&lt;ul style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px; margin-top: 0px; padding-left: 2em;&quot;&gt;&lt;li style=&quot;box-sizing: border-box;&quot;&gt;Cognito에 사용자(User)를 받을 수 있는 User Pool 준비&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; margin-top: 0.25em;&quot;&gt;준비한 User Pool에 사용자(User)를 가입, 인증, 로그인 시킬 수 있는 웹페이지 구현&lt;/li&gt;&lt;/ul&gt;&lt;h3 style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 1.25em; line-height: 1.25; margin-bottom: 16px; margin-top: 24px;&quot;&gt;1-1. AWS Cognito 준비하기&lt;/h3&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;(1) AWS Cognito 서비스에 들어갑니다.&lt;br /&gt;그럼 아래와 같은 화면이 나오는데, 여기서 &#39;Manage your User Pools&#39;를 클릭합니다.&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-yiNhE5Zmpw4/WRBquLaY6TI/AAAAAAAAAu8/zSLnMmSBQZMjBQaGNj5CtAkjcsqxgQM4gCEw/s1600/image00_2.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;194&quot; src=&quot;https://4.bp.blogspot.com/-yiNhE5Zmpw4/WRBquLaY6TI/AAAAAAAAAu8/zSLnMmSBQZMjBQaGNj5CtAkjcsqxgQM4gCEw/s640/image00_2.JPG&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&#39;User Pool&#39;이라는 것은 간단히 사용자 데이터베이스 라고 생각할 수 있습니다.&lt;br /&gt;회원의 ID(Username), email, phone number 등의 정보를 저장할 수 있습니다.&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;(2) &#39;Create a User Pool&#39;을 클릭합니다. &amp;nbsp;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-RlH4wnB_lYM/WRBqtzGpJkI/AAAAAAAAAu4/DyVYpXAf8RwTU7OREhmc2qUOzdBW3pD0QCEw/s1600/image01.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;98&quot; src=&quot;https://1.bp.blogspot.com/-RlH4wnB_lYM/WRBqtzGpJkI/AAAAAAAAAu4/DyVYpXAf8RwTU7OREhmc2qUOzdBW3pD0QCEw/s640/image01.JPG&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;(3) User Pool의 이름을 입력하고, &#39;Review defaults&#39;를 클릭합니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-3YVIank0hd8/WRBqudplgYI/AAAAAAAAAvA/jW4odJrOLdgESldoXRZn2D7aQoPA4H30wCEw/s1600/image02.JPG&quot; imageanchor=&quot;1&quot; style=&quot;font-family: &amp;quot;Malgun Gothic&amp;quot;; font-size: medium; margin-left: 1em; margin-right: 1em; text-align: center;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;244&quot; src=&quot;https://2.bp.blogspot.com/-3YVIank0hd8/WRBqudplgYI/AAAAAAAAAvA/jW4odJrOLdgESldoXRZn2D7aQoPA4H30wCEw/s640/image02.JPG&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;(4) 여러 Setting 값들을 적절하게 수정합니다. (아래에서 하나씩 설명하겠습니다.)&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-MG-AQSQpeqc/WRBquuZIteI/AAAAAAAAAv0/f6ACX6go_vIa5NovatV8k0DoJrvB8nWowCEw/s1600/image03.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;346&quot; src=&quot;https://3.bp.blogspot.com/-MG-AQSQpeqc/WRBquuZIteI/AAAAAAAAAv0/f6ACX6go_vIa5NovatV8k0DoJrvB8nWowCEw/s640/image03.JPG&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;1번은 필수로 입력받아야할 속성들을 선택할 수 있습니다. 기본적으로 모든 항목에 대해서 회원가입 시에 데이터를 입력시킬 수 있는데, 이때 필수로 입력 받아야 하는 항목을 선택하는 것입니다.&lt;br /&gt;Alias는 해당 속성을 ID(Username)으로도 사용 할 수 있게 해주는 것입니다.&lt;br /&gt;User Pool을 생성한 이후에는 필수입력 속성을 더 선택하거나 빼거나 하는 수정이 되지 않습니다. 신중히 체크하셔야 합니다.&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-sg2heZbrVA8/WRBqurDiFuI/AAAAAAAAAv0/2qtf39MehR8RxgXWyg5b02Z0yoqWgouMQCEw/s1600/image04.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;382&quot; src=&quot;https://3.bp.blogspot.com/-sg2heZbrVA8/WRBqurDiFuI/AAAAAAAAAv0/2qtf39MehR8RxgXWyg5b02Z0yoqWgouMQCEw/s640/image04.JPG&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;2번은 암호의 규칙을 설정하는 곳입니다. 최소 글자수, 특수문자, 대문자, 소문자를 필수로 포함해야 하는지 아닌지를 선택할 수 있습니다.&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-lGN4OTD57Xk/WRBqu_pYRkI/AAAAAAAAAv0/NThL-HJRfkE_XASmsRWAuL-qki5RE9FLQCEw/s1600/image05.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;312&quot; src=&quot;https://2.bp.blogspot.com/-lGN4OTD57Xk/WRBqu_pYRkI/AAAAAAAAAv0/NThL-HJRfkE_XASmsRWAuL-qki5RE9FLQCEw/s640/image05.JPG&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;3번은 사용자 인증 방법을 선택하는 곳입니다.&lt;br /&gt;Email 또는 Phone number를 이용해서 사용자 인증을 할 수 있습니다.&lt;br /&gt;Email을 선택하면 사용자가 회원가입 시에 입력한 메일로 인증 코드가 발송되며, Phone number로 하면 핸드폰 번호로 인증코드가 발송됩니다. 핸드폰 번호를 입력 받으실 때는 국제번호 포맷으로 저장해야합니다.(ex. +821012345678)&lt;br /&gt;그리고 &#39;Create role&#39;을 눌러서 Cognito에서 알아서 인증 메세지를 보낼 수 있게 권한을 만들어줘야합니다.&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-hBWPQl8393I/WRBqvCnjBOI/AAAAAAAAAv0/WO2XpgIX41EmdactffVtwL4azUhjSH15ACEw/s1600/image06.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;364&quot; src=&quot;https://3.bp.blogspot.com/-hBWPQl8393I/WRBqvCnjBOI/AAAAAAAAAv0/WO2XpgIX41EmdactffVtwL4azUhjSH15ACEw/s640/image06.JPG&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;4번은 &#39;App Client&#39;를 만드는 곳입니다. App Client를 만들면 고유번호가 생성되는데 이 고유번호를 회원가입 페이지에서 알고 있어야지 지금 생성하는 User Pool을 이용할 수 있습니다.&lt;br /&gt;&#39;Add an app client&#39;를 누릅니다.&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-eBFUKTTC1qc/WRBqvWJbMLI/AAAAAAAAAv0/Dq9p66PvYm0jl1ryaXj_owVd1Oojh2nywCEw/s1600/image07.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;86&quot; src=&quot;https://2.bp.blogspot.com/-eBFUKTTC1qc/WRBqvWJbMLI/AAAAAAAAAv0/Dq9p66PvYm0jl1ryaXj_owVd1Oojh2nywCEw/s640/image07.JPG&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&#39;App client name&#39;을 입력하고, 반드시! &#39;Generate client secret&#39;의 체크를 해제합니다.&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-Ijl960T18I0/WRBqvnO-l1I/AAAAAAAAAv0/yhQh7OR1kZQqlrkdooeFrOEt81CzJtHzQCEw/s1600/image08.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;312&quot; src=&quot;https://1.bp.blogspot.com/-Ijl960T18I0/WRBqvnO-l1I/AAAAAAAAAv0/yhQh7OR1kZQqlrkdooeFrOEt81CzJtHzQCEw/s640/image08.JPG&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;Client secret의 정확한 의미를 찾으려 했으나.. 잘 안보이네요.. 아마 이 App Client를 사용할 때 추가적으로 암호를 사용하려는거 같은데, 어떤 문서를 봐도 이걸 해제라고 되어있고 아직 활성화된 기능이 아니라는 등의 말만 나오네요..&lt;br /&gt;그리고 무엇보다도 Javascript에서 Cognito를 사용할 때는 &#39;Generate client secret&#39;을 무조건 체크 해제 해야합니다. 그렇지 않으면 사용하려할 때 에러가 발생한다고 하네요.&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-7v1NlCHZVQo/WRBqwqZItYI/AAAAAAAAAv0/5fHauxZB_Hs6ksCasxRgEi8FCJag22VJwCEw/s1600/image08_2.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;144&quot; src=&quot;https://4.bp.blogspot.com/-7v1NlCHZVQo/WRBqwqZItYI/AAAAAAAAAv0/5fHauxZB_Hs6ksCasxRgEi8FCJag22VJwCEw/s640/image08_2.JPG&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;App Client를 만들었으면 &#39;Return to pool details&#39;를 클릭해서 설정 리뷰 화면으로 돌아갑니다.&lt;br /&gt;부가적인 설명으로, 아마 App Client는 여러개를 만들 수 있는 것 같습니다. 그래서 여러 App에서 하나의 User Pool에 접근할 수 있게 하는 것 같습니다.&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-5Fi6OEn8_uo/WRBqvteN-TI/AAAAAAAAAv0/_sFVg4DIoG8yLYGp4FLyFQucdthMHkGKACEw/s1600/image09.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;176&quot; src=&quot;https://1.bp.blogspot.com/-5Fi6OEn8_uo/WRBqvteN-TI/AAAAAAAAAv0/_sFVg4DIoG8yLYGp4FLyFQucdthMHkGKACEw/s640/image09.JPG&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;다 만들고나면 User Pool 생성 성공 메세지가 나타나고 &#39;Pool Id&#39;와 &#39;Pool ARN&#39;이 표시됩니다.&lt;br /&gt;여기서 &#39;Pool Id&#39;가 Javascript에서 필요합니다.&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-OS7NLshvIQg/WRBqwFRnswI/AAAAAAAAAv8/DREIq8-pMNkbZF-4YLToDDoAmeIGEKCDgCEw/s1600/image10.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;104&quot; src=&quot;https://1.bp.blogspot.com/-OS7NLshvIQg/WRBqwFRnswI/AAAAAAAAAv8/DREIq8-pMNkbZF-4YLToDDoAmeIGEKCDgCEw/s640/image10.JPG&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;(5) 그리고 왼쪽에 &#39;App clients&#39;를 누르면 &#39;App client Id&#39;가 나오는데, 이것도 Javascript에서 필요합니다.&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-XS-sZpTZMB0/WRBqwbaxRgI/AAAAAAAAAv8/NAWfHQqWgngngV5GmlKiZsv3KM6ORj2KgCEw/s1600/image11.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;244&quot; src=&quot;https://2.bp.blogspot.com/-XS-sZpTZMB0/WRBqwbaxRgI/AAAAAAAAAv8/NAWfHQqWgngngV5GmlKiZsv3KM6ORj2KgCEw/s640/image11.JPG&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;이제 User Pool은 준비가 되었습니다! 회원을 맞을 할 준비가 된 것이죠 ㅎㅎㅎ&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;h2 style=&quot;border-bottom: 1px solid rgb(234, 236, 239); box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; line-height: 1.25; margin-bottom: 16px; margin-top: 24px; padding-bottom: 0.3em;&quot;&gt;1-2. Html과 Javascript를 이용해서 웹페이지 구현&lt;/h2&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;이제 회원을 받을 수 있는 웹 페이지를 만들어야합니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;(1) html 페이지 작성&lt;br /&gt;폼은 그냥 일반적인 input text와 button으로 만들면 됩니다.&lt;br /&gt;너무나 일반적이라서 AWS에서 설명도 안해줍니다...&lt;br /&gt;대강 아래처럼 필요한 정보를 입력할 수 있게만 input 폼을 만들고 버튼만 만들면 됩니다.&lt;br /&gt;중요한 것은 버튼을 클릭했을 때 Javascript 함수가 동작하게 하고 해당 함수 내에서 Cognito 함수들을 사용하는 것입니다.&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-YmxTkmVwMgE/WRBqw6gWcdI/AAAAAAAAAv0/TPFhiasE6GoyP52KzMjyqb5cii5ZJCn6wCEw/s1600/image12.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;202&quot; src=&quot;https://3.bp.blogspot.com/-YmxTkmVwMgE/WRBqw6gWcdI/AAAAAAAAAv0/TPFhiasE6GoyP52KzMjyqb5cii5ZJCn6wCEw/s400/image12.JPG&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;br /&gt;그리고 Cognito를 사용하기 위해서는 3개의 js 파일을 로드해와야합니다.&lt;br /&gt;2개는 다운받아서 넣어줘야하고 1개는 url로 입력하시면 됩니다.&lt;br /&gt;다운로드는 아래 링크에 들어가셔서 &#39;amazon-cognito-identity.min.js&#39;와 &#39;aws-cognito-sdk.min.js&#39;를 받습니다.&lt;br /&gt;(링크 :&amp;nbsp;&lt;a href=&quot;https://github.com/aws/amazon-cognito-identity-js/tree/master/dist&quot;&gt;https://github.com/aws/amazon-cognito-identity-js/tree/master/dist&lt;/a&gt;)&lt;br /&gt;&lt;br /&gt;다운 받으시면 아래처럼 html의 head에 js를 추가해줍니다.&lt;br /&gt;&#39;/path/to&#39;는 아시다시피 본인의 경로에 맞게 대체해주시면 됩니다.&lt;br /&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; overflow: auto; padding: 16px; word-break: normal; word-wrap: normal;&quot;&gt;&amp;lt;&lt;span class=&quot;pl-ent&quot; style=&quot;box-sizing: border-box; color: #63a35c;&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;pl-e&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;/path/to/aws-cognito-sdk.min.js&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&amp;gt;&lt;span class=&quot;pl-s1&quot; style=&quot;box-sizing: border-box;&quot;&gt;&amp;lt;&lt;/span&gt;/&lt;span class=&quot;pl-ent&quot; style=&quot;box-sizing: border-box; color: #63a35c;&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;br /&gt;&amp;lt;&lt;span class=&quot;pl-ent&quot; style=&quot;box-sizing: border-box; color: #63a35c;&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;pl-e&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;/path/to/amazon-cognito-identity.min.js&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&amp;gt;&lt;span class=&quot;pl-s1&quot; style=&quot;box-sizing: border-box;&quot;&gt;&amp;lt;&lt;/span&gt;/&lt;span class=&quot;pl-ent&quot; style=&quot;box-sizing: border-box; color: #63a35c;&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;br /&gt;&amp;lt;&lt;span class=&quot;pl-ent&quot; style=&quot;box-sizing: border-box; color: #63a35c;&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;pl-e&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;https://sdk.amazonaws.com/js/aws-sdk-2.7.20.min.js&lt;/span&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;span style=&quot;font-size: 13.6px;&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;pl-s1&quot; style=&quot;box-sizing: border-box; font-size: 13.6px;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-size: 13.6px;&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;pl-ent&quot; style=&quot;box-sizing: border-box; color: #63a35c; font-size: 13.6px;&quot;&gt;script&lt;/span&gt;&lt;span style=&quot;font-size: 13.6px;&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;(2) javascript 함수 구현&lt;br /&gt;javascript 함수는 3개를 만듭니다. 회원가입(Sign up), 인증(Activate code), 로그인(Sign in) 이 3개입니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;우선, 범용적으로 사용될 설정값을 하나의 js파일에 넣어둡니다.(ex. aws-cognito-config.js)&lt;br /&gt;작성되야할 내용은 아래와 같습니다.&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-55HXxs4CdYM/WRBqww7eTgI/AAAAAAAAAv0/EaGmxnfbvdc1BOcYKSO1UbpPsw0YQxNvQCEw/s1600/image13.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;114&quot; src=&quot;https://3.bp.blogspot.com/-55HXxs4CdYM/WRBqww7eTgI/AAAAAAAAAv0/EaGmxnfbvdc1BOcYKSO1UbpPsw0YQxNvQCEw/s640/image13.JPG&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;region은 user pool을 생성한 리전이고, userPoolId과 appClientId는 User Pool을 만들고 나서 생성된 고유값입니다.&lt;br /&gt;apiGWEndpoint는 Token을 얻은 후에 api를 호출할 주소인데, 본 포스팅에서는 사용하지 않습니다.&lt;br /&gt;이렇게 변수로 만들어 놓고 앞으로 구현할 함수에서 해당 값이 필요할 때 불러다 쓰시면 됩니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;이제 버튼 클릭 이벤트를 처리할 함수를 담을 js 파일을 만들고 아래의 방법으로 코드를 작성합니다.&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;우선, 다수 함수에서 공통적으로 사용할 변수를 전역변수로 작성해 놓습니다.&lt;/div&gt;&lt;div class=&quot;highlight highlight-source-js&quot; style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; overflow: auto; padding: 16px; word-break: normal; word-wrap: normal;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; AWSCognito 객체를 계속해서 사용하는데 여기에 리전 정보를 저장합니다.&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; CognitoConfig.region이 위에서 별도의 js 파일에 넣어둔 설정값입니다.&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;AWSCognito&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;config&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;region&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;CognitoConfig&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;region&lt;/span&gt;;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; 사용할 User Pool의 정보를 담고있는 변수입니다.&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;var&lt;/span&gt; poolData &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;=&lt;/span&gt; {&lt;br /&gt;  UserPoolId &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;CognitoConfig&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;userPoolId&lt;/span&gt;,&lt;br /&gt;  ClientId &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;CognitoConfig&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;appClientId&lt;/span&gt;&lt;br /&gt;};&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; 입력한 User Pool 정보를 가지고 실제 User Pool에 접근할 수 있는 객체를 만듭니다.&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;var&lt;/span&gt; userPool &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;AWSCognito.CognitoIdentityServiceProvider.CognitoUserPool&lt;/span&gt;(poolData);&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; 아래 변수는 회원가입을 하고 가입이 성공했을 때 사용자 정보를 반환받는 변수인데,&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; 회원가입 함수와 인증 함수에서 같은 객체를 사용해야하기 때문에 전역변수로 뺐습니다.&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;var&lt;/span&gt; cognitoUser;&lt;/pre&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;그럼 첫번째, 가입 함수입니다.&lt;/div&gt;&lt;div class=&quot;highlight highlight-source-js&quot; style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; overflow: auto; padding: 16px; word-break: normal; word-wrap: normal;&quot;&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;submitSignUp&lt;/span&gt;() {&lt;br /&gt;  &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; 가입할 때 사용자가 입력한 정보들을 저장할 배열입니다.&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;var&lt;/span&gt; attributeList &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;=&lt;/span&gt; [];&lt;br /&gt;&lt;br /&gt;  &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; 입력 폼에서 입력된 값을 받아오는 부분입니다. 일반적인 javascript입니다.&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;var&lt;/span&gt; user_Name &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;getElementById&lt;/span&gt;(&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;signup_username&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;).&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;value&lt;/span&gt;;&lt;br /&gt;  &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;var&lt;/span&gt; user_PhoneNumber &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;getElementById&lt;/span&gt;(&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;signup_phonenumber&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;).&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;value&lt;/span&gt;;&lt;br /&gt;  &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;var&lt;/span&gt; user_Pw &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;getElementById&lt;/span&gt;(&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;signup_pwd&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;).&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;value&lt;/span&gt;;&lt;br /&gt;  &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;user data : &lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;, user_Name, &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;, &lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;, user_PhoneNumber, &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;, &lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;, user_Pw);&lt;br /&gt;&lt;br /&gt;  &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; 이 변수가 사용자가 입력한 정보 중 하나를 입력하는 변수입니다.&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; 저는 핸드폰 번호만 입력받았습니다.&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; 변수명은 자유롭게 사용가능하나, Name은 AWS Cognito에서 정해주는대로 써야합니다.&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; 목록 : address, birthdate, email, family_name, gender, given_name, locale&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt;   , middle_name, name, nickname, phone_number, picture, preferred_username&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt;   , profile, timezone, updated_at, website&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;var&lt;/span&gt; dataPhoneNumber &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;=&lt;/span&gt; {&lt;br /&gt;    Name&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;phone_number&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;,&lt;br /&gt;    Value &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;:&lt;/span&gt; user_PhoneNumber&lt;br /&gt;  };&lt;br /&gt;&lt;br /&gt;  &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; Attribute를 AWS Cognito가 알아들을 수 있는 객체로 만듭니다.&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;var&lt;/span&gt; attributePhoneNumber &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;AWSCognito.CognitoIdentityServiceProvider.CognitoUserAttribute&lt;/span&gt;(dataPhoneNumber);&lt;br /&gt;&lt;br /&gt;  &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; 방금 위에서 만든 Attribute 객체를 Attribute List에 추가시킵니다.&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; 이렇게 배열에 다 추가시키고 한번에 Cognito에 넘길겁니다.&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;attributeList&lt;/span&gt;.&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;push&lt;/span&gt;(attributePhoneNumber);&lt;br /&gt;&lt;br /&gt;  &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; 전역변수로 만들어 놓은 User Pool 객체에서는 signup 함수를 제공합니다.&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; 인자는 User name(ID 인것 같네요.), Password, Attribute List, null(무슨 자리인지 모르겠어요..확인해야합니다.ㅎㅎ), 처리 결과가 오면 수행 될 callback 함수 입니다.&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;userPool&lt;/span&gt;.&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;signUp&lt;/span&gt;(user_Name,user_Pw, attributeList, &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;err&lt;/span&gt;, &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;result&lt;/span&gt;) {&lt;br /&gt;    &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;if&lt;/span&gt;(err) {&lt;br /&gt;      &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; error가 발생하면 여기로 빠집니다.&lt;/span&gt;&lt;br /&gt;      &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;alert&lt;/span&gt;(err);&lt;br /&gt;      &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;return&lt;/span&gt;;&lt;br /&gt;    }&lt;br /&gt;&lt;br /&gt;    &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; 가입이 성공하면 result에 가입된 User의 정보가 되돌아 옵니다.&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; 인증 함수에서 사용해야하기에 위에서 만든 전역변수인 cognitoUser에 넣어놓습니다.&lt;/span&gt;&lt;br /&gt;    cognitoUser &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;result&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;user&lt;/span&gt;;&lt;br /&gt;    &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;user name is &lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;cognitoUser&lt;/span&gt;.&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;getUsername&lt;/span&gt;());&lt;br /&gt;  });&lt;br /&gt;}&lt;/pre&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;두번째, 인증 함수입니다.&lt;/div&gt;&lt;div class=&quot;highlight highlight-source-js&quot; style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; overflow: auto; padding: 16px; word-break: normal; word-wrap: normal;&quot;&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;submitActivateCode&lt;/span&gt;() {&lt;br /&gt;  &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; 회원가입을 하면 User Pool을 어떻게 만들었냐에 따라서 email 또는 phone으로 인증코드가 발송됩니다.&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; 사용자로부터 인증코드를 입력받아옵니다.&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;var&lt;/span&gt; user_activatecode &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;getElementById&lt;/span&gt;(&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;activate_code&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;).&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;value&lt;/span&gt;;&lt;br /&gt;&lt;br /&gt;  &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; cognitoUser는 가입함수에서 가입 성공 후 되돌아온 사용자 정보가 담겨있습니다.&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; 이 변수에서 바로 confirmRegistration함수를 수행하면 AWS Cognito로 인증 요청을 합니다.&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; 인자는 인증코드, true(이것도 알아봐야합니다..ㅎㅎ), callback 함수 입니다.&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;cognitoUser&lt;/span&gt;.&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;confirmRegistration&lt;/span&gt;(user_activatecode, &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;true&lt;/span&gt;, &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;err&lt;/span&gt;, &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;result&lt;/span&gt;){&lt;br /&gt;    &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;if&lt;/span&gt;(err) {&lt;br /&gt;      &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;alert&lt;/span&gt;(err);&lt;br /&gt;      &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;return&lt;/span&gt;;&lt;br /&gt;    }&lt;br /&gt;    &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; 인증이 성공하면 SUCCESS 문자가 되돌아 옵니다.&lt;/span&gt;&lt;br /&gt;    &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;call result : &lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;+&lt;/span&gt; result);&lt;br /&gt;  });&lt;br /&gt;}&lt;/pre&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;세번째, 로그인 함수입니다. 이 함수를 수행하면 드디어 Token을 얻을 수 있습니다.&lt;/div&gt;&lt;div class=&quot;highlight highlight-source-js&quot; style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px; margin-bottom: 16px;&quot;&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; overflow: auto; padding: 16px; word-break: normal; word-wrap: normal;&quot;&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;submitSignin&lt;/span&gt;() {&lt;br /&gt;  &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; 입력 폼에서 ID와 비밀번호를 입력받습니다.&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; 저는 phone number를 alias로 설정해서 ID 처럼 사용할 수 있게 했습니다.&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;var&lt;/span&gt; user_PhoneNumber &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;getElementById&lt;/span&gt;(&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;signin_phonenumber&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;).&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;value&lt;/span&gt;;&lt;br /&gt;  &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;var&lt;/span&gt; user_Pw &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;getElementById&lt;/span&gt;(&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;signin_pwd&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;).&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;value&lt;/span&gt;;&lt;br /&gt;&lt;br /&gt;  &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; ID와 Password를 정해진 속성명인 Username과 Password에 담습니다.&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;var&lt;/span&gt; authenticationData &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;=&lt;/span&gt; {&lt;br /&gt;    Username &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;:&lt;/span&gt; user_PhoneNumber,&lt;br /&gt;    Password &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;:&lt;/span&gt; user_Pw&lt;br /&gt;  };&lt;br /&gt;&lt;br /&gt;  &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; 여기에는 ID와 User Pool 정보를 담아 놓습니다.&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;var&lt;/span&gt; userData &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;=&lt;/span&gt; {&lt;br /&gt;    Username &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;:&lt;/span&gt; user_PhoneNumber, &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; your username here&lt;/span&gt;&lt;br /&gt;    Pool &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;:&lt;/span&gt; userPool&lt;br /&gt;  };&lt;br /&gt;&lt;br /&gt;  &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; 로그인을 위해 Cognito 객체 2개를 준비합니다.&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;var&lt;/span&gt; authenticationDetails &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;AWSCognito.CognitoIdentityServiceProvider.AuthenticationDetails&lt;/span&gt;(authenticationData);&lt;br /&gt;  &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;var&lt;/span&gt; cognitoSignedUser &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;AWSCognito.CognitoIdentityServiceProvider.CognitoUser&lt;/span&gt;(userData);&lt;br /&gt;&lt;br /&gt;  &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; authenticateUser 함수로 로그인을 시도합니다.&lt;/span&gt;&lt;br /&gt;  &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;cognitoSignedUser&lt;/span&gt;.&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;authenticateUser&lt;/span&gt;(authenticationDetails, {&lt;br /&gt;    &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;onSuccess&lt;/span&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;result&lt;/span&gt;) {&lt;br /&gt;      &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896;&quot;&gt;&lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box;&quot;&gt;//&lt;/span&gt; 로그인에 성공하면 Token이 반환되어 옵니다.&lt;/span&gt;&lt;br /&gt;      &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3;&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;access token + &lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;result&lt;/span&gt;.&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;getAccessToken&lt;/span&gt;().&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;getJwtToken&lt;/span&gt;());&lt;br /&gt;      &lt;span class=&quot;pl-c&quot; style=&quot;box-sizing: border-box; color: #969896; font-size: 13.6px;&quot;&gt;//&lt;/span&gt;&lt;span style=&quot;color: #969896; font-size: 13.6px;&quot;&gt; API Gateway로 만든 API에 Request를 보낼 때는 Authorization 헤더의 값으로 idToken을 넣어야합니다.&lt;br /&gt;&lt;/span&gt;&lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3; font-size: 13.6px;&quot;&gt;      console&lt;/span&gt;&lt;span style=&quot;font-size: 13.6px;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;pl-c1&quot; style=&quot;box-sizing: border-box; color: #0086b3; font-size: 13.6px;&quot;&gt;log&lt;/span&gt;&lt;span style=&quot;font-size: 13.6px;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;pl-s&quot; style=&quot;box-sizing: border-box; color: #183691; font-size: 13.6px;&quot;&gt;&lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;idToken + &lt;span class=&quot;pl-pds&quot; style=&quot;box-sizing: border-box;&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 13.6px;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d; font-size: 13.6px;&quot;&gt;+&lt;/span&gt;&lt;span style=&quot;font-size: 13.6px;&quot;&gt; &lt;/span&gt;&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333; font-size: 13.6px;&quot;&gt;result.idToken.jwtToken&lt;/span&gt;&lt;span style=&quot;font-size: 13.6px;&quot;&gt;);&lt;/span&gt;&lt;span style=&quot;color: #969896; font-size: 13.6px;&quot;&gt;&lt;br /&gt;&lt;/span&gt;    },&lt;br /&gt;    &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;onFailure&lt;/span&gt;&lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-k&quot; style=&quot;box-sizing: border-box; color: #a71d5d;&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;pl-smi&quot; style=&quot;box-sizing: border-box; color: #333333;&quot;&gt;err&lt;/span&gt;) {&lt;br /&gt;      &lt;span class=&quot;pl-en&quot; style=&quot;box-sizing: border-box; color: #795da3;&quot;&gt;alert&lt;/span&gt;(err);&lt;br /&gt;    }&lt;br /&gt;  });&lt;br /&gt;}&lt;/pre&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;&lt;div style=&quot;color: #24292e; font-size: 16px;&quot;&gt;이번 포스팅에서는 Token을 획득한 것으로 마치겠습니다.&lt;/div&gt;&lt;div style=&quot;color: #24292e; font-size: 16px;&quot;&gt;다음 포스팅에서 이 Token을 가지고 API Gateway로 만든 API를 호출하고, 연결된 Lambda함수를 실행해서 응답을 받는 실습을 정리해보겠습니다.&lt;/div&gt;&lt;div style=&quot;color: #24292e; font-size: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;color: #24292e; font-size: 16px;&quot;&gt;* API Gateway+Lambda 사용 방법 링크&lt;/div&gt;&lt;span style=&quot;color: #24292e;&quot;&gt;&lt;a href=&quot;https://walkinpcm.blogspot.kr/2017/05/aws-aws-api-gateway-lambda-rest-api.html&quot;&gt;https://walkinpcm.blogspot.kr/2017/05/aws-aws-api-gateway-lambda-rest-api.html&lt;/a&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; color: #24292e; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;; font-size: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box;&quot;&gt;&lt;div style=&quot;color: #24292e; font-size: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;color: #24292e; font-size: 16px;&quot;&gt;* 참고 링크&lt;/div&gt;&lt;div style=&quot;color: #24292e; font-size: 16px;&quot;&gt;- AWS Summit 2017 Seoul에서 Cognito 강연 영상 및 슬라이드 자료&lt;/div&gt;&lt;div style=&quot;color: #24292e; font-size: 16px;&quot;&gt;영상 :&amp;nbsp;&lt;a class=&quot;gOuterLink word_break _outerLink&quot; href=&quot;https://youtu.be/SiCQtRmvQBY&quot; style=&quot;background-color: white; box-sizing: border-box; color: #285292; font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, NotoColorEmoji, &amp;quot;Segoe UI Symbol&amp;quot;, &amp;quot;Android Emoji&amp;quot;, EmojiSymbols; font-size: 14px; white-space: pre-wrap; word-break: break-all; word-wrap: break-word;&quot; target=&quot;_blank&quot;&gt;https://youtu.be/SiCQtRmvQBY&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;color: #24292e; font-size: 16px;&quot;&gt;자료 :&amp;nbsp;&lt;a class=&quot;gOuterLink word_break _outerLink&quot; href=&quot;https://www.slideshare.net/awskorea/1-amazon-cognito-mobile-identity-security-resource-access-control&quot; style=&quot;background-color: white; box-sizing: border-box; color: #285292; font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, NotoColorEmoji, &amp;quot;Segoe UI Symbol&amp;quot;, &amp;quot;Android Emoji&amp;quot;, EmojiSymbols; font-size: 14px; white-space: pre-wrap; word-break: break-all; word-wrap: break-word;&quot; target=&quot;_blank&quot;&gt;https://www.slideshare.net/awskorea/1-amazon-cognito-mobile-identity-security-resource-access-control&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;color: #24292e; font-size: 16px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;color: #24292e; font-size: 16px;&quot;&gt;- Tutorial&lt;/div&gt;&lt;span style=&quot;color: #24292e;&quot;&gt;&lt;a href=&quot;http://docs.aws.amazon.com/ko_kr/cognito/latest/developerguide/tutorial-integrating-user-pools-javascript.html&quot;&gt;http://docs.aws.amazon.com/ko_kr/cognito/latest/developerguide/tutorial-integrating-user-pools-javascript.html&lt;/a&gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #24292e;&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;/div&gt;</content><link rel='replies' type='application/atom+xml' href='https://walkinpcm.blogspot.com/feeds/8886830787299478207/comments/default' title='댓글'/><link rel='replies' type='text/html' href='https://walkinpcm.blogspot.com/2017/05/aws-aws-cognito.html#comment-form' title='0개의 덧글'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/3470089366387037599/posts/default/8886830787299478207'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/3470089366387037599/posts/default/8886830787299478207'/><link rel='alternate' type='text/html' href='https://walkinpcm.blogspot.com/2017/05/aws-aws-cognito.html' title='[AWS] AWS Cognito 입문 가이드'/><author><name>Unknown</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='https://img1.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://1.bp.blogspot.com/--CJVVxvaucw/WRBqrTf0PII/AAAAAAAAAu0/gvvU0S-jmAUi_n8IjKe1j_kUHk7rWb5VQCLcB/s72-c/image00.JPG" height="72" width="72"/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-3470089366387037599.post-1837884058212425862</id><published>2017-03-23T09:07:00.002-07:00</published><updated>2017-03-23T09:07:53.481-07:00</updated><category scheme="http://www.blogger.com/atom/ns#" term="[012. Web]"/><category scheme="http://www.blogger.com/atom/ns#" term="[013. Server]"/><title type='text'>[Web/Server] Ubuntu(우분투)에서 Nginx(엔진엑스) 설치하기</title><content type='html'>&lt;h2&gt;&lt;span style=&quot;color: #cc0000;&quot;&gt;Ubuntu(우분투)에서 Nginx(엔진엑스) 설치하기&lt;/span&gt;&lt;/h2&gt;&lt;br /&gt;이번 포스팅에서는 Apache의 대항마라고 불리는 차세대 웹서버인 Nginx의 설치방법을 정리해보겠습니다.&lt;br /&gt;Nginx는 Apache에 비해서 가볍고 설정이 간편하면서, 성능이 좋고 속도가 빠른 장점이 있다고 합니다.&lt;br /&gt;&lt;br /&gt;설치 방법은 nginx의 wiki를 참고하였습니다.&lt;br /&gt;&lt;a href=&quot;https://www.nginx.com/resources/wiki/start/topics/tutorials/install/#official-debian-ubuntu-packages&quot;&gt;&lt;span style=&quot;background-color: white; color: #999999; font-size: x-small;&quot;&gt;https://www.nginx.com/resources/wiki/start/topics/tutorials/install/#official-debian-ubuntu-packages&lt;/span&gt;&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;저는 Ubuntu 16.04 LTS에서 설치하려고 합니다.&lt;br /&gt;&lt;br /&gt;nginx를 설치하는 방법은 3가지 정도가 있는 것 같습니다.&lt;br /&gt;- 첫번째, PPA를 이용해서 설치하는 방법&lt;br /&gt;- 두번째, apt repository를 추가해서 설치하는 방법&lt;br /&gt;- 세번째, 소스코드를 컴파일해서 설치하는 방법&lt;br /&gt;&lt;br /&gt;저는 두번째 : apt repository를 추가해서 설치하는 방법을 해보려고 합니다.&lt;br /&gt;PPA의 경우 비공식 소프트웨어인데 nginx가 아닌 자원자들이 개발하는 버전이라고 합니다. 저는 공식적인 버전을 사용하기 위해서 PPA는 사용하지 않으려고 합니다.&lt;br /&gt;소스코드를 컴파일 하는 방법은 nginx의 설정을 좀 더 커스텀해서 사용할 수 있다고 하는데, 저는 nginx의 입문자라서 그냥 기본 설정으로 충분할 것 같아서 소스코드를 컴파일 하지는 않을 것입니다.&lt;br /&gt;&lt;br /&gt;&lt;h4&gt;&lt;span style=&quot;font-size: large;&quot;&gt;본격 설치 방법&lt;/span&gt;&lt;/h4&gt;&lt;b&gt;(1) apt-get repository 추가&lt;/b&gt;&lt;br /&gt;apt repository에 nginx 패키지의 출처를 추가합니다. 추가할 위치는 아래와 같습니다.&lt;br /&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; color: #24292e; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; overflow: auto; padding: 16px; word-wrap: normal;&quot;&gt;&lt;code style=&quot;background: transparent; border-radius: 3px; border: 0px; box-sizing: border-box; display: inline; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; line-height: inherit; margin: 0px; overflow: visible; padding: 0px; word-break: normal; word-wrap: normal;&quot;&gt;/etc/apt/sources.list&lt;/code&gt;&lt;/pre&gt;&lt;br /&gt;sources.list 파일을 사용하시는 에디터로 열어서 맨 밑에 아래의 두줄을 추가합니다.&lt;br /&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; color: #24292e; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; overflow: auto; padding: 16px; word-wrap: normal;&quot;&gt;&lt;code style=&quot;background: transparent; border-radius: 3px; border: 0px; box-sizing: border-box; display: inline; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; line-height: inherit; margin: 0px; overflow: visible; padding: 0px; word-break: normal; word-wrap: normal;&quot;&gt;deb http://nginx.org/packages/ubuntu/ xenial nginx&lt;br /&gt;deb-src http://nginx.org/packages/ubuntu/ xenial nginx&lt;/code&gt;&lt;/pre&gt;참고로 위의 두줄은 &lt;span style=&quot;color: red;&quot;&gt;&lt;b&gt;ubuntu 16.04 버전&lt;/b&gt;&lt;/span&gt;을 위한 것입니다.&lt;br /&gt;ubuntu 14.04는 아래 두줄이 맞습니다.&lt;br /&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; color: #24292e; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; overflow: auto; padding: 16px; word-wrap: normal;&quot;&gt;&lt;code style=&quot;background: transparent; border-radius: 3px; border: 0px; box-sizing: border-box; display: inline; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; line-height: inherit; margin: 0px; overflow: visible; padding: 0px; word-break: normal; word-wrap: normal;&quot;&gt;deb http://nginx.org/packages/ubuntu/ trusty nginx&lt;br /&gt;deb-src http://nginx.org/packages/ubuntu/ trusty &lt;/code&gt;nginx&lt;/pre&gt;버전이 다르면 단지 버전에 따른 코드네임만 변경하면 됩니다.&lt;br /&gt;&lt;br /&gt;&lt;b&gt;(2) apt-get으로 nginx 설치&lt;/b&gt;&lt;br /&gt;apt repository를 수정했으니 적용시키기 위해서 update를 해줍니다.&lt;br /&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; color: #24292e; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; overflow: auto; padding: 16px; word-wrap: normal;&quot;&gt;&lt;code style=&quot;background: transparent; border-radius: 3px; border: 0px; box-sizing: border-box; display: inline; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; line-height: inherit; margin: 0px; overflow: visible; padding: 0px; word-break: normal; word-wrap: normal;&quot;&gt;sudo apt-get update&lt;/code&gt;&lt;/pre&gt;&lt;br /&gt;그런데!!! update를 수행하고 나면 nginx와 관련해서 아래와 같은 주의가 나타났을 겁니다.&lt;br /&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; color: #24292e; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; overflow: auto; padding: 16px; word-wrap: normal;&quot;&gt;&lt;code style=&quot;background: transparent; border-radius: 3px; border: 0px; box-sizing: border-box; display: inline; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; line-height: inherit; margin: 0px; overflow: visible; padding: 0px; word-break: normal; word-wrap: normal;&quot;&gt;W: GPG error: http://nginx.org/packages/ubuntu xenial InRelease:&lt;br /&gt;The following signatures couldn&#39;t be verified because the public key is not available: NO_PUBKEY {key}&lt;/code&gt;&lt;/pre&gt;이 주의문구는 nginx의 repository에 있는 nginx 패키지가 검증되지 않아서 나타나는 것입니다.&lt;br /&gt;nginx 공식 wiki에서는 위의 문제가 발생하면 아래처럼 key를 등록하라고 합니다. {key}자리에는 주의 문구에 {key} 자리에 있는 키를 넣어주면 됩니다.&lt;br /&gt;key를 등록하고 다시 update까지 해줍니다.&lt;br /&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; color: #24292e; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; overflow: auto; padding: 16px; word-wrap: normal;&quot;&gt;&lt;code style=&quot;background: transparent; border-radius: 3px; border: 0px; box-sizing: border-box; display: inline; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; line-height: inherit; margin: 0px; overflow: visible; padding: 0px; word-break: normal; word-wrap: normal;&quot;&gt;sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys {key}&lt;br /&gt;sudo apt-get update&lt;/code&gt;&lt;/pre&gt;이번 update에서는 주의문구가 나타나지 않을 것입니다.&lt;br /&gt;&lt;br /&gt;update가 완료되면 설치를 합니다.&lt;br /&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; color: #24292e; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; overflow: auto; padding: 16px; word-wrap: normal;&quot;&gt;&lt;code style=&quot;background: transparent; border-radius: 3px; border: 0px; box-sizing: border-box; display: inline; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; line-height: inherit; margin: 0px; overflow: visible; padding: 0px; word-break: normal; word-wrap: normal;&quot;&gt;sudo apt-get install nginx&lt;/code&gt;&lt;/pre&gt;&lt;br /&gt;&lt;b&gt;설치 끝&lt;/b&gt; 입니다!&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;이번 포스팅에서는 설치만 정리하고 다음 포스팅에서 설정파일에 대한 정리와 함께 node.js와의 연동에 대해 정리해보도록 하고 링크 걸겠습니다.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;</content><link rel='replies' type='application/atom+xml' href='https://walkinpcm.blogspot.com/feeds/1837884058212425862/comments/default' title='댓글'/><link rel='replies' type='text/html' href='https://walkinpcm.blogspot.com/2017/03/webserver-ubuntu-nginx.html#comment-form' title='0개의 덧글'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/3470089366387037599/posts/default/1837884058212425862'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/3470089366387037599/posts/default/1837884058212425862'/><link rel='alternate' type='text/html' href='https://walkinpcm.blogspot.com/2017/03/webserver-ubuntu-nginx.html' title='[Web/Server] Ubuntu(우분투)에서 Nginx(엔진엑스) 설치하기'/><author><name>Unknown</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='https://img1.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-3470089366387037599.post-8016697873230066545</id><published>2017-03-16T07:11:00.003-07:00</published><updated>2017-03-16T07:11:45.968-07:00</updated><category scheme="http://www.blogger.com/atom/ns#" term="[012. Web]"/><category scheme="http://www.blogger.com/atom/ns#" term="[014. Node.js]"/><title type='text'>[Web/Node.js] Express 설치 및 웹페이지 연결시키기</title><content type='html'>&lt;h2&gt;&lt;span style=&quot;color: #cc0000;&quot;&gt;Express 설치 및 웹페이지 연결시키기&lt;/span&gt;&lt;/h2&gt;&lt;br /&gt;&lt;h4&gt;&lt;span style=&quot;font-size: large;&quot;&gt;1. Express 설치&lt;/span&gt;&lt;/h4&gt;express를 사용할 node.js 프로젝트 폴더로 이동합니다.&lt;br /&gt;해당 폴더에서 아래 명령어를 수행합니다.&lt;br /&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; color: #24292e; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; overflow: auto; padding: 16px; word-wrap: normal;&quot;&gt;&lt;code style=&quot;background: transparent; border-radius: 3px; border: 0px; box-sizing: border-box; display: inline; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; line-height: inherit; margin: 0px; overflow: visible; padding: 0px; word-break: normal; word-wrap: normal;&quot;&gt;npm install express --save&lt;/code&gt;&lt;/pre&gt;&lt;br /&gt;설치를 하고 나면 package.json에 아래와 같은 dependency가 추가됩니다.&lt;br /&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; color: #24292e; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; overflow: auto; padding: 16px; word-wrap: normal;&quot;&gt;&lt;code style=&quot;background: transparent; border-radius: 3px; border: 0px; box-sizing: border-box; display: inline; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; line-height: inherit; margin: 0px; overflow: visible; padding: 0px; word-break: normal; word-wrap: normal;&quot;&gt;&quot;dependencies&quot;: {&lt;br /&gt;    &quot;express&quot;: &quot;^4.15.2&quot;&lt;br /&gt;  }&lt;/code&gt;&lt;/pre&gt;&lt;br /&gt;&lt;br /&gt;&lt;h4&gt;&lt;span style=&quot;font-size: large;&quot;&gt;2. 웹페이지 연결&lt;/span&gt;&lt;/h4&gt;express를 이용해서 웹서버를 열고, 브라우저에서 접속했을 때 index.html을 나타내도록 해보겠습니다.&lt;br /&gt;&lt;br /&gt;우선 index.html을 만듭니다. 위치는 프로젝트 루트에서 views라는 폴더를 만들고 그 안에 만들어 줍니다.&lt;br /&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; color: #24292e; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; overflow: auto; padding: 16px; word-wrap: normal;&quot;&gt;&lt;code style=&quot;background: transparent; border-radius: 3px; border: 0px; box-sizing: border-box; display: inline; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; line-height: inherit; margin: 0px; overflow: visible; padding: 0px; word-break: normal; word-wrap: normal;&quot;&gt;mkdir views&lt;br /&gt;nano index.html&lt;/code&gt;&lt;/pre&gt;&lt;br /&gt;index.html의 내용을 적당히 채워줍니다. 되는지 먼저 봐야하니깐 화려할 필요는 없습니다.&lt;br /&gt;&lt;br /&gt;그리고 npm 패키지 하나가 더 필요합니다. ejs 패키지 인데, 프로젝트 루트 위치에서 아래 명령어로 설치합니다. express 설치하는 것과 같습니다.&lt;br /&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; color: #24292e; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; overflow: auto; padding: 16px; word-wrap: normal;&quot;&gt;&lt;code style=&quot;background: transparent; border-radius: 3px; border: 0px; box-sizing: border-box; display: inline; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; line-height: inherit; margin: 0px; overflow: visible; padding: 0px; word-break: normal; word-wrap: normal;&quot;&gt;npm install ejs --save&lt;/code&gt;&lt;/pre&gt;&lt;br /&gt;ejs 패키지는 html 템플릿 엔진입니다. ejs에 대한 자세한 사항은 다음에 다시 살펴보도록 하겠습니다.&lt;br /&gt;&lt;br /&gt;이제 메인이 되는 자바스크립트 코드를 아래처럼 작성합니다.&lt;br /&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; color: #24292e; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; overflow: auto; padding: 16px; word-wrap: normal;&quot;&gt;&lt;code style=&quot;background: transparent; border-radius: 3px; border: 0px; box-sizing: border-box; display: inline; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; line-height: inherit; margin: 0px; overflow: visible; padding: 0px; word-break: normal; word-wrap: normal;&quot;&gt;1 |var express = require(&#39;express&#39;);&lt;br /&gt;2 |var app = express();&lt;br /&gt;3 |&lt;br /&gt;4 |app.set(&#39;views&#39;, __dirname + &#39;/views&#39;);&lt;br /&gt;5 |app.set(&#39;view engine&#39;, &#39;ejs&#39;);&lt;br /&gt;6 |app.engine(&#39;html&#39;, require(&#39;ejs&#39;).renderFile);&lt;br /&gt;7 |&lt;br /&gt;8 |app.get(&#39;/&#39;,function(req,res){&lt;br /&gt;9 |        res.render(&#39;index.html&#39;);&lt;br /&gt;10|});&lt;br /&gt;11|&lt;br /&gt;12|var server = app.listen(80, function(){&lt;br /&gt;13|        console.log(&quot;The server has started on port 80&quot;);&lt;br /&gt;14|});&lt;/code&gt;&lt;/pre&gt;&lt;br /&gt;1번 줄은 express 패키지를 본 코드에서 사용할 수 있게 가져오는 것입니다. java에서의 import, c에서의 include와 유사합니다.&lt;br /&gt;2번 줄은 express의 기능을 사용할 수 있는 객체를 가져오는 것입니다. 가져온 객체를 app이라는 이름의 변수에 담아서 express의 기능을 사용하는데 쓸겁니다.&lt;br /&gt;4번 줄은 html 파일들을 위치시킨 경로를 설정하는 것입니다.&lt;br /&gt;5,6번 줄은 html을 나타내는 엔진으로 ejs 패키지를 사용하다는 것입니다.&lt;br /&gt;8번 줄은 &#39;/&#39;로 get요청이 오면 index.html 파일을 반환한다는 것입니다.&lt;br /&gt;12번 줄은 80번 포트로 웹서버를 연다는 것입니다.&lt;br /&gt;&lt;br /&gt;이렇게 작성하고 node로 자바스크립트를 실행하면 웹서버가 시작됩니다.&lt;br /&gt;그리고 웹브라우저에서 해당 서버로 http 접속을 하면 index.html에 작성한 내용이 표시되는 것을 확인할 수 있습니다.&lt;br /&gt;(80번 포트는 root 권한으로 웹서버를 실행시켜줘야합니다. 그래서 우분투에서는 sudo를 붙이도록 합니다.)&lt;br /&gt;&lt;br /&gt;</content><link rel='replies' type='application/atom+xml' href='https://walkinpcm.blogspot.com/feeds/8016697873230066545/comments/default' title='댓글'/><link rel='replies' type='text/html' href='https://walkinpcm.blogspot.com/2017/03/webnodejs-express.html#comment-form' title='0개의 덧글'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/3470089366387037599/posts/default/8016697873230066545'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/3470089366387037599/posts/default/8016697873230066545'/><link rel='alternate' type='text/html' href='https://walkinpcm.blogspot.com/2017/03/webnodejs-express.html' title='[Web/Node.js] Express 설치 및 웹페이지 연결시키기'/><author><name>Unknown</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='https://img1.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-3470089366387037599.post-198610632013650734</id><published>2017-03-16T06:18:00.002-07:00</published><updated>2017-03-16T06:30:32.287-07:00</updated><category scheme="http://www.blogger.com/atom/ns#" term="[014. Node.js]"/><title type='text'>[Node.js] npm 프로젝트 시작하기</title><content type='html'>&lt;h2&gt;&lt;span style=&quot;color: #cc0000;&quot;&gt;npm 프로젝트 시작하기&lt;/span&gt;&lt;/h2&gt;&lt;br /&gt;node.js에서는 내가 직접 만든 .js 파일들 뿐만 아니라 이미 다른 사람들이 만들어 놓은 .js 파일들을 사용할 수 있습니다. 보통 이런 .js파일들을 패키지 라고 부르게 됩니다.&lt;br /&gt;&lt;br /&gt;npm은 node.js에서 사용하는 패키지 관리도구입니다. 즉, 다른 사람들이 만들어 놓은 패키지를 사용할 수 있게 도와주는 도구인것이죠.&lt;br /&gt;Maven이나 Gradle 같은 부류라고 생각할 수 있을 것 같습니다.&lt;br /&gt;&lt;br /&gt;본 포스트에서는 프로젝트를 npm 패키지로 선언하는 방법을 정리해봅니다.&lt;br /&gt;&lt;br /&gt;&lt;h4&gt;&lt;span style=&quot;font-size: large;&quot;&gt;1. npm 설치&lt;/span&gt;&lt;/h4&gt;npm은 node.js를 설치하면 함께 설치됩니다.&lt;br /&gt;우분투에서의 node.js의 설치 방법은 아래 링크에 정리되어 있습니다.&lt;br /&gt;&lt;a href=&quot;https://walkinpcm.blogspot.kr/2017/03/webnodejs-nodejs.html&quot;&gt;https://walkinpcm.blogspot.kr/2017/03/webnodejs-nodejs.html&lt;/a&gt;&lt;br /&gt;&lt;h4&gt;&lt;span style=&quot;font-size: large;&quot;&gt;&lt;br /&gt;2. npm 패키지 선언&lt;/span&gt;&lt;/h4&gt;프로젝트에서 npm을 사용하려면 해당 프로젝트를 npm 패키지로 만들겠다고 선언해줘야 합니다.&lt;br /&gt;&lt;br /&gt;이 과정은 git의 선언과 유사하다고 생각합니다.&lt;br /&gt;git도 프로젝트를 git과 연결시킬때, 해당 폴더에서 git init 을 수행하지요. 그러고 나면 git 관련 파일이 생성됩니다.&lt;br /&gt;npm도 유사합니다. 프로젝트를 npm 패키지로 선언하고 나면 package.json이라는 파일이 생성됩니다.&lt;br /&gt;&lt;br /&gt;npm 패키지 선언은 아래 명령어로 시작합니다.&lt;br /&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; color: #24292e; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; overflow: auto; padding: 16px; word-wrap: normal;&quot;&gt;&lt;code style=&quot;background: transparent; border-radius: 3px; border: 0px; box-sizing: border-box; display: inline; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; line-height: inherit; margin: 0px; overflow: visible; padding: 0px; word-break: normal; word-wrap: normal;&quot;&gt;npm init&lt;/code&gt;&lt;/pre&gt;&lt;br /&gt;init 명령을 수행하고 나면 몇가지 질문이 차례대로 나옵니다.&lt;br /&gt;&lt;pre style=&quot;background-color: #f6f8fa; border-radius: 3px; box-sizing: border-box; color: #24292e; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; font-stretch: normal; line-height: 1.45; overflow: auto; padding: 16px; word-wrap: normal;&quot;&gt;&lt;code style=&quot;background: transparent; border-radius: 3px; border: 0px; box-sizing: border-box; display: inline; font-family: SFMono-Regular, Consolas, &amp;quot;Liberation Mono&amp;quot;, Menlo, Courier, monospace; font-size: 13.6px; line-height: inherit; margin: 0px; overflow: visible; padding: 0px; word-break: normal; word-wrap: normal;&quot;&gt;name            : 패키지의 이름. &lt;br /&gt;version         : 패키지의 버전.&lt;br /&gt;description     : 패키지 설명.&lt;br /&gt;entry point     : 패키지 실행시 이 패키지를 구동시키는 자바스크립트 파일&lt;br /&gt;test command    : TDD를 할 때의 명령. 빈칸으로 넘어가도 됨.&lt;br /&gt;git             : 연결되는 git 주소.&lt;br /&gt;keyword         : 옵션. 빈칸으로 넘어가도 됨.&lt;br /&gt;author          : 옵션. 빈칸으로 넘어가도 됨.&lt;br /&gt;license         : 디폴트로 넘어가도 무방.&lt;/code&gt;&lt;/pre&gt;&lt;br /&gt;&lt;br /&gt;질문에 대한 답을 입력하고나면 package.json 파일이 생성됩니다.&lt;br /&gt;이 파일이 만들 패키지에 대한 개요 정도라고 봐도 될 것 같습니다.&lt;br /&gt;&lt;br /&gt;package.json에는 앞으로 프로젝트에 외부 패키지를 설치할 때마다 해당 dependency에 대한 내용이 자동으로 추가됩니다.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;</content><link rel='replies' type='application/atom+xml' href='https://walkinpcm.blogspot.com/feeds/198610632013650734/comments/default' title='댓글'/><link rel='replies' type='text/html' href='https://walkinpcm.blogspot.com/2017/03/nodejs-npm.html#comment-form' title='0개의 덧글'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/3470089366387037599/posts/default/198610632013650734'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/3470089366387037599/posts/default/198610632013650734'/><link rel='alternate' type='text/html' href='https://walkinpcm.blogspot.com/2017/03/nodejs-npm.html' title='[Node.js] npm 프로젝트 시작하기'/><author><name>Unknown</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='https://img1.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-3470089366387037599.post-1507586652308466358</id><published>2017-03-16T05:25:00.000-07:00</published><updated>2017-03-16T07:12:17.022-07:00</updated><category scheme="http://www.blogger.com/atom/ns#" term="[012. Web]"/><category scheme="http://www.blogger.com/atom/ns#" term="[014. Node.js]"/><title type='text'>[Web/Node.js] Node.js 설치</title><content type='html'>&lt;h2&gt;&lt;span style=&quot;color: #cc0000;&quot;&gt;우분투(Ubuntu)에서 Node.js 설치하기&lt;/span&gt;&lt;/h2&gt;&lt;br /&gt;&lt;br /&gt;개인적인 프로젝트를 진행하는데 server-side를 새롭게 node.js로 해보고 싶은 욕심이 생겨서 설치부터 정리해봅니다.&lt;br /&gt;&lt;br /&gt;&lt;h4&gt;&lt;span style=&quot;font-size: large;&quot;&gt;1. Node.js 설치&lt;/span&gt;&lt;/h4&gt;node.js 홈페이지에 가면 다양한 플랫폼에 대한 node.js 설치파일이나 설치방법이 제공됩니다.&lt;br /&gt;우분투에서 설치하는 방법은 아래 링크처럼 설명되고 있습니다.&lt;br /&gt;&lt;a href=&quot;https://nodejs.org/ko/download/package-manager/#debian-ubuntu-linux&quot;&gt;https://nodejs.org/ko/download/package-manager/#debian-ubuntu-linux&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;지원가능한 우분투 버전도 나오는데 12.04, 14.04, 16.04가 지원되네요. 저는 14.04에 해볼 겁니다.&lt;br /&gt;&lt;br /&gt;설치는 간단합니다. 아래 명령어 2줄만 차례대로 수행해주면 됩니다.&lt;br /&gt;&lt;pre class=&quot;language-bash&quot; style=&quot;background: rgb(45, 45, 45); border-radius: 3px; color: #cccccc; direction: ltr; font-family: Consolas, Monaco, &amp;quot;Andale Mono&amp;quot;, monospace; font-size: 0.8em; hyphens: none; line-height: 1.5; margin-bottom: 0.5em; margin-top: 0.5em; overflow: auto; padding: 1em; tab-size: 4; word-break: normal;&quot;&gt;&lt;code class=&quot;language-bash&quot; style=&quot;background-color: inherit; direction: ltr; font-family: Consolas, Monaco, &amp;quot;Andale Mono&amp;quot;, monospace; font-size: 13.6px; hyphens: none; line-height: 1.5; padding: 0px; tab-size: 4; word-break: normal; word-spacing: normal;&quot;&gt;curl -sL https://deb.nodesource.com/setup_6.x &lt;span class=&quot;token operator&quot; style=&quot;color: #67cdcc;&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token function&quot; style=&quot;color: #f08d49;&quot;&gt;sudo&lt;/span&gt; -E &lt;span class=&quot;token function&quot; style=&quot;color: #f08d49;&quot;&gt;bash&lt;/span&gt; -&lt;br /&gt;&lt;span class=&quot;token function&quot; style=&quot;color: #f08d49;&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot; style=&quot;color: #f08d49;&quot;&gt;apt-get&lt;/span&gt; &lt;span class=&quot;token function&quot; style=&quot;color: #f08d49;&quot;&gt;install&lt;/span&gt; -y nodejs&lt;/code&gt;&lt;/pre&gt;참고로 위의 방법으로는 node.js 6.x 버전을 설치합니다.&lt;br /&gt;이 글을 쓰는 시점에서는 6.x 버전이 안정된 버전이고, 7.x는 최신이기는 하나 아직 안정되지 않은 버전이기 때문에 저는 6.x를 선택했습니다.&lt;br /&gt;&lt;br /&gt;위 두줄로 간단히 설치를 마치고 나면 버전 확인으로 설치가 된것을 확인할 수 있습니다.&lt;br /&gt;&lt;div&gt;&lt;pre class=&quot;language-bash&quot; style=&quot;background: rgb(45, 45, 45); border-radius: 3px; direction: ltr; font-family: consolas, monaco, &amp;quot;andale mono&amp;quot;, monospace; line-height: 1.5; margin-bottom: 0.5em; margin-top: 0.5em; overflow: auto; padding: 1em; word-break: normal;&quot;&gt;&lt;code class=&quot;language-bash&quot; style=&quot;background-color: inherit; direction: ltr; font-family: consolas, monaco, &amp;quot;andale mono&amp;quot;, monospace; font-size: 13.6px; line-height: 1.5; padding: 0px; word-break: normal; word-spacing: normal;&quot;&gt;&lt;span class=&quot;token function&quot; style=&quot;color: #cccccc;&quot;&gt;$node --version&lt;br /&gt;&lt;/span&gt;&lt;/code&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;&lt;span style=&quot;font-size: 13.6px;&quot;&gt;v6.10.0&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br /&gt;&lt;h4&gt;&lt;span style=&quot;font-size: large;&quot;&gt;2. Node.js 실행&lt;/span&gt;&lt;/h4&gt;node.js는 확장자가 .js인 파일을 실행할 수 있습니다.&lt;br /&gt;실행방법은 간단하게 node 명령어를 이용하면 됩니다.&lt;br /&gt;&lt;br /&gt;예를 들어서 아래와 같이 콘솔로그를 출력하는 helloworld.js 파일을 만듭니다. 에디터는 무엇을 이용하든 무관합니다.&lt;br /&gt;&lt;pre class=&quot;language-bash&quot; style=&quot;background: rgb(45, 45, 45); border-radius: 3px; direction: ltr; font-family: consolas, monaco, &amp;quot;andale mono&amp;quot;, monospace; line-height: 1.5; margin-bottom: 0.5em; margin-top: 0.5em; overflow: auto; padding: 1em; word-break: normal;&quot;&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;&lt;span style=&quot;font-size: 13.6px;&quot;&gt;console.log(&#39;Hello World!&#39;);&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;br /&gt;이 helloworld.js 파일의 실행은 아래와 같이 하면됩니다.&lt;br /&gt;&lt;pre class=&quot;language-bash&quot; style=&quot;background: rgb(45, 45, 45); border-radius: 3px; direction: ltr; font-family: consolas, monaco, &amp;quot;andale mono&amp;quot;, monospace; line-height: 1.5; margin-bottom: 0.5em; margin-top: 0.5em; overflow: auto; padding: 1em; word-break: normal;&quot;&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;&lt;span style=&quot;font-size: 13.6px;&quot;&gt;$node helloworld.js&lt;br /&gt;Hello World!&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;그러면 작성한 문구가 실행됩니다.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;h4&gt;&lt;span style=&quot;font-size: large;&quot;&gt;3. Express를 이용한 웹서버 실행&lt;/span&gt;&lt;/h4&gt;Express는 node.js에서 사용가능한 웹 프레임워크입니다. node.js에서 웹서버를 더욱 간편하게 구축할 수 있게 해주는 도구라고 보면 됩니다.&lt;br /&gt;&lt;br /&gt;Express에 대한 내용은 다음 포스트에서 정리합니다. 링크를 걸어놓았습니다.&lt;br /&gt;&lt;a href=&quot;https://walkinpcm.blogspot.kr/2017/03/webnodejs-express.html&quot;&gt;https://walkinpcm.blogspot.kr/2017/03/webnodejs-express.html&lt;/a&gt;</content><link rel='replies' type='application/atom+xml' href='https://walkinpcm.blogspot.com/feeds/1507586652308466358/comments/default' title='댓글'/><link rel='replies' type='text/html' href='https://walkinpcm.blogspot.com/2017/03/webnodejs-nodejs.html#comment-form' title='0개의 덧글'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/3470089366387037599/posts/default/1507586652308466358'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/3470089366387037599/posts/default/1507586652308466358'/><link rel='alternate' type='text/html' href='https://walkinpcm.blogspot.com/2017/03/webnodejs-nodejs.html' title='[Web/Node.js] Node.js 설치'/><author><name>Unknown</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='https://img1.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-3470089366387037599.post-326730844720372621</id><published>2017-03-08T05:47:00.000-08:00</published><updated>2017-03-08T05:49:51.956-08:00</updated><category scheme="http://www.blogger.com/atom/ns#" term="[011. AWS]"/><category scheme="http://www.blogger.com/atom/ns#" term="[013. Server]"/><title type='text'>[Server] 가비아의 서버 모니터링 솔루션 적용해보기.</title><content type='html'>&lt;h2&gt;&lt;b&gt;&lt;span style=&quot;color: #cc0000; font-size: large;&quot;&gt;[Server] 가비아의 서버 모니터링 솔루션 적용해보기.&lt;/span&gt;&lt;/b&gt;&lt;/h2&gt;&lt;br /&gt;가비아에서 무료로 사용할 수 있는 서버 모니터링 상품을 내놓았습니다.&lt;br /&gt;가비아에서 자체 개발한 SaaS형 서버모니터링시스템(SMS)라고 합니다.&lt;br /&gt;&lt;span style=&quot;color: #666666; font-size: xx-small;&quot;&gt;(링크 :&amp;nbsp;&lt;a href=&quot;https://event.gabia.com/s_event_170221?utm_source=facebook&amp;amp;utm_medium=banner&amp;amp;utm_term=20170221_idc_%EC%84%9C%EB%B2%84%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81&amp;amp;utm_campaign=%EC%84%9C%EB%B2%84%ED%98%B8%EC%8A%A4%ED%8C%85&quot;&gt;https://event.gabia.com/s_event_170221?utm_source=facebook&amp;amp;utm_medium=banner&amp;amp;utm_term=20170221_idc_%EC%84%9C%EB%B2%84%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81&amp;amp;utm_campaign=%EC%84%9C%EB%B2%84%ED%98%B8%EC%8A%A4%ED%8C%85&lt;/a&gt; )&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;서버를 운영하면 현재 상태가 어떤지 확인하는 것은 필수적이죠.&lt;br /&gt;본 포스팅에서는 가비아의 서버모니터링시스템을 적용하는 과정을 정리해보고 어떤 서비스를 어떻게 제공하고 있는지 확인해 보겠습니다.&lt;br /&gt;&lt;br /&gt;우선, 링크에서 설명되는 가비아 SMS의 특징은,&lt;br /&gt;&lt;span style=&quot;color: #45818e;&quot;&gt;&lt;b&gt;&amp;nbsp;1. 간편한 에이전트 설치(가이드 제공)&lt;/b&gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #45818e;&quot;&gt;&lt;b&gt;&amp;nbsp;2. 저장 장치 사용량, I/O Read/Write 모니터링&lt;/b&gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #45818e;&quot;&gt;&lt;b&gt;&amp;nbsp;3. 네트워크 사용량(In/Out bps, In/Out pps) 모니터링&lt;/b&gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #45818e;&quot;&gt;&lt;b&gt;&amp;nbsp;4. CPU, 메모리, Swap 등의 성능 모니터링&lt;/b&gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #45818e;&quot;&gt;&lt;b&gt;&amp;nbsp;5. 항목별 임계치 설정, 이벤트 스탭샷 등 이력관리&lt;/b&gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #45818e;&quot;&gt;&lt;b&gt;&amp;nbsp;6. 사용자 인터페이스 극대화 최적의 UI 제공&lt;/b&gt;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;기본적인 사항들에 대한 모니터링은 지원하는 것 같습니다.&lt;br /&gt;&lt;br /&gt;또한, 에이전트만 설치하면 무료로 계속 사용할 수 있고, 가비아가 아닌 외부 서버에도 설치할 수 있고(단, 가비아 회원 가입이 필요합니다.), 서버 대수의 제한도 없고, 정식 오픈 이후에도(&lt;span style=&quot;color: red;&quot;&gt;&lt;u&gt;지금은 베타에요&lt;/u&gt;&lt;/span&gt;) 현재 제공하는 기능은 계속 무료로 제공한다고 합니다.&lt;br /&gt;&lt;br /&gt;참고로, 데이터 수집 주기는 1분이며 이 데이터는 최대 60일간 보관 및 조회할 수 있다고 합니다.&lt;br /&gt;&lt;br /&gt;그럼 이제 에이전트를 설치해보겠습니다.&lt;br /&gt;&lt;br /&gt;&lt;h4&gt;&lt;span style=&quot;font-size: large;&quot;&gt;&amp;gt; 가비아 서버 모니터링 시스템(SMS) 이용 방법&lt;/span&gt;&lt;/h4&gt;크게 순서를 보면&lt;br /&gt;&lt;b&gt;&lt;span style=&quot;color: #45818e;&quot;&gt;&amp;nbsp;1. 가비아 회원 가입 &amp;amp; 로그인&lt;/span&gt;&lt;/b&gt;&lt;br /&gt;&lt;b&gt;&lt;span style=&quot;color: #45818e;&quot;&gt;&amp;nbsp;2. 관리툴 페이지 접속&lt;/span&gt;&lt;/b&gt;&lt;br /&gt;&lt;b&gt;&lt;span style=&quot;color: #45818e;&quot;&gt;&amp;nbsp;3. 에이전트 설치 후 서비스 이용&lt;/span&gt;&lt;/b&gt;&lt;br /&gt;&lt;br /&gt;간단합니다.&lt;br /&gt;&lt;br /&gt;&lt;h4&gt;1. 가비아 회원 가입 &amp;amp; 로그인&lt;/h4&gt;가비아 홈페이지에서 회원가입을 합니다.&lt;br /&gt;네이버와 페이스북 로그인을 지원하는데, 저는 그냥 가입해서 해보겠습니다.&lt;br /&gt;&lt;br /&gt;가입 절차는..뭐 굳이 정리할 것도 없이 간단합니다.&lt;br /&gt;아이디, 비밀번호, 이름, 이메일, 핸드폰 번호 적고 인증하고 하면 끝나네요.&lt;br /&gt;&lt;h4&gt;&lt;br /&gt;2. 관리툴 페이지 접속&lt;/h4&gt;로그인 후에 관리툴 페이지로 접속합니다.&lt;br /&gt;가비아 홈페이지에서 메뉴를 찾으려 했는데 못 찾겠어서 그냥 링크를 타고 들어갔습니다.&lt;br /&gt;링크 :&amp;nbsp;&lt;b&gt;&lt;span style=&quot;color: #45818e;&quot;&gt;http://xms.gabia.com&lt;/span&gt;&lt;/b&gt;&lt;br /&gt;&lt;br /&gt;&lt;h4&gt;3. 에이전트 설치 후 서비스 이용&lt;/h4&gt;관리툴 페이지에 들어가니깐 바로 에이전트 설치 방법이 친절하게 설명됩니다.&lt;br /&gt;&lt;br /&gt;지원 OS는 Ubuntu, CentOS/Fedora, Windows입니다.&lt;br /&gt;각 운영체제별로 지원 버전도 바로 나타납니다. 저는 우분투를 쓰는데 제가 사용하는 14.04 LTS도 지원하고 있습니다.&lt;br /&gt;&lt;br /&gt;(1) apt repository 추가.&lt;br /&gt;설치도 매우 간단하네요.&lt;br /&gt;apt를 이용해서 설치하게 되는데, 기본적인 apt repository에 포함되어 있는 패키지가 아니기 때문에 먼저 repository를 추가합니다.&lt;br /&gt;&lt;br /&gt;&lt;div style=&quot;box-sizing: border-box; font-family: consolas; font-size: 13.3333px; margin: 5px 0px;&quot;&gt;&lt;span style=&quot;color: #b45f06;&quot;&gt;wget http://monrepo.gabia.com/repo/debian/gabiarepo.gpg -O - |sudo apt-key add -&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; font-family: consolas; font-size: 13.3333px; margin: 5px 0px;&quot;&gt;&lt;span style=&quot;color: #b45f06;&quot;&gt;wget http://monrepo.gabia.com/repo/debian/gabiamon-repo_1.0.0-1_all.deb&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; font-family: consolas; font-size: 13.3333px; margin: 5px 0px;&quot;&gt;&lt;span style=&quot;color: #b45f06;&quot;&gt;sudo dpkg -i gabiamon-repo_1.0.0-1_all.deb&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; font-family: consolas; font-size: 13.3333px; margin: 5px 0px;&quot;&gt;&lt;span style=&quot;color: #b45f06;&quot;&gt;sudo apt-get update&lt;/span&gt;&lt;/div&gt;&lt;br /&gt;(2) apt-get으로 에이전트 설치&lt;br /&gt;apt-get install 명령으로 가비아 SMS 에이전트를 설치합니다.&lt;br /&gt;&lt;br /&gt;&lt;div style=&quot;box-sizing: border-box; font-family: consolas; font-size: 13.3333px; margin: 5px 0px;&quot;&gt;&lt;span style=&quot;color: #b45f06;&quot;&gt;sudo apt-get install gabia-mond&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;설치 과정에서 2가지 질문이 나옵니다.&lt;br /&gt;- User? : 기본적으로 root가 선택되어 있는데, 저는 따로 만들어 놓은 계정을 적었습니다.&lt;br /&gt;- Use &quot;sudo&quot;? : root계정이 아닌 계정을 선택해서 그런지 sudo를 쓸거냐고 묻네요. y를 선택합니다.&lt;br /&gt;&lt;br /&gt;설치를 하고 났는데 아래처럼 intall 완료라고 뜨면서 그 다음줄에는 찜찜하게 오류가 있는듯한 메세지가 뜨네요..&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;background-color: black;&quot;&gt;&lt;span style=&quot;color: #eeeeee;&quot;&gt;Install completed...&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;background-color: black;&quot;&gt;&lt;span style=&quot;color: #eeeeee;&quot;&gt;/etc/init.d/gabia_mond: 6: [: sudo: unexpected operator&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;베타버전의 버그인건지.. 문의메일이나 넣어봐야겠습니다.&lt;br /&gt;&lt;br /&gt;(3) 키 발급 &amp;amp; 스크립트로 에이전트 실행&lt;br /&gt;관리툴 페이지에서 설치 가이드를 따라가다보면 [Key 발급] 버튼이 있습니다. 이 버튼을 눌러서 Key를 발급받습니다.&lt;br /&gt;긴 문자열도 아니고 다소 짧은 문자열로 키가 바로 옆에 표시됩니다. 이것을 복사해 둡니다.&lt;br /&gt;(참고로 Agent Key는 모니터링 페이지에서 확인할 수 있으니 별도로 저장해둘 필요는 없습니다.)&lt;br /&gt;&lt;br /&gt;서버에서 아래 명령어로 위에서 설치한 에이전트를 실행시킵니다.&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;background-color: white; font-family: &amp;quot;consolas&amp;quot;; font-size: 13.3333px;&quot;&gt;&lt;span style=&quot;color: #b45f06;&quot;&gt;sudo env PATH=$PATH:/usr/local/gabia_mond/bin gabia_mond --start --key&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;그러면 Agent Key를 묻는데 방금 복사한 키를 입력합니다.&lt;br /&gt;아래와 같은 시작 메세지가 뜨면서 모니터링이 시작됩니다.&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;background-color: black;&quot;&gt;&lt;span style=&quot;color: white;&quot;&gt;gabia_mond[1599] has started&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;background-color: black;&quot;&gt;&lt;span style=&quot;color: white;&quot;&gt;Gabia Server Monitoring Agent Start&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;시작되고 나면 터미널 창에서 커맨드 입력 라인이 안 뜨는데 엔터한번 치면 나타납니다.&lt;br /&gt;&lt;br /&gt;(4) 모니터링 확인&lt;br /&gt;관리툴 페이지의 좌측 사이드 메뉴에서 &#39;모니터링&#39; 메뉴를 선택하면 현황을 볼 수 있습니다.&lt;br /&gt;처음 에이전트를 설치하고 난 뒤에는 데이터를 수집하는데 몇분이 소요되는 듯 합니다.&lt;br /&gt;&lt;br /&gt;기본적인 CPU상태나 메모리 사용량을 확인하는데는 충분하지 싶습니다.&lt;br /&gt;개인적으로 모니터링 부분을 깊게 알지 못하여서 이 정도도 만족스럽네요.&lt;br /&gt;&lt;br /&gt;아! IP 주소가 표시되는데 저는 AWS의 EC2에 설치한 우분투에서 진행해서 그런지 IP가 Public IP가 아니라 Private IP가 표시됩니다. EC2 우분투에서 ip를 확인하면 Private IP만 나타나는데 그래서 그런가봅니다.&lt;br /&gt;&lt;br /&gt;상단의 탭들을 선택하면 각각에 대한 좀 더 자세한 현황을 볼 수 있습니다.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-v_tTl4C6rPg/WMAK5lk5GGI/AAAAAAAAArY/_ZhCd3dK9DEfCTa-6x0bgypyz99wiq3twCLcB/s1600/image01.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;384&quot; src=&quot;https://3.bp.blogspot.com/-v_tTl4C6rPg/WMAK5lk5GGI/AAAAAAAAArY/_ZhCd3dK9DEfCTa-6x0bgypyz99wiq3twCLcB/s640/image01.JPG&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;</content><link rel='replies' type='application/atom+xml' href='https://walkinpcm.blogspot.com/feeds/326730844720372621/comments/default' title='댓글'/><link rel='replies' type='text/html' href='https://walkinpcm.blogspot.com/2017/03/server.html#comment-form' title='0개의 덧글'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/3470089366387037599/posts/default/326730844720372621'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/3470089366387037599/posts/default/326730844720372621'/><link rel='alternate' type='text/html' href='https://walkinpcm.blogspot.com/2017/03/server.html' title='[Server] 가비아의 서버 모니터링 솔루션 적용해보기.'/><author><name>Unknown</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='https://img1.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://3.bp.blogspot.com/-v_tTl4C6rPg/WMAK5lk5GGI/AAAAAAAAArY/_ZhCd3dK9DEfCTa-6x0bgypyz99wiq3twCLcB/s72-c/image01.JPG" height="72" width="72"/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-3470089366387037599.post-5551387111974351979</id><published>2017-02-21T18:57:00.000-08:00</published><updated>2017-02-21T18:57:21.195-08:00</updated><category scheme="http://www.blogger.com/atom/ns#" term="[012. Web]"/><title type='text'>[Web] Atom에서 git-plus 설치하기</title><content type='html'>&lt;h2&gt;&lt;span style=&quot;color: #cc0000; font-size: x-large;&quot;&gt;Atom에서 git-plus 설치하기&lt;/span&gt;&lt;/h2&gt;(부제 : git-plus 에러 시행착오)&lt;br /&gt;&lt;br /&gt;&lt;h4&gt;&lt;span style=&quot;font-size: large;&quot;&gt;&lt;b&gt;1. git-plus 설치&lt;/b&gt;&lt;/span&gt;&lt;/h4&gt;Atom의 상단 메뉴에서 &#39;Packages&#39;-&#39;Settings View&#39;-&#39;Install Packages/Themes&#39;를 선택합니다. &lt;br /&gt;&lt;br /&gt;그 다음, git-plus를 검색해서 Install합니다. &lt;br /&gt;설치는 끝입니다.(너무 간단) &lt;br /&gt;&lt;br /&gt;&lt;h4&gt;&lt;b&gt;&lt;span style=&quot;font-size: large;&quot;&gt;2. git-plus 설정&lt;/span&gt;&lt;/b&gt;&lt;/h4&gt;사실 이 부분이 난관이었습니다. &lt;br /&gt;&lt;br /&gt;처음 Atom을 접하고 여러 패키지들을 설치했는데, 아무것도 따로 설정을 해줄 필요는 없었습니다. &lt;br /&gt;그래서 git-plus도 설치하고 아무런 설정을 해주지 않았죠... &lt;br /&gt;이게 실수였습니다. &lt;br /&gt;&lt;br /&gt;Atom뿐만 아니라 git을 사용하는 어떤 프로그램이든 git프로그램의 위치를 알아야 git을 수행합니다. &lt;br /&gt;그래서 git-plus도 자신이 사용할 git프로그램이 어디있는지 경로를 알아야 정상적으로 동작합니다. &lt;br /&gt;&lt;br /&gt;위에서 git-plus를 설치하고 나면 바로 &#39;Install&#39;이 있던 자리에 &#39;Settings&#39; 버튼이 생깁니다. &lt;br /&gt;Setting에 들어가면 Git Path를 설정 할 수 있는데, 여기에 자신이 사용하는 git프로그램의 경로를 입력해주면됩니다. &lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-haMIGVG5soM/WKz9zZRB1rI/AAAAAAAAAqs/bOdgOMkwedgevjWbf9D0rGqfE2J0oKUGQCLcB/s1600/image02.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; src=&quot;https://2.bp.blogspot.com/-haMIGVG5soM/WKz9zZRB1rI/AAAAAAAAAqs/bOdgOMkwedgevjWbf9D0rGqfE2J0oKUGQCLcB/s1600/image02.JPG&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;span id=&quot;goog_61001435&quot;&gt;&lt;/span&gt;&lt;span id=&quot;goog_61001436&quot;&gt;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;git-plus가 사용할 git프로그램의 위치를 모르면 아래와 같이 텍스트가 깨진 상태로 어쩌고저쩌고 에러가 발생합니다.&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-TcPsz003wmY/WKz9zaQnDNI/AAAAAAAAAqw/ZtZPsPILn_c-6pzDUirzkKMpJjvlGVefwCEw/s1600/image01.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; src=&quot;https://2.bp.blogspot.com/-TcPsz003wmY/WKz9zaQnDNI/AAAAAAAAAqw/ZtZPsPILn_c-6pzDUirzkKMpJjvlGVefwCEw/s1600/image01.JPG&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;</content><link rel='replies' type='application/atom+xml' href='https://walkinpcm.blogspot.com/feeds/5551387111974351979/comments/default' title='댓글'/><link rel='replies' type='text/html' href='https://walkinpcm.blogspot.com/2017/02/web-atom-git-plus.html#comment-form' title='0개의 덧글'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/3470089366387037599/posts/default/5551387111974351979'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/3470089366387037599/posts/default/5551387111974351979'/><link rel='alternate' type='text/html' href='https://walkinpcm.blogspot.com/2017/02/web-atom-git-plus.html' title='[Web] Atom에서 git-plus 설치하기'/><author><name>Unknown</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='https://img1.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://2.bp.blogspot.com/-haMIGVG5soM/WKz9zZRB1rI/AAAAAAAAAqs/bOdgOMkwedgevjWbf9D0rGqfE2J0oKUGQCLcB/s72-c/image02.JPG" height="72" width="72"/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-3470089366387037599.post-6532827935458527788</id><published>2016-12-25T05:36:00.000-08:00</published><updated>2016-12-25T06:07:31.577-08:00</updated><category scheme="http://www.blogger.com/atom/ns#" term="[011. AWS]"/><title type='text'>[AWS] AWS EC2에 Elastic IP 연결하기</title><content type='html'>&lt;span style=&quot;color: #cc0000; font-size: x-large;&quot;&gt;&lt;b&gt;[AWS] AWS EC2에 Elastic IP 연결하기&lt;/b&gt;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;AWS EC2는 중지되었다가 다시 시작하면 Public IP가 변경됩니다.&lt;br /&gt;그래서 Public IP로 SSH접속을 하거나 DNS에 연결시켜 놓기가 불편합니다.&lt;br /&gt;이런 불편함을 없앨 수 있는 방법이 AWS Elastic IP를 사용하는 것입니다.&lt;br /&gt;Elastic IP는 EC2 인스턴스의 상태와 관계없이 고정적으로 유지되는 IP주소라고 볼 수 있습니다.&lt;br /&gt;그리고 다행히 AWS에서는 EC2 인스턴스 하나당 EIP(Elastic IP) 하나를 무료로 사용할 수 있게 해줍니다.&lt;br /&gt;이번 포스팅에서는 EIP를 만들고 EC2 인스턴스에 할당하는 방법을 정리해 봅니다.&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-size: large;&quot;&gt;&lt;b&gt;1. Elastic IP 메뉴로 이동&lt;/b&gt;&lt;/span&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;/div&gt;AWS EC2 서비스에서 왼쪽 Elastic IP 메뉴를 선택합니다.&lt;br /&gt;그리고 &#39;Allocate new address&#39;를 누릅니다.&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;/div&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-se4y-az6T3s/WF_IKQASqwI/AAAAAAAAAow/Fkfucm0FqQshCYtOSO3NK8HfwCYGteyCACLcB/s1600/image01.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;328&quot; src=&quot;https://1.bp.blogspot.com/-se4y-az6T3s/WF_IKQASqwI/AAAAAAAAAow/Fkfucm0FqQshCYtOSO3NK8HfwCYGteyCACLcB/s640/image01.JPG&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;b&gt;&lt;span style=&quot;font-size: large;&quot;&gt;2. Elastic IP 생성&lt;/span&gt;&lt;/b&gt;&lt;br /&gt;우측의 &#39;Allocate&#39; 버튼을 누릅니다.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-Iy7x-58WP0A/WF_IKegfLEI/AAAAAAAAAo4/R5Stmvmko6AGQnB9LQjG2zwOxN-qCEtMQCLcB/s1600/image02.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;100&quot; src=&quot;https://1.bp.blogspot.com/-Iy7x-58WP0A/WF_IKegfLEI/AAAAAAAAAo4/R5Stmvmko6AGQnB9LQjG2zwOxN-qCEtMQCLcB/s640/image02.JPG&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-size: large;&quot;&gt;&lt;b&gt;3. 생성된 Elastic IP 확인&lt;/b&gt;&lt;/span&gt;&lt;br /&gt;바로 Elastic IP가 생성됩니다.&lt;br /&gt;딱히 기록할 필요는 없습니다. 언제나 확인할 수 있습니다.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-l0XHolDl9Y0/WF_IKaL-r3I/AAAAAAAAAo0/VJSSjIQyy9AycyS8wVSUmeo9iJJvu1EXgCLcB/s1600/image03.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;196&quot; src=&quot;https://2.bp.blogspot.com/-l0XHolDl9Y0/WF_IKaL-r3I/AAAAAAAAAo0/VJSSjIQyy9AycyS8wVSUmeo9iJJvu1EXgCLcB/s640/image03.JPG&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-size: large;&quot;&gt;&lt;b&gt;4. EC2 인스턴스와 연결&lt;/b&gt;&lt;/span&gt;&lt;br /&gt;다시 Elastic IP 메뉴로 돌아오면 생성된 EIP가 보입니다.&lt;br /&gt;해당 EIP를 선택하고 위의 &#39;Actions&#39;메뉴에서 &#39;Associate address&#39; 옵션을 선택합니다.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-OXHHrOZMNvg/WF_IKvDvhlI/AAAAAAAAAo8/17rHgw3--RAfoG5FUx76d6BmtSd90y62gCLcB/s1600/image04.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;228&quot; src=&quot;https://1.bp.blogspot.com/-OXHHrOZMNvg/WF_IKvDvhlI/AAAAAAAAAo8/17rHgw3--RAfoG5FUx76d6BmtSd90y62gCLcB/s640/image04.JPG&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-size: large;&quot;&gt;&lt;b&gt;5. EC2 인스턴스 선택&lt;/b&gt;&lt;/span&gt;&lt;br /&gt;EIP를 연결할 EC2 인스턴스를 선택합니다.&lt;br /&gt;EC2 인스턴스를 선택하면 아래에 Private IP도 자동으로 선택됩니다.&lt;br /&gt;EIP는 한개의 EIP가 한개의 Private IP와 매핑되어야합니다.&lt;br /&gt;그래서 EC2 인스턴스에 여러 Private IP가 있다면 그중 하나를 선택하는 것 같습니다.&lt;br /&gt;선택이 완료되면 하단에 &#39;Associate&#39;를 누릅니다.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-ycwTw48l_LU/WF_IK4XZVBI/AAAAAAAAApA/TdIV3dWGJDAZZezbjYxWNUvP3qd3j4aagCLcB/s1600/image05.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;260&quot; src=&quot;https://1.bp.blogspot.com/-ycwTw48l_LU/WF_IK4XZVBI/AAAAAAAAApA/TdIV3dWGJDAZZezbjYxWNUvP3qd3j4aagCLcB/s640/image05.JPG&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;span style=&quot;font-size: large;&quot;&gt;&lt;b&gt;6. 끝&lt;/b&gt;&lt;/span&gt;&lt;br /&gt;끝났습니다.&lt;br /&gt;이제 인스턴스 목록에 가서 EIP를 연결한 인스턴스의 정보를 보면 EIP가 잡혀있고, Public IP가 생성한 EIP로 변경되어 있을 것입니다.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-Fw28F_uPfFA/WF_IK0NWGXI/AAAAAAAAApE/5ZB_xouwSPoxDCdZcuUR6G9FgB5T6xQYACLcB/s1600/image06.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;154&quot; src=&quot;https://1.bp.blogspot.com/-Fw28F_uPfFA/WF_IK0NWGXI/AAAAAAAAApE/5ZB_xouwSPoxDCdZcuUR6G9FgB5T6xQYACLcB/s640/image06.JPG&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;/div&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;/div&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;/div&gt;&lt;br /&gt;</content><link rel='replies' type='application/atom+xml' href='https://walkinpcm.blogspot.com/feeds/6532827935458527788/comments/default' title='댓글'/><link rel='replies' type='text/html' href='https://walkinpcm.blogspot.com/2016/12/aws-aws-ec2-elastic-ip.html#comment-form' title='0개의 덧글'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/3470089366387037599/posts/default/6532827935458527788'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/3470089366387037599/posts/default/6532827935458527788'/><link rel='alternate' type='text/html' href='https://walkinpcm.blogspot.com/2016/12/aws-aws-ec2-elastic-ip.html' title='[AWS] AWS EC2에 Elastic IP 연결하기'/><author><name>Unknown</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='https://img1.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://1.bp.blogspot.com/-se4y-az6T3s/WF_IKQASqwI/AAAAAAAAAow/Fkfucm0FqQshCYtOSO3NK8HfwCYGteyCACLcB/s72-c/image01.JPG" height="72" width="72"/><thr:total>0</thr:total></entry></feed>