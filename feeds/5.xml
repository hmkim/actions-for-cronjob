<?xml version='1.0' encoding='UTF-8'?><?xml-stylesheet href="http://www.blogger.com/styles/atom.css" type="text/css"?><feed xmlns='http://www.w3.org/2005/Atom' xmlns:openSearch='http://a9.com/-/spec/opensearchrss/1.0/' xmlns:blogger='http://schemas.google.com/blogger/2008' xmlns:georss='http://www.georss.org/georss' xmlns:gd="http://schemas.google.com/g/2005" xmlns:thr='http://purl.org/syndication/thread/1.0'><id>tag:blogger.com,1999:blog-2597780270996323853</id><updated>2019-05-12T17:20:57.253+09:00</updated><category term="tech"/><category term="im thinking"/><category term="book"/><category term="etc"/><title type='text'>케세라세라</title><subtitle type='html'>Easy to analyze if you can cleaning data</subtitle><link rel='http://schemas.google.com/g/2005#feed' type='application/atom+xml' href='http://kangmyounghun.blogspot.com/feeds/posts/default'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/2597780270996323853/posts/default'/><link rel='alternate' type='text/html' href='http://kangmyounghun.blogspot.com/'/><link rel='hub' href='http://pubsubhubbub.appspot.com/'/><link rel='next' type='application/atom+xml' href='http://www.blogger.com/feeds/2597780270996323853/posts/default?start-index=26&amp;max-results=25'/><author><name>강명훈</name><uri>http://www.blogger.com/profile/04275122278203538865</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='//2.bp.blogspot.com/-2J7aNgScC8M/XGF81HaO4bI/AAAAAAAAIIU/lVc7T4qiyuIhSZ3tDNlhTW0Lspu2fA2jwCK4BGAYYCw/s72/kmh.jpg'/></author><generator version='7.00' uri='http://www.blogger.com'>Blogger</generator><openSearch:totalResults>257</openSearch:totalResults><openSearch:startIndex>1</openSearch:startIndex><openSearch:itemsPerPage>25</openSearch:itemsPerPage><entry><id>tag:blogger.com,1999:blog-2597780270996323853.post-4729383937402115890</id><published>2019-05-12T14:35:00.000+09:00</published><updated>2019-05-12T14:35:23.203+09:00</updated><category scheme="http://www.blogger.com/atom/ns#" term="tech"/><title type='text'>Elasticsearch 7.0의 몇 가지 변화</title><content type='html'>엘라스틱 7.0이 출시됐다. 성능이나 안정성은 당연히 좋아졌을테고, 당장 느낀 몇 가지 변화만 나열해보면,&lt;br /&gt;&lt;br /&gt;1. 마스터 노드 설정 필수.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-7pbVqsrbKlM/XNaZUq1freI/AAAAAAAAIZo/ZyAEwGneoBwgvzeRvysyVXMSFI6li2GZgCLcBGAs/s1600/2.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;581&quot; data-original-width=&quot;1181&quot; src=&quot;https://2.bp.blogspot.com/-7pbVqsrbKlM/XNaZUq1freI/AAAAAAAAIZo/ZyAEwGneoBwgvzeRvysyVXMSFI6li2GZgCLcBGAs/s530/2.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;a name=&#39;more&#39;&gt;&lt;/a&gt;버전 6까지는 노드가 하나뿐이면 별도 설정이 필요없었고, 둘 이상이면&amp;nbsp;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;discovery.zen.ping.unicast.hosts&lt;/span&gt; 설정에 나열된 노드 중 알아서 마스터 선출.&lt;br /&gt;&lt;br /&gt;버전 7 부터는 노드가 하나라도&amp;nbsp;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;cluster.initial_master_nodes&lt;/span&gt; 설정에 마스터 가능한 노드를 모두 나열해야 함.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-KiGmNguwsb0/XNaZU-V2abI/AAAAAAAAIZs/ILCDnZadQGAbTIuANZzw1GzmA1CZoN4-ACLcBGAs/s1600/3.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;574&quot; data-original-width=&quot;1143&quot; src=&quot;https://1.bp.blogspot.com/-KiGmNguwsb0/XNaZU-V2abI/AAAAAAAAIZs/ILCDnZadQGAbTIuANZzw1GzmA1CZoN4-ACLcBGAs/s530/3.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;2. 별도 설정 없이도 노드 이름을 자동으로 가져옴.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-xBvELBe5cKU/XNaaMAEIq7I/AAAAAAAAIaQ/nOM1UxhFOBAv9vtrPnFzKIf6Q_iDqxECgCLcBGAs/s1600/7.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;574&quot; data-original-width=&quot;1143&quot; src=&quot;https://3.bp.blogspot.com/-xBvELBe5cKU/XNaaMAEIq7I/AAAAAAAAIaQ/nOM1UxhFOBAv9vtrPnFzKIf6Q_iDqxECgCLcBGAs/s530/7.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-QSn2vcY5858/XNanyyxQrqI/AAAAAAAAIa8/j3Fs6by5lpEcWOQSHfh3CAOyihwwPcKjACLcBGAs/s1600/1.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;524&quot; data-original-width=&quot;809&quot; src=&quot;https://2.bp.blogspot.com/-QSn2vcY5858/XNanyyxQrqI/AAAAAAAAIa8/j3Fs6by5lpEcWOQSHfh3CAOyihwwPcKjACLcBGAs/s530/1.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;/div&gt;&lt;br /&gt;3. 키바나 전체 메뉴에 다크 테마 적용(&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;Management &amp;gt; Advanced Settings&lt;/span&gt;). 눈도 덜 부시고 좋은 듯.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-hrEMjVhOVI0/XNagEGspuhI/AAAAAAAAIaw/mqq-moO_ZJE1_VY-N2KkEd-3iea1vt2KgCLcBGAs/s1600/9.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;972&quot; data-original-width=&quot;1600&quot; src=&quot;https://1.bp.blogspot.com/-hrEMjVhOVI0/XNagEGspuhI/AAAAAAAAIaw/mqq-moO_ZJE1_VY-N2KkEd-3iea1vt2KgCLcBGAs/s530/9.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;4. 사이드바 메뉴가 고정되지 않는다. 강의 때 이거 불만 좀 나오던데(..)&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-Y9fLBH-NnpA/XNaZV79lzlI/AAAAAAAAIZ0/NEzsriJSzhc2LmNlDycHR97IOKDyKmyqgCLcBGAs/s1600/5.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;972&quot; data-original-width=&quot;1600&quot; src=&quot;https://3.bp.blogspot.com/-Y9fLBH-NnpA/XNaZV79lzlI/AAAAAAAAIZ0/NEzsriJSzhc2LmNlDycHR97IOKDyKmyqgCLcBGAs/s530/5.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;5. Timelion이 Visulize 메뉴로 들어감. 개인적으로 제일 불만. 다시 사이드바로 꺼내주면 안 될까?&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-3w5gZk4908E/XNaZbegkpcI/AAAAAAAAIZ8/Lw7u_t1Bugsu8GJWVDg1-6vwoagZ72MAQCLcBGAs/s1600/1.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;741&quot; data-original-width=&quot;1312&quot; src=&quot;https://1.bp.blogspot.com/-3w5gZk4908E/XNaZbegkpcI/AAAAAAAAIZ8/Lw7u_t1Bugsu8GJWVDg1-6vwoagZ72MAQCLcBGAs/s530/1.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://www.elastic.co/kr/blog/elastic-stack-7-0-0-released&quot; target=&quot;_blank&quot;&gt;Elastic Stack 7.0 출시&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content><link rel='replies' type='application/atom+xml' href='http://kangmyounghun.blogspot.com/feeds/4729383937402115890/comments/default' title='댓글'/><link rel='replies' type='text/html' href='http://kangmyounghun.blogspot.com/2019/05/elasticsearch-70.html#comment-form' title='0개의 덧글'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/2597780270996323853/posts/default/4729383937402115890'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/2597780270996323853/posts/default/4729383937402115890'/><link rel='alternate' type='text/html' href='http://kangmyounghun.blogspot.com/2019/05/elasticsearch-70.html' title='Elasticsearch 7.0의 몇 가지 변화'/><author><name>강명훈</name><uri>http://www.blogger.com/profile/04275122278203538865</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='//2.bp.blogspot.com/-2J7aNgScC8M/XGF81HaO4bI/AAAAAAAAIIU/lVc7T4qiyuIhSZ3tDNlhTW0Lspu2fA2jwCK4BGAYYCw/s72/kmh.jpg'/></author><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://2.bp.blogspot.com/-7pbVqsrbKlM/XNaZUq1freI/AAAAAAAAIZo/ZyAEwGneoBwgvzeRvysyVXMSFI6li2GZgCLcBGAs/s72-c/2.png" height="72" width="72"/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-2597780270996323853.post-4624084654639531857</id><published>2019-05-01T17:57:00.000+09:00</published><updated>2019-05-09T13:44:50.913+09:00</updated><category scheme="http://www.blogger.com/atom/ns#" term="im thinking"/><title type='text'>알고 보면 쉬운 이상징후 분석 - 3rd</title><content type='html'>다음은 변수 길이 급증 시점의 변수 내역. &#39;create table&#39;로 시작하는 SQL문이 눈에 띈다.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-ogH8Goe5KH8/XMBBqzFR5_I/AAAAAAAAIX4/bwsRQTZ5VCM9k4Qi9aJcA8PkoT1TnxckACLcBGAs/s1600/2.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;685&quot; data-original-width=&quot;1203&quot; src=&quot;https://1.bp.blogspot.com/-ogH8Goe5KH8/XMBBqzFR5_I/AAAAAAAAIX4/bwsRQTZ5VCM9k4Qi9aJcA8PkoT1TnxckACLcBGAs/s530/2.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;a name=&#39;more&#39;&gt;&lt;/a&gt;변수 영역에 SQL문이 포함되면 이상한 걸까? 이상할 수도 있고, 아닐 수도 있고(..) 이때 두 가지 정도의 판단법을 써볼 수 있다. SQL문의 실행 성격을 파악하거나, 웹의 목적 또는 의도를 이해하거나.&lt;br /&gt;&lt;br /&gt;문득 참 보안하기 힘들다는 생각이 든다.&lt;br /&gt;&lt;br /&gt;&lt;blockquote class=&quot;tr_bq&quot; style=&quot;text-align: center;&quot;&gt;&lt;i&gt;&lt;a href=&quot;https://kangmyounghun.blogspot.com/2015/12/blog-post.html&quot; target=&quot;_blank&quot;&gt;&lt;span style=&quot;color: #141823; font-family: &amp;quot;helvetica&amp;quot; , &amp;quot;arial&amp;quot; , sans-serif;&quot;&gt;대부분의 분야에서 개발은 기능이 동작하느냐, 마느냐의 문제다. 그래서 기능이 동작하면 모두가 해피엔딩.&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: #141823; font-family: &amp;quot;helvetica&amp;quot; , &amp;quot;arial&amp;quot; , sans-serif;&quot;&gt;기능이 동작하고 나면 더 빨리, 더 많이 할 수 있느냐, 없느냐의 문제로 확장되겠지만 결론은 마찬가지.&amp;nbsp;&lt;/span&gt;&lt;/a&gt;&amp;nbsp;&lt;/i&gt;&lt;/blockquote&gt;&lt;blockquote class=&quot;tr_bq&quot; style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://kangmyounghun.blogspot.com/2015/12/blog-post.html&quot; target=&quot;_blank&quot;&gt;&lt;span style=&quot;color: #141823; font-family: &amp;quot;helvetica&amp;quot; , &amp;quot;arial&amp;quot; , sans-serif;&quot;&gt;&lt;i&gt;그런데 보안은 여기에 해결해야 할 문제가 하나 더 추가된다. 기능이 동작한 결과가 보안 관점에서 이로운가? 해로운가?&lt;/i&gt;&lt;/span&gt;&lt;/a&gt;&lt;/blockquote&gt;&lt;br /&gt;네트워크나 웹, DB 등 각 분야의 원리를 이해한 후, 본연의 목적이나 의도에 반하는 방향으로 동작했는지 여부까지 판단해야 한다. 그런데 그런 역량을 발휘한다고 돈을 더 주지는 않는다(..)&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-size: x-large; font-weight: 700;&quot;&gt;도구는 죄가 없다&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;일단 SQL문 실행 성격 파악은 꽤 높은 전문성을 요구한다. (그런 전문성을 가지고 있다면 난 그냥 DB 개발자로 살련다. -_-) 그런데 부족한 전문성을 탓하기 전에 SQL문 좀 쓰면 안 되나? SQL문이 원래 나쁜 건가?&lt;br /&gt;&lt;br /&gt;도구보다 도구가 쓰인 배경, 도구를 사용한 이의 의도 파악이 중요하다. 상황이나 의도에 따라 사시미칼은 훌륭한 요리 도구가 될 수도 있고, 흉칙한 범죄 도구가 될 수도 있다는 얘기.&lt;br /&gt;&lt;br /&gt;SQL 사용은 DB에 직접 명령을 날리는 행위이다. 내부 DB 관리를 목적으로 접근이 제한된 웹이라면 SQL문 발생은 정상일 가능성이 높다. 반면 대외 서비스 용도라면? 누군지도 모르는 사용자가 DB에 직접 명령을 날리는&amp;nbsp;상황이 정상일까?&lt;br /&gt;&lt;br /&gt;해당 웹서버의 용도를 파악했다면 변수 길이가 평균일 때와 아닐 때의 변수 내역을 비교해볼 수도 있다. SQL문 발생이 정상이라면 발생이 없을 때보다 있을 때가 더 많아야 하지 않을까? 세상엔 그래도 비정상보다 정상이 더 많으니깐.&lt;br /&gt;&lt;br /&gt;&lt;blockquote class=&quot;tr_bq&quot; style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://kangmyounghun.blogspot.com/2016/04/logparser-web-log-5th.html&quot; target=&quot;_blank&quot;&gt;&lt;i&gt;정상인 상태를 정량적 측정을 통해 수치화함으로써 조직의 로그 발생 특성을 파악해야 한다. 정상을 알아내는 이상징후 분석이 먼저 실행됐을 때 비정상을 알아내는 이상징후 분석으로 이어질 수 있는 것&lt;/i&gt;&lt;/a&gt;&lt;/blockquote&gt;&lt;br /&gt;&lt;blockquote class=&quot;tr_bq&quot; style=&quot;text-align: center;&quot;&gt;&quot;&lt;i&gt;정상을 알면 비정상은 쉽게 구분된다&lt;/i&gt;&quot; - IDS와 보안관제의 완성 (439페이지)&lt;/blockquote&gt;&lt;br /&gt;이런 과정이 쉬울까? 쉽다고 했지만 거짓말이다. 지겹고 지겨운 노가다를 거쳐야 얻을 수 있는 것들이기 때문. 진짜 궁금한 사람, 궁금증을 해소하지 않고는 못 배기겠는 사람만이 버틸 수 있다.&lt;br /&gt;&lt;br /&gt;&lt;blockquote class=&quot;tr_bq&quot; style=&quot;text-align: center;&quot;&gt;&lt;i&gt;&lt;a href=&quot;https://news.naver.com/main/read.nhn?mode=LSD&amp;amp;mid=sec&amp;amp;oid=025&amp;amp;aid=0002891092&amp;amp;sid1=001&amp;amp;lfrom=facebook&quot; target=&quot;_blank&quot;&gt;아주 똑똑한 학생이나 엔지니어도 자신이 만지는 데이터에 대해 놀라울 정도로 호기심을 보이지 않는 경우가 많다. 대부분 뭘 궁금해해야 하는지를 모른다. 데이터를 그냥 가로 세로 줄 맞춘 다음 블랙박스 모델에 집어넣으면 첨단 알고리즘이 알아서 해줄 것이라 기대한다. 당연히 실패한다.&lt;/a&gt;&lt;/i&gt;&lt;/blockquote&gt;&lt;br /&gt;결국 모든 분석이 그렇듯 이상징후 분석 역시 원동력은 호기심. 여기에 도메인 지식과 간단한 통계적 기법을 추가하면, 특정 행동을 의미하는 상태를 세는 것만으로도 유의미한 값을 얻을 수 있다.&lt;br /&gt;&lt;br /&gt;&lt;b&gt;&lt;span style=&quot;font-size: x-large;&quot;&gt;가능성을 높이는 팁&lt;/span&gt;&lt;/b&gt;&lt;br /&gt;&lt;br /&gt;뇌는 감각기관이 수집한 정보를 경험, 기억, 감정 등을 바탕으로 왜곡한다. 그래서 사람은 있는 그대로 보지 않는다. 좋아하는 감정일 때는 아름답게 보다가, 그 감정이 사라지면 같은 사람을 추하게 본다.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-xCA6dse8-yE/XMKUjVUqbsI/AAAAAAAAIYQ/FArlTarvTrkAdf1obVLoIuUzqDde6qA-ACLcBGAs/s1600/%25EB%2587%258C%25EA%25B0%2580%25EC%259D%25BD%25EB%258A%2594%25EB%25B0%25A9%25EC%258B%259D1.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;295&quot; data-original-width=&quot;535&quot; src=&quot;https://1.bp.blogspot.com/-xCA6dse8-yE/XMKUjVUqbsI/AAAAAAAAIYQ/FArlTarvTrkAdf1obVLoIuUzqDde6qA-ACLcBGAs/s530/%25EB%2587%258C%25EA%25B0%2580%25EC%259D%25BD%25EB%258A%2594%25EB%25B0%25A9%25EC%258B%259D1.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;로그도 마찬가지. 눈에 익은 패턴만 보고 있으면 &#39;이상한 것&#39;은 좀처럼 나타나지 않는다. 그래서 같은 패턴도 다른 방향에서, 다른 형태로 보는 훈련이 필요하다. 창의력을 발휘할수록 얻어걸릴(?) 가능성은 높아진다.&lt;br /&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-mrxWpA1h3bY/XMCb-0FxFaI/AAAAAAAAIYE/MiW1qigYarM6DOuU8_E5UkSc7JEn33W7ACLcBGAs/s1600/3.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;375&quot; data-original-width=&quot;713&quot; src=&quot;https://4.bp.blogspot.com/-mrxWpA1h3bY/XMCb-0FxFaI/AAAAAAAAIYE/MiW1qigYarM6DOuU8_E5UkSc7JEn33W7ACLcBGAs/s530/3.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;font-size: 12.8px;&quot;&gt;&lt;b&gt;미생 84수&lt;/b&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;&lt;b&gt;관련 글&lt;/b&gt;&lt;br /&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://kangmyounghun.blogspot.com/2019/03/blog-post_26.html&quot; target=&quot;_blank&quot;&gt;알고 보면 쉬운 이상징후 분석&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://kangmyounghun.blogspot.com/2019/04/2nd.html&quot; target=&quot;_blank&quot;&gt;알고 보면 쉬운 이상징후 분석 - 2nd&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content><link rel='replies' type='application/atom+xml' href='http://kangmyounghun.blogspot.com/feeds/4624084654639531857/comments/default' title='댓글'/><link rel='replies' type='text/html' href='http://kangmyounghun.blogspot.com/2019/05/3rd.html#comment-form' title='0개의 덧글'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/2597780270996323853/posts/default/4624084654639531857'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/2597780270996323853/posts/default/4624084654639531857'/><link rel='alternate' type='text/html' href='http://kangmyounghun.blogspot.com/2019/05/3rd.html' title='알고 보면 쉬운 이상징후 분석 - 3rd'/><author><name>강명훈</name><uri>http://www.blogger.com/profile/04275122278203538865</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='//2.bp.blogspot.com/-2J7aNgScC8M/XGF81HaO4bI/AAAAAAAAIIU/lVc7T4qiyuIhSZ3tDNlhTW0Lspu2fA2jwCK4BGAYYCw/s72/kmh.jpg'/></author><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://1.bp.blogspot.com/-ogH8Goe5KH8/XMBBqzFR5_I/AAAAAAAAIX4/bwsRQTZ5VCM9k4Qi9aJcA8PkoT1TnxckACLcBGAs/s72-c/2.png" height="72" width="72"/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-2597780270996323853.post-2484614801379962168</id><published>2019-04-28T15:50:00.001+09:00</published><updated>2019-05-11T01:49:51.321+09:00</updated><category scheme="http://www.blogger.com/atom/ns#" term="book"/><title type='text'>수학의 아름다움</title><content type='html'>&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-bXzT88FFXaQ/XMQnsYBD1bI/AAAAAAAAIYc/GachSq8kN4ALSt1ow9zgtbksNzQN989PQCLcBGAs/s1600/800x0.jpg&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;1175&quot; data-original-width=&quot;800&quot; height=&quot;320&quot; src=&quot;https://2.bp.blogspot.com/-bXzT88FFXaQ/XMQnsYBD1bI/AAAAAAAAIYc/GachSq8kN4ALSt1ow9zgtbksNzQN989PQCLcBGAs/s320/800x0.jpg&quot; width=&quot;216&quot; /&gt;&lt;/a&gt;&lt;/div&gt;(살다살다 내가 내 돈 주고 이런 책을 사보는 날이 오는구나)&lt;br /&gt;&lt;br /&gt;구글 및 텐센트에서 자연어 처리 및 검색 전문가로&amp;nbsp;일했던 우쥔의 2014년 저서.&lt;br /&gt;&lt;br /&gt;중국 IT 스타는 앤드류 응밖에 몰랐는데, 중국의 IT 파워를 새삼 느끼게 해준 책. &lt;strike&gt;그래봐야 트럼프 손바닥&lt;/strike&gt;&lt;br /&gt;&lt;br /&gt;&#39;&lt;a href=&quot;https://kangmyounghun.blogspot.com/2018/06/blog-post_17.html&quot; target=&quot;_blank&quot;&gt;기계학습과 침입탐지: 문법 추론 결과&lt;/a&gt;&#39;를 보다&amp;nbsp;멘붕에 빠진 후, 해당 논문을 이해하려면 자연어 처리 분야에 대한 이해가 먼저인 것 같아 보게 됐다.&lt;br /&gt;&lt;br /&gt;총 31장에 걸쳐서 검색, 광고 등의 예제를 보여주고, 문제를 해결하는 데 사용된 알고리즘과 수학 이론을 설명하는 구조.&lt;br /&gt;&lt;br /&gt;사실 자연어 처리 분야의 분위기나 살펴보자는 생각이었는데, 각 장의 연관성이 적어서 크게 부담도 안 되고, 설명도 그리 딱딱하지 않아서 수식 무시하고 읽었음에도 이해하는 데 별로 어렵지는 않았던 듯?&lt;br /&gt;&lt;br /&gt;&lt;a name=&#39;more&#39;&gt;&lt;/a&gt;전반적으로 자연어 처리 알고리즘의 배경이 되는 수학 이론에 대한 이야기이다. 일단 1950년대부터 자연어 처리 연구가 시작됐다고 한다. 1946년에 에니악이 나왔으니 거의 컴퓨터 만들자마자 인공지능 도전.&lt;br /&gt;&lt;br /&gt;&lt;blockquote class=&quot;tr_bq&quot; style=&quot;text-align: center;&quot;&gt;&lt;i&gt;&lt;a href=&quot;https://kangmyounghun.blogspot.com/2016/04/blog-post_15.html&quot; target=&quot;_blank&quot;&gt;초창기 인공지능은 &#39;A이면 B하라&#39;는 rule-base 방식이었다. 바로 전문가 시스템을 얘기하며,&amp;nbsp;보안 분야의 &#39;A 패턴이면 탐지, B 패턴이면 회피&#39; 식의 &#39;패턴매칭&#39;과 같다. 모든 경우의 수를 사람이 고려해야 하는 문제를 안고 있는 것까지 동일.&lt;/a&gt;&lt;/i&gt;&lt;/blockquote&gt;&lt;br /&gt;그 이후엔 다들 아는 것처럼 인공지능 사망. 그러다가&lt;br /&gt;&lt;br /&gt;&lt;blockquote class=&quot;tr_bq&quot; style=&quot;text-align: center;&quot;&gt;&lt;i&gt;1970년 이후에는 통계언어학이 등장하면서 자연어 처리가 다시 새 생명을 얻고 현재와 같은 뛰어난 성과를 거두게 되었다&amp;nbsp;&lt;/i&gt;(57페이지)&lt;/blockquote&gt;&lt;br /&gt;부침이 있었지만 결국 컴퓨터 계산 능력 향상, 데이터 증가에 의해 통계 기반 방법론의 효과가 뚜렷해지면서 규칙 기반 방법론은 완전히 백기를 들었다고.&lt;br /&gt;&lt;br /&gt;&lt;b&gt;&lt;span style=&quot;font-size: x-large;&quot;&gt;자연어는 아니지만&lt;/span&gt;&lt;/b&gt;&lt;br /&gt;&lt;br /&gt;사람이 읽을 수 있는 문자열을 처리하는 건 비슷한데 보안 분야는 왜 여전히 규칙 기반 패턴매칭을 붙들고 있을까? 물론 통계 기반 이상징후 분석 비중이 점점 높아지고 있긴 하다만(..)&lt;br /&gt;&lt;br /&gt;&lt;blockquote class=&quot;tr_bq&quot; style=&quot;text-align: center;&quot;&gt;&lt;i&gt;기계번역에서 가장 어려운 두 문제 중 하나는 단어의 중의성 문제... 부시(Bush)는 전 미국 대통령의 이름일 수도 있고, 덤불일 수도...&lt;/i&gt;&amp;nbsp;&lt;/blockquote&gt;&lt;blockquote class=&quot;tr_bq&quot; style=&quot;text-align: center;&quot;&gt;&lt;i&gt;부시(Bush)와&amp;nbsp;함께 출현하는 상호정보량&lt;/i&gt;&lt;i&gt;이 가장 큰 단어&lt;/i&gt;&lt;i&gt;들을 찾는다... 앞뒤 문맥에서 어느 쪽이 연관된 단어가 많은지를 살펴보면 된다&lt;/i&gt;&amp;nbsp;(117페이지)&lt;/blockquote&gt;&lt;br /&gt;&lt;blockquote class=&quot;tr_bq&quot; style=&quot;text-align: center;&quot;&gt;&quot;&lt;i&gt;텍스트 정규화를 통해 비정형 원시데이터를 정형 데이터로 바꾸면 룰이 탐지하고자 하는 문자열 패턴과 주변 패턴 간의 체계적인 연관 분석이 가능&lt;/i&gt;&quot; - IDS와 보안관제의 완성 (197페이지)&lt;/blockquote&gt;&lt;br /&gt;아무래도 기술은 돈을 많이 벌 수 있는 분야부터 발전하는 게 전통이기도 하고, 기계번역/음성인식 등의 기술은 좀 틀려도 대세에 영향을 주지 않는 정도면 크게 문제없으니 적극적으로 달려드는 듯. 번역 좀 틀린다고 사는 데 지장 없으니까.&lt;br /&gt;&lt;br /&gt;반면 보안은 좀 틀렸을 때 어떤 결과로 이어질지 애매하긴 하다. 근데 사실 지금도 엄청 많이 틀리는데 사는 데 별 지장 없잖아(..) 역시 돈 문제인가? 다른 분야에서 벌만큼 벌면 보안 분야에서도 개선을 시도하겠지.&lt;br /&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;개인적으로는 자연어 처리가 완벽해진 시점의 인공지능에 애플리케이션과 프로토콜을 가르치면 보안 분야도 일대 혁신이 이루어지지 않을까 싶다. 가르칠 필요도 없겠네. 언어를 이해했으니 스스로 배우겠지.&lt;br /&gt;&lt;br /&gt;&lt;b&gt;&lt;span style=&quot;font-size: x-large;&quot;&gt;재밌게 읽은 부분&lt;/span&gt;&lt;/b&gt;&lt;br /&gt;&lt;br /&gt;다음은 논문 분류 아이디어에서 시작했다는 뉴스 분류 알고리즘.&lt;br /&gt;&lt;br /&gt;&lt;blockquote class=&quot;tr_bq&quot; style=&quot;text-align: center;&quot;&gt;&lt;i&gt;두 뉴스가 같은 유형에 속할 경우, 몇몇 차원에서 두 뉴스의 고유벡터 값은 크고 다른 차원에서의 값은 작다.&lt;/i&gt;&amp;nbsp;&lt;/blockquote&gt;&lt;blockquote class=&quot;tr_bq&quot; style=&quot;text-align: center;&quot;&gt;&lt;i&gt;반대로 두 뉴스가 같은 유형에 속하지 않는 경우, 사용하는 단어가 다르므로 고유벡터 값이 큰 차원들은 겹칠 수 없다.&amp;nbsp;&lt;/i&gt;&lt;i&gt;따라서 두 뉴스의 주제가 근접한지 여부가 고유벡터의 &#39;유사성&#39; 여부를 결정&lt;/i&gt;&amp;nbsp;(199페이지)&lt;/blockquote&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-wtW34-PewBI/XMRdV_1Wo5I/AAAAAAAAIYo/8QPnlv9rCjgx4XFtAyKdyNLrWwlyYJyFACLcBGAs/s1600/IMG_0764.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;1528&quot; data-original-width=&quot;1512&quot; src=&quot;https://2.bp.blogspot.com/-wtW34-PewBI/XMRdV_1Wo5I/AAAAAAAAIYo/8QPnlv9rCjgx4XFtAyKdyNLrWwlyYJyFACLcBGAs/s530/IMG_0764.JPG&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;&lt;b&gt;벡터 기울기가 유사할수록 내용도 유사하다&lt;/b&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;코사인 법칙으로 동작하는 알고리즘이라고 한다. 이거 IDS의 정/오탐 분류에도 써먹을 수 있을 것 같은데? 하지만 얼싸안코만 기억나는 난 안 될거야. -_-&lt;br /&gt;&lt;br /&gt;내가 이런 생각을 할 정도면 더 똑똑한 사람들이 이미 적용해봤겠지. 비슷한 국내 사례를 들어본 적이 없으니 미국도 재미를 못봤나 봄. 아니면 이것 역시 돈 많이 버는 분야의 발전을 기다려야 하나?&lt;br /&gt;&lt;br /&gt;한 번 읽어본 소감은 수학의 아름다움까지는 모르겠고, 그저 구글이 GOD. 그리고 무서운 중국. 누가 이런 말을 했다고 한다.&lt;br /&gt;&lt;br /&gt;&lt;blockquote class=&quot;tr_bq&quot; style=&quot;text-align: center;&quot;&gt;&lt;i&gt;권력은 소수의 엘리트가 차지할 것이다. 권력이 그들 손에 들어가는 이유는, 그들은 수학을 알고 당신은 모르기 때문&lt;/i&gt;&lt;/blockquote&gt;&lt;br /&gt;맞는 말도 같고, 아닌 것도 같고. 꼭 알아야 할까? 수학자를 고용할만큼 돈만 많음 되잖아? 근데 난 돈도 없(..)&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-BvUkEc-3Isc/XNWN_WcI_xI/AAAAAAAAIZc/EYne-eUoQpocUhpu5_ASIS-Vjg3kgioWACLcBGAs/s1600/%25EB%258F%2588%25EC%25A7%2580%25EB%259E%2584.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;540&quot; data-original-width=&quot;540&quot; height=&quot;320&quot; src=&quot;https://3.bp.blogspot.com/-BvUkEc-3Isc/XNWN_WcI_xI/AAAAAAAAIZc/EYne-eUoQpocUhpu5_ASIS-Vjg3kgioWACLcBGAs/s320/%25EB%258F%2588%25EC%25A7%2580%25EB%259E%2584.jpg&quot; width=&quot;320&quot; /&gt;&lt;/a&gt;&lt;/div&gt;</content><link rel='replies' type='application/atom+xml' href='http://kangmyounghun.blogspot.com/feeds/2484614801379962168/comments/default' title='댓글'/><link rel='replies' type='text/html' href='http://kangmyounghun.blogspot.com/2019/04/blog-post_28.html#comment-form' title='0개의 덧글'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/2597780270996323853/posts/default/2484614801379962168'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/2597780270996323853/posts/default/2484614801379962168'/><link rel='alternate' type='text/html' href='http://kangmyounghun.blogspot.com/2019/04/blog-post_28.html' title='수학의 아름다움'/><author><name>강명훈</name><uri>http://www.blogger.com/profile/04275122278203538865</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='//2.bp.blogspot.com/-2J7aNgScC8M/XGF81HaO4bI/AAAAAAAAIIU/lVc7T4qiyuIhSZ3tDNlhTW0Lspu2fA2jwCK4BGAYYCw/s72/kmh.jpg'/></author><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://2.bp.blogspot.com/-bXzT88FFXaQ/XMQnsYBD1bI/AAAAAAAAIYc/GachSq8kN4ALSt1ow9zgtbksNzQN989PQCLcBGAs/s72-c/800x0.jpg" height="72" width="72"/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-2597780270996323853.post-3680619519519064661</id><published>2019-04-25T19:37:00.000+09:00</published><updated>2019-05-07T16:47:23.127+09:00</updated><category scheme="http://www.blogger.com/atom/ns#" term="im thinking"/><title type='text'>알고 보면 쉬운 이상징후 분석 - 2nd</title><content type='html'>&#39;알고 보면 쉽다&#39;의 반대말은 &#39;모르면 어렵다&#39;이다. &lt;strike&gt;뻔한 소리를&lt;/strike&gt; 다음은 웹로그의 여러 상태 중 변수 길이의 변화 추이. 이게 중요하냐는 질문을 받은 적이 있다.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-qvsG3s55Fik/XMA8L8S0zoI/AAAAAAAAIXs/6SU_iCSrLxcouYttG-Oads2-mxkIpg_3gCLcBGAs/s1600/1.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;450&quot; data-original-width=&quot;794&quot; src=&quot;https://2.bp.blogspot.com/-qvsG3s55Fik/XMA8L8S0zoI/AAAAAAAAIXs/6SU_iCSrLxcouYttG-Oads2-mxkIpg_3gCLcBGAs/s530/1.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;a name=&#39;more&#39;&gt;&lt;/a&gt;나는 왜 변수 길이를 이상징후 분석 지표에 포함시켰을까? 웹서비스의 특성 중 하나가 변수 변화를 통해 바뀌는 다양한 서비스이기 때문.&lt;br /&gt;&lt;br /&gt;의도된 변수 입력은 의도한 출력으로 이어지고, 의도되지 않은 변수 입력은 의도하지 않은 출력으로 이어진다. 그래서 웹서버가 의도하지 않은 출력을 목적으로 하는 웹해킹은 대부분 변수를 건드린다. 그 과정에서 길이도 바뀌고.&lt;br /&gt;&lt;br /&gt;&lt;div style=&quot;text-align: center;&quot;&gt;&lt;blockquote class=&quot;tr_bq&quot;&gt;&lt;i&gt;&lt;a href=&quot;https://kangmyounghun.blogspot.com/2016/09/blog-post.html&quot; target=&quot;_blank&quot;&gt;서비스가 안정화된 웹 서버라면 변수값에 사용되는 문자열의 분포나 변수값의 길이가 일정 범위 안에서 발생할 가능성이 분명 높을 것이다&lt;/a&gt;&lt;/i&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br /&gt;&lt;b&gt;&lt;span style=&quot;font-size: x-large;&quot;&gt;아는 만큼 보인다&lt;/span&gt;&lt;/b&gt;&lt;br /&gt;&lt;br /&gt;다음은 주가 및 거래량 변화 추이.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-0xc3pj5gI-E/XMA2TBIpXQI/AAAAAAAAIXg/GZdPkGUxEi0XkPhFeVvNJxLnxlinbeW2gCLcBGAs/s1600/1.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;352&quot; data-original-width=&quot;552&quot; src=&quot;https://1.bp.blogspot.com/-0xc3pj5gI-E/XMA2TBIpXQI/AAAAAAAAIXg/GZdPkGUxEi0XkPhFeVvNJxLnxlinbeW2gCLcBGAs/s530/1.jpg&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;해당 종목을 착실히 공부했다면 차트 변화에 적절한 대응이 가능하다. 하지만 공부를 게을리했다면 주가나 거래량이 고점을 찍었을 때 대상승의 시작인지, 마지막 불꽃인지 짐작조차 할 수 없을 것이다.&lt;br /&gt;&lt;br /&gt;물론 파동 형태나 차트 기울기 각도 등을 따져 위기를 모면할 수도 있겠지만, 가끔 동전 던지기 투자 수익률과 별로 차이도 안 나더라는 연구 결과를 보면 기술 분석만으로는 분명 한계가 있다.&lt;br /&gt;&lt;br /&gt;재무제표 등 가치 분석이 뒤따라야 한다는 얘기. 해당 종목의 내재가치에 대한 이해를 바탕으로 기술 분석이 더해지면 더 정확한 분석이 가능하지 않을까?&lt;br /&gt;&lt;br /&gt;&lt;b&gt;&lt;span style=&quot;font-size: x-large;&quot;&gt;이상징후 분석도 마찬가지&lt;/span&gt;&lt;/b&gt;&lt;br /&gt;&lt;br /&gt;&lt;blockquote class=&quot;tr_bq&quot; style=&quot;text-align: center;&quot;&gt;&lt;blockquote class=&quot;tr_bq&quot;&gt;&lt;a href=&quot;https://kangmyounghun.blogspot.com/2017/09/elasticsearch-web-log.html&quot; target=&quot;_blank&quot;&gt;&lt;i&gt;이상징후 분석은 쉽다. 원하는 상태의 숫자만 세면 되니깐&lt;/i&gt;&lt;/a&gt;&lt;/blockquote&gt;&lt;/blockquote&gt;&lt;br /&gt;대상에 대한 이해가 부족한 상태에서의 이상징후 분석은 당연히 실패한다. 눈 앞에 코끼리가 지나가도, 그게 코끼린지 모를테니까. 그래서 어떤 상태를 분석하고 싶은지, 해당 상태의 변화가 왜 궁금한지에 대한 고민이 반드시 필요.&lt;br /&gt;&lt;br /&gt;다시 질문으로 돌아가서, 그래서 변수 길이가 중요할까? 중요할 수도 있고, 아닐 수도 있고(..) 로그를 기록하는 웹서버의 목적이나 서비스 구조, 그리고 그에 대한 이해도에 따라 중요한 지표가 될 수도 있고, 아닐 수도 있다.&lt;br /&gt;&lt;br /&gt;설령 좀 쓸만하다 할지라도 언제 뒤통수 맞을지 모른다. 질문 주신 분은 정답을 원했겠지만 세상에 100%는 없더라.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-HIZmkqTOsx8/XNE3xR_ZbJI/AAAAAAAAIZI/Y9oDUj3FMXo31lPt3_qnXYNMmpjI5vWIACLcBGAs/s1600/%25EA%25B7%25B8%25EB%259F%25B0%25EC%259D%25BC%25EC%259D%2580%25EC%259E%2588%25EC%259D%2584%25EC%2588%2598%25EA%25B0%2580%25EC%2597%2586%25EC%2596%25B4.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;480&quot; data-original-width=&quot;720&quot; height=&quot;266&quot; src=&quot;https://1.bp.blogspot.com/-HIZmkqTOsx8/XNE3xR_ZbJI/AAAAAAAAIZI/Y9oDUj3FMXo31lPt3_qnXYNMmpjI5vWIACLcBGAs/s400/%25EA%25B7%25B8%25EB%259F%25B0%25EC%259D%25BC%25EC%259D%2580%25EC%259E%2588%25EC%259D%2584%25EC%2588%2598%25EA%25B0%2580%25EC%2597%2586%25EC%2596%25B4.jpg&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;저게 정답이었으면 이미 누군가 팔고 있겠지. 질문자도 궁금하지 않았을테고. 그러니 스스로 문제를 해결하려는 의지와 함께 절대&lt;br /&gt;&lt;br /&gt;&lt;blockquote class=&quot;tr_bq&quot; style=&quot;text-align: center;&quot;&gt;&lt;i&gt;자신의 연구에 대해 겸손해야 하고 자신이 찾아낸 결과와 사랑에 빠지지 말아야 한다&lt;/i&gt;&amp;nbsp;-&amp;nbsp;&lt;a href=&quot;https://kangmyounghun.blogspot.com/2019/02/blog-post_11.html&quot; target=&quot;_blank&quot;&gt;모두 거짓말을 한다&lt;/a&gt;&amp;nbsp;(287페이지)&lt;/blockquote&gt;&lt;br /&gt;섣불리 장담하지 말고, 가능성 있는 지표를 계속 찾으라는 얘기. 결국 확률 싸움. 하나보다는 둘, 둘 보다는 세 개의 지표를 결합했을 때 이상한 걸 찾아낼 확률이 높아지지 않을까?&lt;br /&gt;&lt;br /&gt;물론 장비 위주, 아웃소싱 위주 환경에서 쉽지 않을 것이다. 상관분석, 이상징후 분석 마케팅이 사방에 넘치는데도 쓸만한 사례 찾기 힘든 이유. 그럼에도 데이터를 잘 분석하고 싶다면 방법은 결국 데이터를 알아가려고 노력하는 것.&lt;br /&gt;&lt;br /&gt;&lt;blockquote class=&quot;tr_bq&quot; style=&quot;text-align: center;&quot;&gt;&lt;i&gt;사랑하면 알게 되고 알게 되면 보이나니, 그때 보이는 것은 전과 같지 않으리라&lt;/i&gt;&lt;/blockquote&gt;&lt;br /&gt;닭살 돋지만 사실이라 어쩔 수 없음.&lt;br /&gt;&lt;br /&gt;&lt;b&gt;관련 글&lt;/b&gt;&lt;br /&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://kangmyounghun.blogspot.com/2019/03/blog-post_26.html&quot; target=&quot;_blank&quot;&gt;알고 보면 쉬운 이상징후 분석&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://kangmyounghun.blogspot.com/2019/05/3rd.html&quot; target=&quot;_blank&quot;&gt;알고 보면 쉬운 이상징후 분석 - 3rd&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content><link rel='replies' type='application/atom+xml' href='http://kangmyounghun.blogspot.com/feeds/3680619519519064661/comments/default' title='댓글'/><link rel='replies' type='text/html' href='http://kangmyounghun.blogspot.com/2019/04/2nd.html#comment-form' title='0개의 덧글'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/2597780270996323853/posts/default/3680619519519064661'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/2597780270996323853/posts/default/3680619519519064661'/><link rel='alternate' type='text/html' href='http://kangmyounghun.blogspot.com/2019/04/2nd.html' title='알고 보면 쉬운 이상징후 분석 - 2nd'/><author><name>강명훈</name><uri>http://www.blogger.com/profile/04275122278203538865</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='//2.bp.blogspot.com/-2J7aNgScC8M/XGF81HaO4bI/AAAAAAAAIIU/lVc7T4qiyuIhSZ3tDNlhTW0Lspu2fA2jwCK4BGAYYCw/s72/kmh.jpg'/></author><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://2.bp.blogspot.com/-qvsG3s55Fik/XMA8L8S0zoI/AAAAAAAAIXs/6SU_iCSrLxcouYttG-Oads2-mxkIpg_3gCLcBGAs/s72-c/1.png" height="72" width="72"/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-2597780270996323853.post-61805344720121043</id><published>2019-04-22T13:24:00.001+09:00</published><updated>2019-05-09T15:14:43.806+09:00</updated><category scheme="http://www.blogger.com/atom/ns#" term="im thinking"/><title type='text'>강의 하다 보면 생기는 일</title><content type='html'>14년부터 강의를 시작했다. 처음엔 IDS 로그 분석 과정만 진행하다가, 16년에 이상징후 분석 과정을 추가했고, 작년부터 과정 통합. 두 과정을 통합하면서 엘라스틱을 분석 도구로 추가한 걸 빼면 6년째 거의 같은 내용으로 우려먹는 중(..)&lt;br /&gt;&lt;br /&gt;강의 내용 대부분은 블로그에 공개되어 있다. 최소한 가장 중요하다고 생각하는 데이터 전처리 과정은 거의 같음. 딱히 의도한 건 아니고, 개인 학습 &amp;gt; 블로그 정리 &amp;gt; 강의 연결 과정이 어쩌다 굳어졌다.&lt;br /&gt;&lt;br /&gt;강의 아이템 노출 같은 걱정은 전혀 안 된다. 보안 분야는 전통적으로 해킹이 대세고, 로그 분석은 워낙 비인기종목이라(..) 많이 퍼져서 관심이나 좀 높아졌으면 좋겠음.&lt;br /&gt;&lt;br /&gt;&lt;a name=&#39;more&#39;&gt;&lt;/a&gt;난이도는 꽤 높은 편이다. 그런데 이게 이론이 복잡하고 어려운 기술이라서가 절대 아님. 그냥 귀찮고 번잡한 데이터 노가다가 많아서 진짜 필요성을 느끼는 사람 아니면 따라오기 힘들다.&amp;nbsp;&lt;strike&gt;그래서 나도 어려움&lt;/strike&gt;&lt;br /&gt;&lt;br /&gt;그럼에도 불구하고 6년째 강의를 끌고올 수 있었던 비결은 순전히 강의를 들어준 분들의 호응 덕이라고 생각한다.&lt;br /&gt;&lt;br /&gt;강의 통합 후에는 초반 고전하기도 했지만, 하반기엔 제법 평가가 좋아서 기운이 나더라. 그런데 올해는 출판사도 망하고, 출강 기관도 하나 사라지고, 어째 잘 안 풀리는 모양새.&lt;br /&gt;&lt;br /&gt;&lt;blockquote class=&quot;tr_bq&quot;&gt;&lt;div style=&quot;text-align: center;&quot;&gt;&quot;&lt;i&gt;전체적으로 툴사용법과 연동방법에 강의가 할당되었음. 네트워크 보안 및 이상징후 탐지에 대한 내용을 설명해 주셔야 할 것 같음. 강사님이 계속 헤매시고, 뭘 전달하려고 하는지 파악되지 않음. 2달전에도 강의하셨을텐데, 계속 실수하셨음.&amp;nbsp;&lt;/i&gt;&amp;nbsp;&lt;/div&gt;&lt;/blockquote&gt;&lt;blockquote class=&quot;tr_bq&quot;&gt;&lt;i&gt;&lt;/i&gt;&lt;br /&gt;&lt;div style=&quot;text-align: center;&quot;&gt;&lt;i&gt;&lt;i&gt;5일동안 VI, ELK 툴과 연동방법만 배우다(강사님이 혼자 버벅되다가) 끝난것 같음. 강의료 너무 아까움. 강의 제목을 VI, ELK 사용법으로 변경해야 할 듯. 멀티캠퍼스 여러번 수강했는데, 이런경우는 처음임.&lt;/i&gt;&quot;&lt;/i&gt;&lt;/div&gt;&lt;i&gt;&lt;/i&gt;&lt;/blockquote&gt;&lt;br /&gt;6년 강의 중 받은 최악의 평가가 아닌가 싶다. 모두를 만족시킨다는 것은 애초에 불가능하다는 생각쯤은 가지고 있었지만, 그래도 돈 아깝다는 말은 충격인데?&lt;br /&gt;&lt;br /&gt;&lt;b&gt;&lt;span style=&quot;font-size: x-large;&quot;&gt;제일 충격은&amp;nbsp;&lt;/span&gt;&lt;/b&gt;&lt;br /&gt;&lt;br /&gt;데이터 분석 과정에서 가장 많은 시간의 할애와 집중이 필요한 데이터 전처리의 중요성을 충분히 강조했다고 생각했는데, 그저 &#39;연동방법&#39;쯤으로 받아들여졌다는 사실. 5일 동안 VIM과 정규표현식의 유용함만 전달해도 큰 성과라 생각했는데(..)&lt;br /&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-nd2oLAIv5Pk/XHKVHu4-ASI/AAAAAAAAINY/CJ2uPkq6TJ8LZVQfc0IzPacTnwlVFJEZwCLcBGAs/s1600/6.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;409&quot; data-original-width=&quot;960&quot; src=&quot;https://3.bp.blogspot.com/-nd2oLAIv5Pk/XHKVHu4-ASI/AAAAAAAAINY/CJ2uPkq6TJ8LZVQfc0IzPacTnwlVFJEZwCLcBGAs/s530/6.jpg&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;&lt;b&gt;&lt;a href=&quot;https://www.forbes.com/sites/gilpress/2016/03/23/data-preparation-most-time-consuming-least-enjoyable-data-science-task-survey-says/#4525d19b6f63&quot; target=&quot;_blank&quot;&gt;Most Time-Consuming, Least Enjoyable Data Science Task&lt;/a&gt;&lt;/b&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;진행 중인 AI 프로젝트의 손 쉬운 해결책(외주?)을 마다하고, 직접 답을 찾다 내 강의까지 듣게 된 모양인데 답은 커녕 실망만 준 듯해 미안하긴 하다. 하지만 지난한 전처리 과정 없이 데이터를 분석해본 경험은 없는데 어쩌지?&lt;br /&gt;&lt;br /&gt;새로운 고민도 생겼다. 여러 목적을 가지고 오는 수강생들에게 완벽한 답을 주긴 힘들지만 힌트를 얻어 가길 바라면서 나름 선별한 사례를 소개했는데 이상징후 분석인지 모르겠다는 쇼킹 폭로! 물론 내가 제대로 설명하지 못한 탓이겠지.&lt;br /&gt;&lt;br /&gt;&lt;b&gt;이상징후 분석 사례&lt;/b&gt;&lt;br /&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://kangmyounghun.blogspot.com/2016/07/vim-4th.html&quot; target=&quot;_blank&quot;&gt;VIM 사용 설명서(secure 로그 분석)&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;http://kangmyounghun.blogspot.kr/2016/03/logparser-web-log.html&quot; target=&quot;_blank&quot;&gt;LogParser 활용(Web Log 이상징후 분석)&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;http://kangmyounghun.blogspot.com/2017/09/elasticsearch-web-log.html&quot; target=&quot;_blank&quot;&gt;Elasticsearch 활용(Web Log 이상징후 분석)&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;ul&gt;&lt;/ul&gt;&lt;br /&gt;강평 읽어보면 전체 문장 길이가 길수록 악평일 가능성이 높아지는 것 같던데(그럼 평 안 남긴 분들 만족도가 제일 높나?), 이상징후 분석 사례로 추가해볼까? -_-&lt;br /&gt;&lt;br /&gt;&lt;b&gt;&lt;span style=&quot;font-size: x-large;&quot;&gt;이런 일도 발전의 계기&amp;nbsp;&lt;/span&gt;&lt;/b&gt;&lt;br /&gt;&lt;br /&gt;라며 자위해보지만 그래도 기분은 별로. 내가 그렇게 많이 버벅댔나? 정규표현식 쓰면서 안 버벅대기 얼마나 힘든데(..) 달라진 엘라스틱 설정 깜박한 건 인정.&lt;br /&gt;&lt;br /&gt;내 돈 내고 왔는데 강사가 삽질하면 당연히 짜증나겠지. 하지만 일이나 인생이나 trial and error의 연속. 같은 실수의 반복을 막을 수 있는 실수라면 필요하지 않을까?&lt;br /&gt;&lt;br /&gt;변명이 길었지만 실수하면서 답을 찾는 과정은 내겐 항상 최선이었다. 그리고 그 과정을 자신의 답으로 완성하는 이들과 그렇지 못하는 이들, 모두에게 배울 수 있어서 강의는 계속 해야지 싶다.&lt;br /&gt;&lt;br /&gt;그나저나 엘라스틱 7.0 인터페이스는 참 많이&amp;nbsp;&lt;strike&gt;불편하게&lt;/strike&gt; 바꼈더라. 이제 강의 때 최신 버전 사용은 자제해야겠다. 그리고 악평 남겨주신 분, 코끼리를 모르면 눈 앞의 코끼리는 절대 보이지 않습니다.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-pjf5y2a3YRo/XL1TnFa762I/AAAAAAAAIXU/l9lUX6W1wi0ZJfLzxdjGm6iPHi7vRtAZwCLcBGAs/s1600/8.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;436&quot; data-original-width=&quot;800&quot; height=&quot;217&quot; src=&quot;https://1.bp.blogspot.com/-pjf5y2a3YRo/XL1TnFa762I/AAAAAAAAIXU/l9lUX6W1wi0ZJfLzxdjGm6iPHi7vRtAZwCLcBGAs/s400/8.jpg&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;근데 코끼리를 알아가는 데 &lt;a href=&quot;https://kangmyounghun.blogspot.com/2018/08/blog-post_26.html&quot; target=&quot;_blank&quot;&gt;VIM과 정규표현식&lt;/a&gt;만한 게 없어요. 연락 주시면 AS 해드립니다~&lt;br /&gt;&lt;br /&gt;&lt;b&gt;관련 글&lt;/b&gt;&lt;br /&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://kangmyounghun.blogspot.com/2015/11/blog-post_18.html&quot; target=&quot;_blank&quot;&gt;강의를 반기는 이유&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content><link rel='replies' type='application/atom+xml' href='http://kangmyounghun.blogspot.com/feeds/61805344720121043/comments/default' title='댓글'/><link rel='replies' type='text/html' href='http://kangmyounghun.blogspot.com/2019/04/blog-post_22.html#comment-form' title='0개의 덧글'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/2597780270996323853/posts/default/61805344720121043'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/2597780270996323853/posts/default/61805344720121043'/><link rel='alternate' type='text/html' href='http://kangmyounghun.blogspot.com/2019/04/blog-post_22.html' title='강의 하다 보면 생기는 일'/><author><name>강명훈</name><uri>http://www.blogger.com/profile/04275122278203538865</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='//2.bp.blogspot.com/-2J7aNgScC8M/XGF81HaO4bI/AAAAAAAAIIU/lVc7T4qiyuIhSZ3tDNlhTW0Lspu2fA2jwCK4BGAYYCw/s72/kmh.jpg'/></author><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://3.bp.blogspot.com/-nd2oLAIv5Pk/XHKVHu4-ASI/AAAAAAAAINY/CJ2uPkq6TJ8LZVQfc0IzPacTnwlVFJEZwCLcBGAs/s72-c/6.jpg" height="72" width="72"/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-2597780270996323853.post-3917203192680805302</id><published>2019-04-14T13:17:00.000+09:00</published><updated>2019-04-15T23:06:21.987+09:00</updated><category scheme="http://www.blogger.com/atom/ns#" term="tech"/><title type='text'>Packetbeat 활용 - 4th</title><content type='html'>t 옵션과 함께 pcap 파일을 연동하면 flow 데이터의 경우, 시간대가 너무 압축돼서 시계열 분석은 불가능. transaction 데이터는 실제와 유사한 시계열 인터벌을 갖지만, 지원하는 애플리케이션이 많지 않아서(..)&lt;br /&gt;&lt;br /&gt;t 옵션 없이 연동해봤다. 24시간 동안 기록된 pcap 파일 연동하는 데 26시간 소요? 연동 중에 렉 걸렸나? 일단 flow와 transaction 데이터 모두 같은 시간대에 기록된다.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-T2tl0_ynOzg/XLG7WGbUviI/AAAAAAAAIVk/spQeuuU158sslDYFtGtCgRAw8iBsm5aSgCLcBGAs/s1600/3.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;671&quot; data-original-width=&quot;1243&quot; src=&quot;https://1.bp.blogspot.com/-T2tl0_ynOzg/XLG7WGbUviI/AAAAAAAAIVk/spQeuuU158sslDYFtGtCgRAw8iBsm5aSgCLcBGAs/s530/3.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;a name=&#39;more&#39;&gt;&lt;/a&gt;flow 데이터에는 패킷 사이즈를 기록하는 &#39;source.stats.net_bytes_total&#39;이라는 필드가 있다. 다음은 UDP 트래픽 패킷 사이즈 발생 추이.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-DUR8rXNhMPg/XLG5uGxPJuI/AAAAAAAAIVI/wS81x7dXJvwh08sSc6W-KFUTG4pFJWQiQCLcBGAs/s1600/0.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;671&quot; data-original-width=&quot;1243&quot; src=&quot;https://4.bp.blogspot.com/-DUR8rXNhMPg/XLG5uGxPJuI/AAAAAAAAIVI/wS81x7dXJvwh08sSc6W-KFUTG4pFJWQiQCLcBGAs/s530/0.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;5353포트를 향한 패킷 사이즈 급증 확인.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/--7WaMm7aEbY/XLG5uJPOXbI/AAAAAAAAIVQ/Fjgnl3HRcCwTaSg3h_OK5wCZenrMiApAACLcBGAs/s1600/1.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;671&quot; data-original-width=&quot;1243&quot; src=&quot;https://1.bp.blogspot.com/--7WaMm7aEbY/XLG5uJPOXbI/AAAAAAAAIVQ/Fjgnl3HRcCwTaSg3h_OK5wCZenrMiApAACLcBGAs/s530/1.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-mCSn6WWYRTQ/XLG5uH7S_mI/AAAAAAAAIVM/JAY5_SLw8JEHVtLyI0URJdJyhLAL8GdgwCLcBGAs/s1600/2.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;706&quot; data-original-width=&quot;1280&quot; src=&quot;https://2.bp.blogspot.com/-mCSn6WWYRTQ/XLG5uH7S_mI/AAAAAAAAIVM/JAY5_SLw8JEHVtLyI0URJdJyhLAL8GdgwCLcBGAs/s530/2.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;다음은 원본 트래픽.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-OdGPptxPkYk/XLHmySMTc0I/AAAAAAAAIVw/DeRXLOpa-sY-zRcIOke99YypOIN5oo7zACLcBGAs/s1600/4.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;682&quot; data-original-width=&quot;1280&quot; src=&quot;https://2.bp.blogspot.com/-OdGPptxPkYk/XLHmySMTc0I/AAAAAAAAIVw/DeRXLOpa-sY-zRcIOke99YypOIN5oo7zACLcBGAs/s530/4.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;로그 개수 차이는 flow가 요약 통계니 그렇다치고, 패킷 사이즈는 왜 이렇게 차이가 나지? 비슷해야 하는 거 아닌가? 발생 추이도 영 딴판(..)&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/--n3WL3ZKU-c/XLHmyfsjYuI/AAAAAAAAIV0/5QbqGdgJ4jM0xAqRm4Peu0P0udLo8yLZwCLcBGAs/s1600/5.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;671&quot; data-original-width=&quot;1241&quot; src=&quot;https://3.bp.blogspot.com/--n3WL3ZKU-c/XLHmyfsjYuI/AAAAAAAAIV0/5QbqGdgJ4jM0xAqRm4Peu0P0udLo8yLZwCLcBGAs/s530/5.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;전체 패킷 사이즈도 차이가 너무 난다. 원본 트래픽은 고작 4GB인데 flow 통계 데이터는 60GB? 데이터가 누적되나?&lt;br /&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-TC1_-VstcoI/XLHpnRrNqzI/AAAAAAAAIWE/3GQzRLkT_I4QVvX2acbjYLRCctGtGJa9gCLcBGAs/s1600/6.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;601&quot; data-original-width=&quot;1280&quot; src=&quot;https://2.bp.blogspot.com/-TC1_-VstcoI/XLHpnRrNqzI/AAAAAAAAIWE/3GQzRLkT_I4QVvX2acbjYLRCctGtGJa9gCLcBGAs/s530/6.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;&lt;b&gt;flow 전체 패킷 사이즈&lt;/b&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-v4-z_wvmDoQ/XLHpnbSHE_I/AAAAAAAAIWI/N1P7DzHVVmsPI8I9qQ04huNb32pLaExXgCEwYBhgL/s1600/7.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;599&quot; data-original-width=&quot;1280&quot; src=&quot;https://2.bp.blogspot.com/-v4-z_wvmDoQ/XLHpnbSHE_I/AAAAAAAAIWI/N1P7DzHVVmsPI8I9qQ04huNb32pLaExXgCEwYBhgL/s530/7.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;&lt;b&gt;원본 사이즈&lt;/b&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;반면 transaction 데이터는 패킷 사이즈 차이는 좀 나지만 발생 추이는 원본과 대충 비슷하게 나온다.&lt;br /&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-wctxY1lx7qE/XLHzDkXdf_I/AAAAAAAAIWY/RW2An3bHmt0XC04uNwveCvo60f739KhvgCLcBGAs/s1600/8.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;671&quot; data-original-width=&quot;1243&quot; src=&quot;https://4.bp.blogspot.com/-wctxY1lx7qE/XLHzDkXdf_I/AAAAAAAAIWY/RW2An3bHmt0XC04uNwveCvo60f739KhvgCLcBGAs/s530/8.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;&lt;b&gt;http transaction 패킷 사이즈&lt;/b&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-KLEOpswWBm8/XLHzDuwOt-I/AAAAAAAAIWc/dtdae_7cPTgwWqWKz0xgo-DYSE_JSlI0ACLcBGAs/s1600/9.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;671&quot; data-original-width=&quot;1241&quot; src=&quot;https://1.bp.blogspot.com/-KLEOpswWBm8/XLHzDuwOt-I/AAAAAAAAIWc/dtdae_7cPTgwWqWKz0xgo-DYSE_JSlI0ACLcBGAs/s530/9.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;&lt;b&gt;원본 http 패킷 사이즈&lt;/b&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;flow 데이터로 이상징후 분석은 힘들겠는데?&lt;br /&gt;&lt;br /&gt;&lt;b&gt;관련 글&lt;/b&gt;&lt;br /&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://kangmyounghun.blogspot.com/2018/11/packetbeat.html&quot; target=&quot;_blank&quot;&gt;Packetbeat 활용&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://kangmyounghun.blogspot.com/2018/11/packetbeat-2nd.html&quot; target=&quot;_blank&quot;&gt;Packetbeat 활용 - 2nd&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://kangmyounghun.blogspot.com/2019/04/packetbeat-3rd.html&quot; target=&quot;_blank&quot;&gt;Packetbeat 활용 - 3rd&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content><link rel='replies' type='application/atom+xml' href='http://kangmyounghun.blogspot.com/feeds/3917203192680805302/comments/default' title='댓글'/><link rel='replies' type='text/html' href='http://kangmyounghun.blogspot.com/2019/04/packetbeat-4th.html#comment-form' title='0개의 덧글'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/2597780270996323853/posts/default/3917203192680805302'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/2597780270996323853/posts/default/3917203192680805302'/><link rel='alternate' type='text/html' href='http://kangmyounghun.blogspot.com/2019/04/packetbeat-4th.html' title='Packetbeat 활용 - 4th'/><author><name>강명훈</name><uri>http://www.blogger.com/profile/04275122278203538865</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='//2.bp.blogspot.com/-2J7aNgScC8M/XGF81HaO4bI/AAAAAAAAIIU/lVc7T4qiyuIhSZ3tDNlhTW0Lspu2fA2jwCK4BGAYYCw/s72/kmh.jpg'/></author><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://1.bp.blogspot.com/-T2tl0_ynOzg/XLG7WGbUviI/AAAAAAAAIVk/spQeuuU158sslDYFtGtCgRAw8iBsm5aSgCLcBGAs/s72-c/3.png" height="72" width="72"/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-2597780270996323853.post-5538224508019228173</id><published>2019-04-07T23:14:00.001+09:00</published><updated>2019-05-09T15:16:32.241+09:00</updated><category scheme="http://www.blogger.com/atom/ns#" term="tech"/><title type='text'>Packetbeat 활용 - 3rd</title><content type='html'>Packetbeat로&amp;nbsp;pcap&amp;nbsp;파일을 연동하면 연동 시점의 시간대를 갖는다. 실제 패킷 발생 시간대가 아닌, 연동 시간대를 갖는 인덱스에 저장된다는 얘기. (마음에 안 듬)&lt;br /&gt;&lt;br /&gt;게다가 패킷 딜레이 시간까지 반영돼서 속도마저 느림. 이때 t 옵션을 주면 딜레이 시간을 무시할 수 있다. 훠얼씬 빠른 연동 가능.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-Xli6Urc2nVM/XKnaOeDrpyI/AAAAAAAAIS4/4nMR7vWpsOknvrO5A2j3UKxtjivJFuSfgCLcBGAs/s1600/1.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;335&quot; data-original-width=&quot;1149&quot; src=&quot;https://3.bp.blogspot.com/-Xli6Urc2nVM/XKnaOeDrpyI/AAAAAAAAIS4/4nMR7vWpsOknvrO5A2j3UKxtjivJFuSfgCLcBGAs/s530/1.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;a name=&#39;more&#39;&gt;&lt;/a&gt;특징이 하나 더 있는데, 실제 패킷 발생 시간대의 인덱스를 만들 수 있다. 다음은 연동 결과. 실제 패킷 발생 시간대인 2010년 데이터를 확인할 수 있다.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-VSUcMRQTb68/XKnhN_TzA9I/AAAAAAAAITI/eVBINYuDSMUN314-UELXym5dxcDqoroWQCLcBGAs/s1600/2.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;812&quot; data-original-width=&quot;1600&quot; src=&quot;https://3.bp.blogspot.com/-VSUcMRQTb68/XKnhN_TzA9I/AAAAAAAAITI/eVBINYuDSMUN314-UELXym5dxcDqoroWQCLcBGAs/s530/2.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;2010년을 보자. transaction 데이터가 확인된다.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-GHN-EF8p6pU/XKnjEEuOzQI/AAAAAAAAITU/soX7FS_aehYJQnTM56-pbx0uwv9HknY1gCLcBGAs/s1600/3.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;649&quot; data-original-width=&quot;1280&quot; src=&quot;https://3.bp.blogspot.com/-GHN-EF8p6pU/XKnjEEuOzQI/AAAAAAAAITU/soX7FS_aehYJQnTM56-pbx0uwv9HknY1gCLcBGAs/s530/3.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;2019년은 flow와 transaction 중 하나인 tls 데이터.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-seeJ72GnE7k/XKnjEd4ra-I/AAAAAAAAITY/IszOBURxMFsE58_oLwRYFJVNuAbxXZY6gCLcBGAs/s1600/4.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;649&quot; data-original-width=&quot;1280&quot; src=&quot;https://3.bp.blogspot.com/-seeJ72GnE7k/XKnjEd4ra-I/AAAAAAAAITY/IszOBURxMFsE58_oLwRYFJVNuAbxXZY6gCLcBGAs/s530/4.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;transaction은 원본 패킷 발생 시간대, flow는 연동 시간대에 기록됐다. 발생 추이를 실제 상황 비슷하게 보려면 transaction을 봐야 한다는 얘기. 근데 tls는 왜 flow랑 같이 있지? -_-&lt;br /&gt;&lt;br /&gt;&lt;b&gt;&lt;span style=&quot;font-size: x-large;&quot;&gt;Packetbeat VS 원본&lt;/span&gt;&lt;/b&gt;&lt;br /&gt;&lt;br /&gt;Wireshark의 &#39;File &amp;gt; Export Packet Dissections &amp;gt; As CSV&#39; 기능을 이용해서 CSV로 추출한 원본 pcap을 엘라스틱에 저장.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-ghFEAVrhYKQ/XKnrgKT5c5I/AAAAAAAAITo/48O68WD-MMYWSGFCigaItE4qx6b6_G8bwCLcBGAs/s1600/5.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;544&quot; data-original-width=&quot;1143&quot; src=&quot;https://1.bp.blogspot.com/-ghFEAVrhYKQ/XKnrgKT5c5I/AAAAAAAAITo/48O68WD-MMYWSGFCigaItE4qx6b6_G8bwCLcBGAs/s530/5.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;로그양 차이가 어마어마하다.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-EksOvwigjYM/XKns1SST1-I/AAAAAAAAIT0/bS_nzi8R6dwo4F_AfSywZm7xlZ0UFbPsQCLcBGAs/s1600/6.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;649&quot; data-original-width=&quot;1280&quot; src=&quot;https://1.bp.blogspot.com/-EksOvwigjYM/XKns1SST1-I/AAAAAAAAIT0/bS_nzi8R6dwo4F_AfSywZm7xlZ0UFbPsQCLcBGAs/s530/6.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;IP 발생 추이를 비교해보자. 먼저 출발지IP. 역시 원본과 차이가 너무 난다.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-hj2-vNICJVk/XKn83SF07KI/AAAAAAAAIUc/jCkm23BQD547L8B9Q3JnZh7tqu2oQZcSQCLcBGAs/s1600/8.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;649&quot; data-original-width=&quot;1280&quot; src=&quot;https://3.bp.blogspot.com/-hj2-vNICJVk/XKn83SF07KI/AAAAAAAAIUc/jCkm23BQD547L8B9Q3JnZh7tqu2oQZcSQCLcBGAs/s530/8.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;그런데 &#39;목적지포트 = 80&#39; 조건을 주니 거의 비슷. Packetbeat가 http 트랜잭션을 꽤 정확하게 수집했다는 얘기.&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;/div&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-K6w1YJMbUEE/XKnvpuE-OFI/AAAAAAAAIUI/Bz2iDTK5x6ISah2rcOgWj7HD-ZdxNQArwCLcBGAs/s1600/9.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;649&quot; data-original-width=&quot;1280&quot; src=&quot;https://3.bp.blogspot.com/-K6w1YJMbUEE/XKnvpuE-OFI/AAAAAAAAIUI/Bz2iDTK5x6ISah2rcOgWj7HD-ZdxNQArwCLcBGAs/s530/9.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;이번엔 목적지IP. 포트 조건을 주지 않아도 발생 추이가 비슷하다. Packetbeat가 수집한 트랜잭션 대부분이 http라 그런 듯.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-P9P0WpwMolI/XKoA2UZ0k2I/AAAAAAAAIUo/p75euNT45Uovi13BtZ3najazCvaRuyecgCLcBGAs/s1600/10.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;649&quot; data-original-width=&quot;1280&quot; src=&quot;https://2.bp.blogspot.com/-P9P0WpwMolI/XKoA2UZ0k2I/AAAAAAAAIUo/p75euNT45Uovi13BtZ3najazCvaRuyecgCLcBGAs/s530/10.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;포트 조건까지 주면 거의 비슷.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-HvLi8d91QE4/XKoA2TsJSkI/AAAAAAAAIUs/eR8PUMZUkbA1vjxR6kgCAHSXGd8Cktv-gCLcBGAs/s1600/11.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;648&quot; data-original-width=&quot;1280&quot; src=&quot;https://4.bp.blogspot.com/-HvLi8d91QE4/XKoA2TsJSkI/AAAAAAAAIUs/eR8PUMZUkbA1vjxR6kgCAHSXGd8Cktv-gCLcBGAs/s530/11.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;나머지 애플리케이션은 언제 지원할래?&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-lpB6cGJn_nI/XKntJTPw1pI/AAAAAAAAIT8/24ojYo8fT8w7aP8R57YXqt8MmT3nW6T_gCLcBGAs/s1600/7.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;648&quot; data-original-width=&quot;1280&quot; src=&quot;https://4.bp.blogspot.com/-lpB6cGJn_nI/XKntJTPw1pI/AAAAAAAAIT8/24ojYo8fT8w7aP8R57YXqt8MmT3nW6T_gCLcBGAs/s530/7.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;b&gt;관련 글&lt;/b&gt;&lt;br /&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://kangmyounghun.blogspot.com/2018/11/packetbeat.html&quot; target=&quot;_blank&quot;&gt;Packetbeat 활용&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://kangmyounghun.blogspot.com/2018/11/packetbeat-2nd.html&quot; target=&quot;_blank&quot;&gt;Packetbeat 활용 - 2nd&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;http://xn--packetbeat%20%20-%204th-8470hy46l/&quot; target=&quot;_blank&quot;&gt;Packetbeat 활용 - 4th&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content><link rel='replies' type='application/atom+xml' href='http://kangmyounghun.blogspot.com/feeds/5538224508019228173/comments/default' title='댓글'/><link rel='replies' type='text/html' href='http://kangmyounghun.blogspot.com/2019/04/packetbeat-3rd.html#comment-form' title='0개의 덧글'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/2597780270996323853/posts/default/5538224508019228173'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/2597780270996323853/posts/default/5538224508019228173'/><link rel='alternate' type='text/html' href='http://kangmyounghun.blogspot.com/2019/04/packetbeat-3rd.html' title='Packetbeat 활용 - 3rd'/><author><name>강명훈</name><uri>http://www.blogger.com/profile/04275122278203538865</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='//2.bp.blogspot.com/-2J7aNgScC8M/XGF81HaO4bI/AAAAAAAAIIU/lVc7T4qiyuIhSZ3tDNlhTW0Lspu2fA2jwCK4BGAYYCw/s72/kmh.jpg'/></author><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://3.bp.blogspot.com/-Xli6Urc2nVM/XKnaOeDrpyI/AAAAAAAAIS4/4nMR7vWpsOknvrO5A2j3UKxtjivJFuSfgCLcBGAs/s72-c/1.png" height="72" width="72"/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-2597780270996323853.post-1946432666712483003</id><published>2019-03-26T19:55:00.000+09:00</published><updated>2019-05-05T19:19:53.671+09:00</updated><category scheme="http://www.blogger.com/atom/ns#" term="im thinking"/><title type='text'>알고 보면 쉬운 이상징후 분석</title><content type='html'>기계학습 기반 이상징후 분석 시스템 개발 과정의 진지한 논의를 엿들은(?) 적이 있다. &lt;strike&gt;옆자리라 그냥 들림&lt;/strike&gt; 그런데 좀 이상한 게, 웹로그 URI에 &#39;select&#39; 등의 쿼리문이나 따옴표 등의 특수문자 유형이 포함되면 이상한 거 아니냐는 식의 대화를 많이 주고 받더라.&amp;nbsp; &lt;br /&gt;&lt;br /&gt;특정 문자열 패턴을 이상징후 탐지 기준으로 삼고 싶은 마음은 이해가 간다. 인류가 체득한 가장 효과적인 정보 수집/분석 방법이 패턴매칭이었으니까.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-OuABwQMbgjE/XJm4xxMS06I/AAAAAAAAIRM/Rvc9ZENnZQMPJZynusYBS7Nb31Z8LJb5wCLcBGAs/s1600/1.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;207&quot; data-original-width=&quot;367&quot; src=&quot;https://2.bp.blogspot.com/-OuABwQMbgjE/XJm4xxMS06I/AAAAAAAAIRM/Rvc9ZENnZQMPJZynusYBS7Nb31Z8LJb5wCLcBGAs/s530/1.jpg&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;a name=&#39;more&#39;&gt;&lt;/a&gt;경쟁 상대의 정보에 대한 수집/분석이 경쟁에 유리하다는 사실을 우리는 본능적으로 알고 있다. 이때 전제 조건은 경쟁 상대의 정보만을 수집해야 한다는 것.&lt;br /&gt;&lt;br /&gt;경쟁 상대의 것이 아닌 정보가 섞이면? 적이 누군지 몰라 모든 트래픽을 검사하는 패턴매칭 보안 장비들이 대량 오탐에 숨 넘어가는 거 보시라(..)&lt;br /&gt;&lt;br /&gt;정보보안 현장의 대량 오탐 문제는 패턴 수집 범위의 애매모호성에서 시작한 후, 언어의 애매모호성에 의해 절정에 이른다.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-33qUicGRjkk/XJm52Mj-aCI/AAAAAAAAIRc/TAMNtOEmSY8OlfNf5eiZYplLeTsl51eeACLcBGAs/s1600/2.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;760&quot; data-original-width=&quot;1289&quot; src=&quot;https://3.bp.blogspot.com/-33qUicGRjkk/XJm52Mj-aCI/AAAAAAAAIRc/TAMNtOEmSY8OlfNf5eiZYplLeTsl51eeACLcBGAs/s530/2.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;/div&gt;&lt;br /&gt;&#39;여앵커&#39;, &#39;불륜&#39;, &#39;재벌2세&#39;는 그냥 지나치기엔 너무나 매력적인 문자열 패턴. 이 기사의 낚시 여부를 가리는 방법은 해당 패턴의 전후 문맥, Context를 파악하는 것뿐이다. NSA처럼 돈을 퍼부으면 전세계를 도청할 수도 있겠지만, 애당초 어려운 일.&lt;br /&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-gIRg_dNBjqM/XJnP--yqmSI/AAAAAAAAIRs/bpMakkuSsUcVEtw2Qix_1R_EEJkhWxr6QCLcBGAs/s1600/2.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;988&quot; data-original-width=&quot;1600&quot; src=&quot;https://2.bp.blogspot.com/-gIRg_dNBjqM/XJnP--yqmSI/AAAAAAAAIRs/bpMakkuSsUcVEtw2Qix_1R_EEJkhWxr6QCLcBGAs/s530/2.jpg&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;&lt;b&gt;NSA 본사의 위엄&lt;/b&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;이런 상황에서 패턴으로 이상징후 분석을 하겠다? 그럼 패턴매칭과 뭐가 다르지? 참을 수 없는 기획의 가벼움이 느껴진다. 구글에 anomaly detection만 쳐봐도 바로 감이 올텐데. 아 거긴 인터넷이 안 되는군(..)&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/--NtXXFnRTns/XKGlmdEQ-0I/AAAAAAAAISs/-h8DSSDb88Yuaqnik-xDV0GSNnz6oH-IACLcBGAs/s1600/1.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;967&quot; data-original-width=&quot;1307&quot; src=&quot;https://3.bp.blogspot.com/--NtXXFnRTns/XKGlmdEQ-0I/AAAAAAAAISs/-h8DSSDb88Yuaqnik-xDV0GSNnz6oH-IACLcBGAs/s530/1.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;/div&gt;&lt;b&gt;&lt;span style=&quot;font-size: x-large;&quot;&gt;이상징후 분석은&lt;/span&gt;&lt;/b&gt;&lt;br /&gt;&lt;br /&gt;&lt;blockquote class=&quot;tr_bq&quot; style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://kangmyounghun.blogspot.com/2016/03/logparser-web-log.html&quot; target=&quot;_blank&quot;&gt;말 그대로 &#39;이상한 상태&#39;를 찾는 것. 그리고 이상한 상태를 찾는 가장 쉬운 방법은 시간대별로 발생한 &#39;상태의 개수&#39;를 세는 것.&lt;/a&gt;&lt;/blockquote&gt;&lt;br /&gt;사람들은 숫자를 좋아한다. 복잡하게 머리 굴리지 않아도 세상을, 자연 현상을 이해할 수 있(을 거라 생각하)기 때문.&lt;br /&gt;&lt;br /&gt;그래서 사람들은 숫자를 셌다. 농사를 짓게 되면서 온도를 재고 비의 양을 쟀으며, 군인을 뽑고 세금을 걷기 위해 인구 수를 셌다. 숫자로 자연 및 사회 현상을 이해하려는 통계분석을 시작한 것.&lt;br /&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-bKkLgRBaGac/XJnugoCqABI/AAAAAAAAIR8/iVGJyYH99kspVb_4dgi5zZh3qLjJpLmlACLcBGAs/s1600/3.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;460&quot; data-original-width=&quot;1075&quot; src=&quot;https://2.bp.blogspot.com/-bKkLgRBaGac/XJnugoCqABI/AAAAAAAAIR8/iVGJyYH99kspVb_4dgi5zZh3qLjJpLmlACLcBGAs/s530/3.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;&lt;b&gt;인구 변화 추이(&lt;a href=&quot;http://index.go.kr/&quot;&gt;index.go.kr&lt;/a&gt;)&lt;/b&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;그리고 그 숫자의 변화를 읽어내려고 노력했다. 이상징후 분석 역시 패턴매칭과 마찬가지로 인류가 전통적으로 사용해왔던 정보 수집/분석 방법이라는 얘기.&lt;br /&gt;&lt;br /&gt;보안 이상징후 분석이라고 별거 있을까? 조상들이 하던대로 하면 된다. 측정을 원하는 상태의 숫자를 잘 기록한 후, 변화 추이를 잘 관찰하면 된다. 이때 전제 조건은 목적에 맞는 상태 분류를 해야 한다는 것.&lt;br /&gt;&lt;br /&gt;군인을 뽑으려는 목적으로 &#39;인구 변화 추이&#39; 통계가 적합할까? 인구 오천만이면 오천만 대군? 목적에 맞는 통계가 없으니 정확한 분석이 불가능하다. 다음과 같은 상태 분류가 필요. 여기에 연령별 분류까지 이뤄진다면?&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-apcVwQJVXSU/XJn19LQ44mI/AAAAAAAAISI/2vgeQi9XxNUjK3uEiRovxh3diPU74pvkwCLcBGAs/s1600/4.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;464&quot; data-original-width=&quot;1054&quot; src=&quot;https://2.bp.blogspot.com/-apcVwQJVXSU/XJn19LQ44mI/AAAAAAAAISI/2vgeQi9XxNUjK3uEiRovxh3diPU74pvkwCLcBGAs/s530/4.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;원하는 상태 분류만 하면, 그 상태의 발생 개수만 측정하면, 그 개수의 변화 추이만 관찰하면 이상징후 분석은 진짜 쉽다. 분류만 잘 하면 그 다음은 술술술.&lt;br /&gt;&lt;br /&gt;상태 분류가 중요하다는 얘기. 어떻게 하면 분류를 잘 할 수 있을까? 당연히 뭘, 어떻게 분류할건지에 대한 결정이 가능해야 하지 않을까? 목적에 맞는 상태를 정의할 수 있어야 한다는 것. 상태를 잘 정의하려면?&lt;br /&gt;&lt;br /&gt;&lt;blockquote class=&quot;tr_bq&quot;&gt;&lt;i&gt;자세히 보아야 예쁘다.&lt;/i&gt;&amp;nbsp;&lt;/blockquote&gt;&lt;blockquote class=&quot;tr_bq&quot;&gt;&lt;i&gt;오래 보아야 사랑스럽다.&lt;/i&gt;&amp;nbsp;&lt;/blockquote&gt;&lt;blockquote class=&quot;tr_bq&quot;&gt;&lt;i&gt;데이터도 그렇다.&lt;/i&gt;&lt;/blockquote&gt;&lt;br /&gt;나태주 시인의 &#39;풀꽃&#39;을 표절했다.-_- 데이터를 자세히, 오래, 자주 보다 보면 당연히 잘 알게 된다. 잘 알면 원하는 상태 정의도 잘 할 수 있지 않을까?&lt;br /&gt;&lt;br /&gt;&lt;b&gt;&lt;span style=&quot;font-size: x-large;&quot;&gt;나가며&lt;/span&gt;&lt;/b&gt;&lt;br /&gt;&lt;br /&gt;잘 정의된 데이터 분석 시나리오만 따로 만들어주는 회사 없냐는 질문을 받은 적이 있다. 글쎄? 보통 장비 사면 시나리오나 비슷한 서비스가 딸려 가는 경우는 있는데(..)&lt;br /&gt;&lt;br /&gt;보안 회사는 왜 분석 시나리오만 따로 팔지 않을까? 장비 파는 게 더 돈이 되니까, 장비보다 더 비싸게, 최소한 비슷한 값이라도 치르고 시나리오를 사려는 소비자를 본 적이 없어서 그러는 것 아닐까? 미국도 그런 사례는 못 들어본 듯.&lt;br /&gt;&lt;br /&gt;결정적으로 좋은 시나리오는 충분한 분석 경험에서 나온다. 분석 경험은 데이터가 있어야 쌓을 수 있다. 그런데 그 데이터는 어디에 있을까?&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-nOBxiJBWWvE/XJryGCsO06I/AAAAAAAAISU/dASmPL2MLmI_0maRIAPgnxQFJ3qV5D5GACLcBGAs/s1600/2.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;413&quot; data-original-width=&quot;413&quot; height=&quot;200&quot; src=&quot;https://3.bp.blogspot.com/-nOBxiJBWWvE/XJryGCsO06I/AAAAAAAAISU/dASmPL2MLmI_0maRIAPgnxQFJ3qV5D5GACLcBGAs/s200/2.jpg&quot; width=&quot;200&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;b&gt;관련 글&lt;/b&gt;&lt;br /&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://kangmyounghun.blogspot.com/2019/04/2nd.html&quot; target=&quot;_blank&quot;&gt;알고 보면 쉬운 이상징후 분석 - 2nd&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://kangmyounghun.blogspot.com/2019/05/3rd.html&quot; target=&quot;_blank&quot;&gt;알고 보면 쉬운 이상징후 분석 - 3rd&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;http://kangmyounghun.blogspot.kr/2016/02/blog-post.html&quot; target=&quot;_blank&quot;&gt;사전예방 관점의 로그 분석&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content><link rel='replies' type='application/atom+xml' href='http://kangmyounghun.blogspot.com/feeds/1946432666712483003/comments/default' title='댓글'/><link rel='replies' type='text/html' href='http://kangmyounghun.blogspot.com/2019/03/blog-post_26.html#comment-form' title='0개의 덧글'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/2597780270996323853/posts/default/1946432666712483003'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/2597780270996323853/posts/default/1946432666712483003'/><link rel='alternate' type='text/html' href='http://kangmyounghun.blogspot.com/2019/03/blog-post_26.html' title='알고 보면 쉬운 이상징후 분석'/><author><name>강명훈</name><uri>http://www.blogger.com/profile/04275122278203538865</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='//2.bp.blogspot.com/-2J7aNgScC8M/XGF81HaO4bI/AAAAAAAAIIU/lVc7T4qiyuIhSZ3tDNlhTW0Lspu2fA2jwCK4BGAYYCw/s72/kmh.jpg'/></author><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://2.bp.blogspot.com/-OuABwQMbgjE/XJm4xxMS06I/AAAAAAAAIRM/Rvc9ZENnZQMPJZynusYBS7Nb31Z8LJb5wCLcBGAs/s72-c/1.jpg" height="72" width="72"/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-2597780270996323853.post-2010028250036607180</id><published>2019-03-19T22:50:00.000+09:00</published><updated>2019-04-14T13:43:23.556+09:00</updated><category scheme="http://www.blogger.com/atom/ns#" term="tech"/><title type='text'>Open Distro for Elasticsearch</title><content type='html'>아마존이 인증, 알람 등 일부 X-Pack 상용 기능이 포함된 엘라스틱서치 배포판을 공개해서 이슈인 모양이다.&lt;br /&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-GkYNHPUPOK0/XJDg1oPgZTI/AAAAAAAAIQE/QpCKKi781Msd3VU0Am6FSak88H0dQdp_wCLcBGAs/s1600/1.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;629&quot; data-original-width=&quot;1087&quot; src=&quot;https://2.bp.blogspot.com/-GkYNHPUPOK0/XJDg1oPgZTI/AAAAAAAAIQE/QpCKKi781Msd3VU0Am6FSak88H0dQdp_wCLcBGAs/s530/1.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;&lt;b&gt;&lt;a href=&quot;https://aws.amazon.com/ko/blogs/korea/keeping-open-source-open-open-distro-for-elasticsearch/&quot; target=&quot;_blank&quot;&gt;링크&lt;/a&gt;&lt;/b&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;&lt;a name=&#39;more&#39;&gt;&lt;/a&gt;오픈소스 생태계에 이바지한다는 명분을 내세우고 있지만, AWS 내에서 엘라스틱 사용 비중이 커지니까 고객 충성도도 높이고 신규 고객도 더 늘려보겠다는 목적으로 저지른 모양.&lt;br /&gt;&lt;br /&gt;의견은 반으로 갈리는 중이다. 대기업 횡포라며 베조스를 씹는 사람도 있고, 사용자 입장에서 땡큐라는 사람도 있고. 아마존이 엘라스틱 인수해서 몽땅 오픈소스로 공개했으면 참 아름다운 그림이었을텐데(..)&lt;br /&gt;&lt;br /&gt;&lt;a href=&quot;https://opendistro.github.io/for-elasticsearch-docs/docs/install/&quot; target=&quot;_blank&quot;&gt;설치 및 실행&lt;/a&gt;&amp;nbsp;과정은 당연히&amp;nbsp;기존 엘라스틱과 똑같다. 다음은 인증 기능이 기본 구현된 키바나 로그인 화면.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-MRF656AT8L8/XJDnHAGSDgI/AAAAAAAAIQU/kRIRCtqvjKQwmnWAEb8cLsywuGNAr6G7QCLcBGAs/s1600/2.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;591&quot; data-original-width=&quot;1087&quot; src=&quot;https://2.bp.blogspot.com/-MRF656AT8L8/XJDnHAGSDgI/AAAAAAAAIQU/kRIRCtqvjKQwmnWAEb8cLsywuGNAr6G7QCLcBGAs/s530/2.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;기본 계정으로 로그인하면 역시 기본 구현된 Alerting, Security 기능이 눈에 띈다. 나야 그저 로그 분석 도구로 쓸 뿐이지만, 엘라스틱서치로 제품 개발하는 분들에겐 희소식일 듯.&amp;nbsp;&lt;strike&gt;자 이제 머신러닝을 보여줘&lt;/strike&gt;&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-mmNFJFGdw5Q/XJDn4nOliHI/AAAAAAAAIQc/5Gvh7vH70KYJ-DtOARvU5K1T9DUf5MwvACLcBGAs/s1600/3.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;870&quot; data-original-width=&quot;1600&quot; src=&quot;https://2.bp.blogspot.com/-mmNFJFGdw5Q/XJDn4nOliHI/AAAAAAAAIQc/5Gvh7vH70KYJ-DtOARvU5K1T9DUf5MwvACLcBGAs/s530/3.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;/div&gt;&lt;br /&gt;로그스태시 연동도 당연히 잘 되고.&lt;br /&gt;&lt;br /&gt;&lt;pre&gt;&lt;code&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;input {&lt;br /&gt;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;stdin {}&lt;br /&gt;}&lt;br /&gt;&lt;br /&gt;output {&lt;br /&gt;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;elasticsearch {&lt;br /&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;  &lt;/span&gt;hosts =&amp;gt; &quot;https://192.168.56.101:9200&quot;&lt;br /&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;  &lt;/span&gt;user =&amp;gt; &quot;admin&quot;&lt;br /&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;  &lt;/span&gt;password =&amp;gt; &quot;admin&quot;&lt;br /&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;  &lt;/span&gt;ssl_certificate_verification =&amp;gt; false&lt;br /&gt;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;}&lt;br /&gt;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;stdout {}&lt;br /&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-cfoMNuYiovw/XJDurJKGhZI/AAAAAAAAIQo/R_3DlqN51aoWmpEPztxbUZJl_kkRMirPwCLcBGAs/s1600/4.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;501&quot; data-original-width=&quot;1055&quot; src=&quot;https://2.bp.blogspot.com/-cfoMNuYiovw/XJDurJKGhZI/AAAAAAAAIQo/R_3DlqN51aoWmpEPztxbUZJl_kkRMirPwCLcBGAs/s530/4.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;이정도면 나름 괜찮은 듯하다. 느닷없이 등에 칼 맞은 엘라스틱이 살짝 걱정스럽긴 하지만, 세상 쓸데 없는 걱정이 연예인 걱정, 그리고 엘라스틱 걱정(..)&lt;br /&gt;&lt;br /&gt;아마존 버전이 (AWS 고객이 주 대상일테니) 안정성 테스트는 확실히 해서 배포되지 않을까 싶은 생각은 든다. 엘라스틱이 잦은 업데이트만큼이나 버그도 잦아서 종종 후달렸던 적이 있는지라. -_-&lt;br /&gt;&lt;br /&gt;명색이 아마존인데 슬그머니 발 빼고 그러진 않을테고, 머신러닝 기능까지 추가해주면 적극적으로 써 볼 생각도 있지만 그럴 일은 없겠지?&lt;br /&gt;&lt;br /&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://www.elastic.co/kr/blog/on-open-distros-open-source-and-building-a-company&quot; target=&quot;_blank&quot;&gt;Open Distro for Elasticsearch에 대한 엘라스틱 입장&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content><link rel='replies' type='application/atom+xml' href='http://kangmyounghun.blogspot.com/feeds/2010028250036607180/comments/default' title='댓글'/><link rel='replies' type='text/html' href='http://kangmyounghun.blogspot.com/2019/03/open-distro-for-elasticsearch.html#comment-form' title='0개의 덧글'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/2597780270996323853/posts/default/2010028250036607180'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/2597780270996323853/posts/default/2010028250036607180'/><link rel='alternate' type='text/html' href='http://kangmyounghun.blogspot.com/2019/03/open-distro-for-elasticsearch.html' title='Open Distro for Elasticsearch'/><author><name>강명훈</name><uri>http://www.blogger.com/profile/04275122278203538865</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='//2.bp.blogspot.com/-2J7aNgScC8M/XGF81HaO4bI/AAAAAAAAIIU/lVc7T4qiyuIhSZ3tDNlhTW0Lspu2fA2jwCK4BGAYYCw/s72/kmh.jpg'/></author><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://2.bp.blogspot.com/-GkYNHPUPOK0/XJDg1oPgZTI/AAAAAAAAIQE/QpCKKi781Msd3VU0Am6FSak88H0dQdp_wCLcBGAs/s72-c/1.png" height="72" width="72"/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-2597780270996323853.post-2188534407522426875</id><published>2019-03-10T13:48:00.000+09:00</published><updated>2019-03-15T02:08:47.255+09:00</updated><category scheme="http://www.blogger.com/atom/ns#" term="tech"/><title type='text'>간만에 Snort(multi source one db)</title><content type='html'>Snort로 2개 이상의 네트워크를 모니터링하는 방법은 간단하다. 프로세스 2개 띄우면 됨. 2개의 네트워크에서 발생한 탐지로그는 각각 다른 alert.log에 기록된다.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-Zk25YzXWbA8/XIOBDQyy3KI/AAAAAAAAIOg/-30qc4qhgKcaD26DRBJhTgho9O-vEz-BACLcBGAs/s1600/0.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;558&quot; data-original-width=&quot;1280&quot; src=&quot;https://3.bp.blogspot.com/-Zk25YzXWbA8/XIOBDQyy3KI/AAAAAAAAIOg/-30qc4qhgKcaD26DRBJhTgho9O-vEz-BACLcBGAs/s530/0.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;a name=&#39;more&#39;&gt;&lt;/a&gt;그런데 해당 로그의 DB 연동은 좀 까다롭다. Snort 탐지로그를 DB에 집어넣을 때는 모니터링 네크워크에 대한 고유 ID인 s(ensor)id를 부여해야 한다. 네트워크가 둘 이상이면 sid도 둘 이상이라는 얘기.&lt;br /&gt;&lt;br /&gt;현재 Snort 탐지로그의 DB 연동은&amp;nbsp;&lt;a href=&quot;https://github.com/firnsy/barnyard2&quot; target=&quot;_blank&quot;&gt;Barnyard2&lt;/a&gt;를 통해서만 가능. Barnyard2는 기본 설정 상태에서 연동 로그의 네트워크 출처에 대해 하나의 sid를 부여한다. 결과적으로 Snort 프로세스 2개를 띄워도 마지막에 실행된 프로세스 하나만 연동됨.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-j4oXJCms2iI/XIOEqBgPOVI/AAAAAAAAIOs/T3EY2T3VOuwb_4w1truk_e_loZgDFcdswCLcBGAs/s1600/1.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;558&quot; data-original-width=&quot;1280&quot; src=&quot;https://3.bp.blogspot.com/-j4oXJCms2iI/XIOEqBgPOVI/AAAAAAAAIOs/T3EY2T3VOuwb_4w1truk_e_loZgDFcdswCLcBGAs/s530/1.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;둘 이상의 sid를 부여하려면 네트워크별로 설정 파일을 따로 잡아줘야 한다. barnyard2.conf를 barnyard2-ext.conf와 barnyard2-int.conf로 분리한 후, 네트워크를 지정해줬다.&lt;br /&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-zH52hRO2c8Q/XIONVNnHv1I/AAAAAAAAIO8/F7qHnirua3MNL75maHzprPjlry88j4PNQCLcBGAs/s1600/2.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;558&quot; data-original-width=&quot;1280&quot; src=&quot;https://3.bp.blogspot.com/-zH52hRO2c8Q/XIONVNnHv1I/AAAAAAAAIO8/F7qHnirua3MNL75maHzprPjlry88j4PNQCLcBGAs/s530/2.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;&lt;b&gt;barnyard2-ext.conf&lt;/b&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-VSECiGSMCp0/XIONVKE95JI/AAAAAAAAIO4/hzjR-_15K4cUjpuRzOVMAu79F5apI5CGACLcBGAs/s1600/3.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;558&quot; data-original-width=&quot;1280&quot; src=&quot;https://3.bp.blogspot.com/-VSECiGSMCp0/XIONVKE95JI/AAAAAAAAIO4/hzjR-_15K4cUjpuRzOVMAu79F5apI5CGACLcBGAs/s530/3.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;&lt;b&gt;barnyard2-int.conf&lt;/b&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;참고로 Barnyard2 설정은 그저 sid를 구분하는 용도. Snort가 실제 모니터링하는 네트워크와 헷갈리지 않게끔 지정해주면 된다. 설정 완료 후 외부 네트워크 감시를 위한 Snort 및 Barnyard2 실행.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-JhsGiPhjTKg/XIOSDcd2q3I/AAAAAAAAIPM/M1S0k6kyTQ4iyRyXyQS1lO9b0-Sh14ZQwCLcBGAs/s1600/4.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;864&quot; data-original-width=&quot;1600&quot; src=&quot;https://3.bp.blogspot.com/-JhsGiPhjTKg/XIOSDcd2q3I/AAAAAAAAIPM/M1S0k6kyTQ4iyRyXyQS1lO9b0-Sh14ZQwCLcBGAs/s530/4.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-ZMazQaCT3iI/XIOSDkgIi0I/AAAAAAAAIPU/2Aj-qjlFZywhPAZzkiM14Tf93wkUV-WFgCLcBGAs/s1600/5.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;558&quot; data-original-width=&quot;1280&quot; src=&quot;https://1.bp.blogspot.com/-ZMazQaCT3iI/XIOSDkgIi0I/AAAAAAAAIPU/2Aj-qjlFZywhPAZzkiM14Tf93wkUV-WFgCLcBGAs/s530/5.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;다음은 내부 네트워크 감시를 위한 Snort 및 Barnyard2 실행. Snort 실행 시 &#39;-l /var/log/snort2&#39; 옵션으로 로그 경로를 바꿨음에 주의. 같은 로그에 기록하면 마지막에 실행된 Barnyard2가 읽어들이는 로그만 기록된다.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-QLMSR5s-YGI/XIOSDQxVOMI/AAAAAAAAIPQ/eyExmSMX9Wsn_OMebzWqEMDQYf6fzokKACLcBGAs/s1600/6.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;841&quot; data-original-width=&quot;1600&quot; src=&quot;https://1.bp.blogspot.com/-QLMSR5s-YGI/XIOSDQxVOMI/AAAAAAAAIPQ/eyExmSMX9Wsn_OMebzWqEMDQYf6fzokKACLcBGAs/s530/6.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-6CRJhwaRNxU/XIOSEdAV-MI/AAAAAAAAIPY/5H618uiermodQEtVlNTCH_fElLMRT_ZmgCLcBGAs/s1600/7.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;558&quot; data-original-width=&quot;1280&quot; src=&quot;https://3.bp.blogspot.com/-6CRJhwaRNxU/XIOSEdAV-MI/AAAAAAAAIPY/5H618uiermodQEtVlNTCH_fElLMRT_ZmgCLcBGAs/s530/7.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;내외부를 감시하는 Snort가 각각 다른 경로에 떨군 탐지로그를 서로 다른 Barnyard2가 각각 읽어들여 하나의 DB에 임포트. 번잡하다, 번잡해(..)&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-LaDeJZGuee0/XIOWq15sw_I/AAAAAAAAIPs/v38alTHT7CUQHUM5xUrZ3866i1Qd9MweQCLcBGAs/s1600/8.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;673&quot; data-original-width=&quot;1280&quot; src=&quot;https://3.bp.blogspot.com/-LaDeJZGuee0/XIOWq15sw_I/AAAAAAAAIPs/v38alTHT7CUQHUM5xUrZ3866i1Qd9MweQCLcBGAs/s530/8.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;b&gt;관련 글&lt;/b&gt;&lt;br /&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://kangmyounghun.blogspot.com/2018/01/centos7-mysql7-snort.html&quot; target=&quot;_blank&quot;&gt;snort + barnyard2 + mysql7 install script&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content><link rel='replies' type='application/atom+xml' href='http://kangmyounghun.blogspot.com/feeds/2188534407522426875/comments/default' title='댓글'/><link rel='replies' type='text/html' href='http://kangmyounghun.blogspot.com/2019/03/snortmulti-source-one-db.html#comment-form' title='0개의 덧글'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/2597780270996323853/posts/default/2188534407522426875'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/2597780270996323853/posts/default/2188534407522426875'/><link rel='alternate' type='text/html' href='http://kangmyounghun.blogspot.com/2019/03/snortmulti-source-one-db.html' title='간만에 Snort(multi source one db)'/><author><name>강명훈</name><uri>http://www.blogger.com/profile/04275122278203538865</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='//2.bp.blogspot.com/-2J7aNgScC8M/XGF81HaO4bI/AAAAAAAAIIU/lVc7T4qiyuIhSZ3tDNlhTW0Lspu2fA2jwCK4BGAYYCw/s72/kmh.jpg'/></author><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://3.bp.blogspot.com/-Zk25YzXWbA8/XIOBDQyy3KI/AAAAAAAAIOg/-30qc4qhgKcaD26DRBJhTgho9O-vEz-BACLcBGAs/s72-c/0.png" height="72" width="72"/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-2597780270996323853.post-4771698718081434276</id><published>2019-03-03T21:07:00.001+09:00</published><updated>2019-03-08T00:57:45.049+09:00</updated><category scheme="http://www.blogger.com/atom/ns#" term="tech"/><title type='text'>Watcher 맛보기 - 2nd</title><content type='html'>이메일로 알림을 보내보자.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-wS0ELJN4Kqw/XHupHDCVjWI/AAAAAAAAIOE/BHpxGvpd-ZYJT59LJsIpDegjw0cYJbuGACEwYBhgL/s1600/5.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;682&quot; data-original-width=&quot;1280&quot; src=&quot;https://3.bp.blogspot.com/-wS0ELJN4Kqw/XHupHDCVjWI/AAAAAAAAIOE/BHpxGvpd-ZYJT59LJsIpDegjw0cYJbuGACEwYBhgL/s530/5.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;/div&gt;&lt;br /&gt;&lt;a name=&#39;more&#39;&gt;&lt;/a&gt;다음은 지메일 사용을 위한 elasticsearch.yml 설정.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-dCtKJtUD_RY/XHuoFVVxSbI/AAAAAAAAIN8/ii4ufXLC3yY-lYQLyRhGi9cI0MxHLctMgCEwYBhgL/s1600/2.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;592&quot; data-original-width=&quot;1145&quot; src=&quot;https://2.bp.blogspot.com/-dCtKJtUD_RY/XHuoFVVxSbI/AAAAAAAAIN8/ii4ufXLC3yY-lYQLyRhGi9cI0MxHLctMgCEwYBhgL/s530/2.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-iqsL3d9nn_A/XHuoFX7xRQI/AAAAAAAAINs/kHd9wWdUOaYnrQPN4MCo5DQAgOPzmzKygCLcBGAs/s1600/1.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;720&quot; data-original-width=&quot;1146&quot; src=&quot;https://2.bp.blogspot.com/-iqsL3d9nn_A/XHuoFX7xRQI/AAAAAAAAINs/kHd9wWdUOaYnrQPN4MCo5DQAgOPzmzKygCLcBGAs/s530/1.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;&lt;b&gt;&lt;a href=&quot;https://www.elastic.co/guide/en/elastic-stack-overview/6.6/actions-email.html#gmail&quot; target=&quot;_blank&quot;&gt;링크&lt;/a&gt;&lt;/b&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;참고로 지메일로 알림을 보내기 위해서는 &#39;보안 수준이 낮은 앱의 액세스&#39;를 허용해줘야 한다(..)&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-J2Dz-X1rY60/XHuoFcO-5vI/AAAAAAAAINo/xNI9aa48O_If989_AhSLX_Xif5aTaF0TACLcBGAs/s1600/3.png&quot; imageanchor=&quot;1&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;851&quot; data-original-width=&quot;1600&quot; src=&quot;https://3.bp.blogspot.com/-J2Dz-X1rY60/XHuoFcO-5vI/AAAAAAAAINo/xNI9aa48O_If989_AhSLX_Xif5aTaF0TACLcBGAs/s530/3.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;슬랙 연동은 다음 설정 참고.&lt;br /&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-6HJYvY5phqQ/XHuoGdIBTFI/AAAAAAAAINw/7B239qlJ43kBHH45zBSqhwrla1ZWjHPLQCLcBGAs/s1600/4.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;641&quot; data-original-width=&quot;1151&quot; src=&quot;https://4.bp.blogspot.com/-6HJYvY5phqQ/XHuoGdIBTFI/AAAAAAAAINw/7B239qlJ43kBHH45zBSqhwrla1ZWjHPLQCLcBGAs/s530/4.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;&lt;b&gt;&lt;a href=&quot;https://www.elastic.co/guide/en/elastic-stack-overview/6.6/actions-slack.html&quot; target=&quot;_blank&quot;&gt;링크&lt;/a&gt;&lt;/b&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;근데 슬랙은 써보질 않아서 그런지 뭔가 많이 낯설더라. 그냥 Watcher 알림 수신용 지메일 계정 하나 만들어서 알림 설정 하는 게 편할 듯.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-BTWYJ5AtCes/XIE-K5F07TI/AAAAAAAAIOU/KcDZQJSsnmMP4lffPrG07STW2obPNt8sQCLcBGAs/s1600/11.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;1150&quot; data-original-width=&quot;676&quot; height=&quot;400&quot; src=&quot;https://3.bp.blogspot.com/-BTWYJ5AtCes/XIE-K5F07TI/AAAAAAAAIOU/KcDZQJSsnmMP4lffPrG07STW2obPNt8sQCLcBGAs/s400/11.png&quot; width=&quot;233&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;카카오톡도 지원해주면 좋겠지만 안 해주겠지?&lt;br /&gt;&lt;br /&gt;&lt;b&gt;관련 글&lt;/b&gt;&lt;br /&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://kangmyounghun.blogspot.com/2019/02/watcher.html&quot; target=&quot;_blank&quot;&gt;Watcher 맛보기&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content><link rel='replies' type='application/atom+xml' href='http://kangmyounghun.blogspot.com/feeds/4771698718081434276/comments/default' title='댓글'/><link rel='replies' type='text/html' href='http://kangmyounghun.blogspot.com/2019/03/watcher-2nd.html#comment-form' title='0개의 덧글'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/2597780270996323853/posts/default/4771698718081434276'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/2597780270996323853/posts/default/4771698718081434276'/><link rel='alternate' type='text/html' href='http://kangmyounghun.blogspot.com/2019/03/watcher-2nd.html' title='Watcher 맛보기 - 2nd'/><author><name>강명훈</name><uri>http://www.blogger.com/profile/04275122278203538865</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='//2.bp.blogspot.com/-2J7aNgScC8M/XGF81HaO4bI/AAAAAAAAIIU/lVc7T4qiyuIhSZ3tDNlhTW0Lspu2fA2jwCK4BGAYYCw/s72/kmh.jpg'/></author><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://3.bp.blogspot.com/-wS0ELJN4Kqw/XHupHDCVjWI/AAAAAAAAIOE/BHpxGvpd-ZYJT59LJsIpDegjw0cYJbuGACEwYBhgL/s72-c/5.png" height="72" width="72"/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-2597780270996323853.post-2965569510756862058</id><published>2019-02-24T20:23:00.000+09:00</published><updated>2019-03-03T21:09:57.247+09:00</updated><category scheme="http://www.blogger.com/atom/ns#" term="tech"/><title type='text'>Watcher 맛보기</title><content type='html'>엘라스틱 플래티넘 기능 중 꽤 요긴해보이는 Watcher를 사용해보자. 먼저 threshold alert.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-S8WvBIuLAWc/XHJ2K-Vi-xI/AAAAAAAAIME/63cHyFLK5KMvCtnHxTEvw7UyWNqfLGkhgCLcBGAs/s1600/1.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;942&quot; data-original-width=&quot;1600&quot; src=&quot;https://2.bp.blogspot.com/-S8WvBIuLAWc/XHJ2K-Vi-xI/AAAAAAAAIME/63cHyFLK5KMvCtnHxTEvw7UyWNqfLGkhgCLcBGAs/s530/1.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;a name=&#39;more&#39;&gt;&lt;/a&gt;auditbeat-* 인덱스를 대상으로 1분 단위 스케줄을 걸고,&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-4oFEFDelR70/XHJ2NErZj6I/AAAAAAAAIMc/o4werac6nYMaM5dwhgvsc9d_6lKELBb5ACLcBGAs/s1600/2.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;943&quot; data-original-width=&quot;1600&quot; src=&quot;https://1.bp.blogspot.com/-4oFEFDelR70/XHJ2NErZj6I/AAAAAAAAIMc/o4werac6nYMaM5dwhgvsc9d_6lKELBb5ACLcBGAs/s530/2.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;최근 1분 동안 10개 이상의 로그가 발생하면 알림을 띄우도록 설정.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-T7iJi726nvo/XHJ2NDV8r_I/AAAAAAAAIMg/F2GBUVbnoTcOJ31EYVrphCE8FY1aKToZwCLcBGAs/s1600/3.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;943&quot; data-original-width=&quot;1600&quot; src=&quot;https://2.bp.blogspot.com/-T7iJi726nvo/XHJ2NDV8r_I/AAAAAAAAIMg/F2GBUVbnoTcOJ31EYVrphCE8FY1aKToZwCLcBGAs/s530/3.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-KaTly7oMEkk/XHJ2Njpo5NI/AAAAAAAAIMk/yHQCFuQeFbgTvEZgQhg-G2RDcW7-8-kFQCLcBGAs/s1600/4.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;942&quot; data-original-width=&quot;1600&quot; src=&quot;https://1.bp.blogspot.com/-KaTly7oMEkk/XHJ2Njpo5NI/AAAAAAAAIMk/yHQCFuQeFbgTvEZgQhg-G2RDcW7-8-kFQCLcBGAs/s530/4.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;생성된 Watcher의 ID를 클릭하면 모니터링 상황을 볼 수 있다.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-5zkQd1OXUd0/XHJ2NztWm_I/AAAAAAAAIMo/9EZ0e46b7NEiixes7vHoKODloQED38VXgCLcBGAs/s1600/5.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;942&quot; data-original-width=&quot;1600&quot; src=&quot;https://2.bp.blogspot.com/-5zkQd1OXUd0/XHJ2NztWm_I/AAAAAAAAIMo/9EZ0e46b7NEiixes7vHoKODloQED38VXgCLcBGAs/s530/5.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;OK는 Watcher 실행, Firing은 알림 조건인 10개 이상의 로그 발생을 의미.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-74RhZgQvtZs/XHJ2OUhNYBI/AAAAAAAAIMw/Iha5ecPh8tEzJl0rNRVElznUQgsW_O3TwCLcBGAs/s1600/7.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;943&quot; data-original-width=&quot;1600&quot; src=&quot;https://2.bp.blogspot.com/-74RhZgQvtZs/XHJ2OUhNYBI/AAAAAAAAIMw/Iha5ecPh8tEzJl0rNRVElznUQgsW_O3TwCLcBGAs/s530/7.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/--dxSl0iP1FI/XHJ2N3-ExTI/AAAAAAAAIMs/EB7lTaLRanEMJ1VJ6de11wOGDx8CMy4kgCLcBGAs/s1600/6.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;720&quot; data-original-width=&quot;1228&quot; src=&quot;https://4.bp.blogspot.com/--dxSl0iP1FI/XHJ2N3-ExTI/AAAAAAAAIMs/EB7lTaLRanEMJ1VJ6de11wOGDx8CMy4kgCLcBGAs/s530/6.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;b&gt;&lt;span style=&quot;font-size: x-large;&quot;&gt;정밀한 조건은 advanced watch로&lt;/span&gt;&lt;/b&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;/div&gt;&lt;br /&gt;스케줄링은 1분 단위.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-V17fc3zhtmE/XHJ2OyxrwCI/AAAAAAAAIM4/U5BLWA6HMkgF3BIcZF6eugknMDV-I1SqQCLcBGAs/s1600/9.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;720&quot; data-original-width=&quot;1224&quot; src=&quot;https://3.bp.blogspot.com/-V17fc3zhtmE/XHJ2OyxrwCI/AAAAAAAAIM4/U5BLWA6HMkgF3BIcZF6eugknMDV-I1SqQCLcBGAs/s530/9.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;모니터링 조건은 최근 1분 동안 발생한 root 계정.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-B0rsCr3KbU0/XHJ2KxutFgI/AAAAAAAAIMI/GsMSGo_fPIEm9_yCRDqgRqV7G1eIIyvTACLcBGAs/s1600/10.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;720&quot; data-original-width=&quot;1223&quot; src=&quot;https://2.bp.blogspot.com/-B0rsCr3KbU0/XHJ2KxutFgI/AAAAAAAAIMI/GsMSGo_fPIEm9_yCRDqgRqV7G1eIIyvTACLcBGAs/s530/10.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://kangmyounghun.blogspot.com/2018/12/query-dsl.html&quot; target=&quot;_blank&quot;&gt;Query DSL 맛보기&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;br /&gt;모니터링 대상 인덱스는 audit*.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-NnSLQdWFqGQ/XHJ2K2TypKI/AAAAAAAAIMA/KANv8csdMM0FysDNrJoI_KmmK--m5oauACLcBGAs/s1600/11.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;720&quot; data-original-width=&quot;1223&quot; src=&quot;https://2.bp.blogspot.com/-NnSLQdWFqGQ/XHJ2K2TypKI/AAAAAAAAIMA/KANv8csdMM0FysDNrJoI_KmmK--m5oauACLcBGAs/s530/11.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;root 계정에 의한 로그 발생이 1개 이상이면 알림을 띄우도록 설정.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-DbotwMjegyI/XHJ2L1ce2qI/AAAAAAAAIMM/Q9Iz_JcGGrk0B_sGulK2HY6ALkbzUirIACLcBGAs/s1600/12.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;720&quot; data-original-width=&quot;1224&quot; src=&quot;https://4.bp.blogspot.com/-DbotwMjegyI/XHJ2L1ce2qI/AAAAAAAAIMM/Q9Iz_JcGGrk0B_sGulK2HY6ALkbzUirIACLcBGAs/s530/12.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-FQxkpwJJr3g/XHJ2MBgFreI/AAAAAAAAIMQ/z0_488ts4OkYT4PLQ89wrDlib8WRsk4bQCLcBGAs/s1600/13.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;942&quot; data-original-width=&quot;1600&quot; src=&quot;https://1.bp.blogspot.com/-FQxkpwJJr3g/XHJ2MBgFreI/AAAAAAAAIMQ/z0_488ts4OkYT4PLQ89wrDlib8WRsk4bQCLcBGAs/s530/13.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;잘 된다.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-ajcn2kXk0zA/XHJ2MrPCmWI/AAAAAAAAIMY/mqs0eLJ-I0QElKozkOQSqzTdjBQz6MqmACLcBGAs/s1600/15.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;942&quot; data-original-width=&quot;1600&quot; src=&quot;https://1.bp.blogspot.com/-ajcn2kXk0zA/XHJ2MrPCmWI/AAAAAAAAIMY/mqs0eLJ-I0QElKozkOQSqzTdjBQz6MqmACLcBGAs/s530/15.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-LWEvJTFrdYY/XHJ2MOH1l2I/AAAAAAAAIMU/DZ3l0vO3oyEwQOP-kst11pxOCjOFfZNaACLcBGAs/s1600/14.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;720&quot; data-original-width=&quot;1228&quot; src=&quot;https://3.bp.blogspot.com/-LWEvJTFrdYY/XHJ2MOH1l2I/AAAAAAAAIMU/DZ3l0vO3oyEwQOP-kst11pxOCjOFfZNaACLcBGAs/s530/14.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;더 자세한 내용은 &lt;a href=&quot;https://www.elastic.co/guide/en/elastic-stack-overview/6.6/watcher-getting-started.html#&quot; target=&quot;_blank&quot;&gt;여기&lt;/a&gt;를&amp;nbsp;참고.&lt;br /&gt;&lt;br /&gt;&lt;b&gt;관련 글&lt;/b&gt;&lt;br /&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://kangmyounghun.blogspot.com/2019/03/watcher-2nd.html&quot; target=&quot;_blank&quot;&gt;Watcher 맛보기 - 2nd&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content><link rel='replies' type='application/atom+xml' href='http://kangmyounghun.blogspot.com/feeds/2965569510756862058/comments/default' title='댓글'/><link rel='replies' type='text/html' href='http://kangmyounghun.blogspot.com/2019/02/watcher.html#comment-form' title='0개의 덧글'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/2597780270996323853/posts/default/2965569510756862058'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/2597780270996323853/posts/default/2965569510756862058'/><link rel='alternate' type='text/html' href='http://kangmyounghun.blogspot.com/2019/02/watcher.html' title='Watcher 맛보기'/><author><name>강명훈</name><uri>http://www.blogger.com/profile/04275122278203538865</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='//2.bp.blogspot.com/-2J7aNgScC8M/XGF81HaO4bI/AAAAAAAAIIU/lVc7T4qiyuIhSZ3tDNlhTW0Lspu2fA2jwCK4BGAYYCw/s72/kmh.jpg'/></author><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://2.bp.blogspot.com/-S8WvBIuLAWc/XHJ2K-Vi-xI/AAAAAAAAIME/63cHyFLK5KMvCtnHxTEvw7UyWNqfLGkhgCLcBGAs/s72-c/1.png" height="72" width="72"/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-2597780270996323853.post-2196499082797858043</id><published>2019-02-17T21:48:00.000+09:00</published><updated>2019-02-23T13:05:25.641+09:00</updated><category scheme="http://www.blogger.com/atom/ns#" term="tech"/><title type='text'>Logstash 필터 translate</title><content type='html'>로그스태시는 다양한 문자열 치환 기능 필터를 제공하는데,&amp;nbsp;&lt;a href=&quot;https://kangmyounghun.blogspot.com/2018/10/logstash-ruby-2nd.html&quot; target=&quot;_blank&quot;&gt;ruby 필터&lt;/a&gt;를 이용하면 다음과 같은 문자열 치환이 가능하다.&lt;br /&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;pre&gt;&lt;code&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;filter {&lt;br /&gt;  ruby {&lt;br /&gt;    code =&amp;gt; &#39;&lt;br /&gt;      num = 0&lt;br /&gt;      for i in [&quot;system_start&quot;,&quot;unknown&quot;,&quot;interactive&quot;,&quot;network&quot;,&quot;batch&quot;,&quot;service&quot;,&quot;unknown&quot;,&quot;unlock&quot;,&quot;network_cleartext&quot;,&quot;new_credentials&quot;,&quot;rdp&quot;,&quot;cache_interactive&quot;]&lt;br /&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;        &lt;/span&gt;if event.get(&quot;[event_data][LogonType]&quot;).match(&quot;#{num}&quot;)&lt;br /&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;          &lt;/span&gt;event.set(&quot;logon_type&quot;,&quot;#{i}&quot;)&lt;br /&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;        &lt;/span&gt;end&lt;br /&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;        &lt;/span&gt;num += 1&lt;br /&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;      &lt;/span&gt;end&lt;br /&gt;    &#39;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;&lt;br /&gt;  }&lt;br /&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;a name=&#39;more&#39;&gt;&lt;/a&gt;&lt;a href=&quot;http://kangmyounghun.blogspot.com/2017/07/logstash-mutate.html&quot; target=&quot;_blank&quot;&gt;mutate 필터&lt;/a&gt;와는 차원이 다른 우아함.&lt;/div&gt;&lt;br /&gt;&lt;pre&gt;&lt;code&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;filter {&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;&lt;br /&gt;  if [event_data][LogonType] == &quot;0&quot; {&lt;br /&gt;    mutate { replace =&amp;gt; { &quot;[event_data][LogonType]&quot; =&amp;gt; &quot;system_start&quot; } }&lt;br /&gt;  }&lt;br /&gt;&lt;br /&gt;  if [event_data][LogonType] == &quot;2&quot; {&lt;br /&gt;    mutate { replace =&amp;gt; { &quot;[event_data][LogonType]&quot; =&amp;gt; &quot;interactive&quot; } }&lt;br /&gt;  }&lt;br /&gt;&lt;br /&gt;  if [event_data][LogonType] == &quot;3&quot; {&lt;br /&gt;    mutate { replace =&amp;gt; { &quot;[event_data][LogonType]&quot; =&amp;gt; &quot;network&quot; } }&lt;br /&gt;  }&lt;br /&gt;&lt;br /&gt;  if [event_data][LogonType] == &quot;4&quot; {&lt;br /&gt;    mutate { replace =&amp;gt; { &quot;[event_data][LogonType]&quot; =&amp;gt; &quot;batch&quot; } }&lt;br /&gt;  }&lt;br /&gt;&lt;br /&gt;  if [event_data][LogonType] == &quot;5&quot; {&lt;br /&gt;    mutate { replace =&amp;gt; { &quot;[event_data][LogonType]&quot; =&amp;gt; &quot;service&quot; } }&lt;br /&gt;  }&lt;br /&gt;&lt;br /&gt;  if [event_data][LogonType] == &quot;7&quot; {&lt;br /&gt;    mutate { replace =&amp;gt; { &quot;[event_data][LogonType]&quot; =&amp;gt; &quot;unlock&quot; } }&lt;br /&gt;  }&lt;br /&gt;&lt;br /&gt;  if [event_data][LogonType] == &quot;8&quot; {&lt;br /&gt;    mutate { replace =&amp;gt; { &quot;[event_data][LogonType]&quot; =&amp;gt; &quot;network_cleartext&quot; } }&lt;br /&gt;  }&lt;br /&gt;&lt;br /&gt;  if [event_data][LogonType] == &quot;9&quot; {&lt;br /&gt;    mutate { replace =&amp;gt; { &quot;[event_data][LogonType]&quot; =&amp;gt; &quot;new_credentials&quot; } }&lt;br /&gt;  }&lt;br /&gt;&lt;br /&gt;  if [event_data][LogonType] == &quot;10&quot; {&lt;br /&gt;    mutate { replace =&amp;gt; { &quot;[event_data][LogonType]&quot; =&amp;gt; &quot;rdp&quot; } }&lt;br /&gt;  }&lt;br /&gt;&lt;br /&gt;  if [event_data][LogonType] == &quot;11&quot; {&lt;br /&gt;    mutate { replace =&amp;gt; { &quot;[event_data][LogonType]&quot; =&amp;gt; &quot;cache_interactive&quot; } }&lt;br /&gt;  }&lt;br /&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;br /&gt;&lt;div&gt;그런데 mutate는 번거롭고 ruby는 익숙치 않다면? 이때&amp;nbsp;&lt;a href=&quot;https://www.elastic.co/guide/en/logstash/current/plugins-filters-translate.html&quot; target=&quot;_blank&quot;&gt;translate 필터&lt;/a&gt;&amp;nbsp;추천.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;pre&gt;&lt;code&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;translate {&lt;br /&gt;&amp;nbsp;field =&amp;gt; &quot;[event_data][LogonType]&quot;&lt;br /&gt;&amp;nbsp;destination =&amp;gt; &quot;[event_data][LogonType]&quot;&lt;br /&gt;&amp;nbsp;dictionary =&amp;gt; [&lt;br /&gt;&amp;nbsp; &quot;0&quot;, &quot;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;system_start&lt;/span&gt;&quot;,&lt;br /&gt;&amp;nbsp; &quot;2&quot;, &quot;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;interactive&lt;/span&gt;&quot;,&lt;br /&gt;&amp;nbsp; &quot;3&quot;, &quot;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;network&lt;/span&gt;&quot;,&lt;br /&gt;&amp;nbsp; &quot;4&quot;, &quot;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;batch&lt;/span&gt;&quot;,&lt;br /&gt;&amp;nbsp; &quot;5&quot;, &quot;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;service&lt;/span&gt;&quot;,&lt;br /&gt;&amp;nbsp; &quot;7&quot;, &quot;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;unlock&lt;/span&gt;&quot;,&lt;br /&gt;&amp;nbsp; &quot;8&quot;, &quot;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;network_cleartext&lt;/span&gt;&quot;,&lt;br /&gt;&amp;nbsp; &quot;9&quot;, &quot;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;new_credentials&lt;/span&gt;&quot;,&lt;br /&gt;&amp;nbsp; &quot;10&quot;, &quot;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;rdp&lt;/span&gt;&quot;,&lt;br /&gt;&amp;nbsp; &quot;11&quot;, &quot;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;cache_interactive&lt;/span&gt;&quot;&lt;br /&gt;&amp;nbsp; ]&lt;br /&gt;&amp;nbsp;override =&amp;gt; true&lt;br /&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;br /&gt;기존 필드를 덮어씌우려면 &#39;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;override =&amp;gt; true&lt;/span&gt;&#39; 옵션은 필수.&lt;br /&gt;&lt;br /&gt;&lt;b style=&quot;font-family: inherit;&quot;&gt;관련&amp;nbsp;글&lt;/b&gt;&lt;br /&gt;&lt;ul&gt;&lt;li&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;&lt;a href=&quot;http://kangmyounghun.blogspot.com/2017/06/elasticsearch-grok.html&quot; target=&quot;_blank&quot;&gt;Logstash 필터 grok&lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;&lt;a href=&quot;http://kangmyounghun.blogspot.com/2017/07/logstash-mutate.html&quot; target=&quot;_blank&quot;&gt;Logstash 필터 mutate&lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;&lt;a href=&quot;http://kangmyounghun.blogspot.kr/2017/10/logstash-ruby.html&quot; target=&quot;_blank&quot;&gt;Logstash 필터 ruby&lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;&lt;a href=&quot;http://kangmyounghun.blogspot.kr/2018/02/logstash-geoip.html&quot; target=&quot;_blank&quot;&gt;Logstash 필터&amp;nbsp;geoip&lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;&lt;a href=&quot;http://kangmyounghun.blogspot.kr/2018/04/logstash-dissect.html&quot; target=&quot;_blank&quot;&gt;Logstash 필터 dissect&lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;http://kangmyounghun.blogspot.com/2018/09/logstash-kv.html&quot; target=&quot;_blank&quot;&gt;Logstash 필터&amp;nbsp;kv&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;</content><link rel='replies' type='application/atom+xml' href='http://kangmyounghun.blogspot.com/feeds/2196499082797858043/comments/default' title='댓글'/><link rel='replies' type='text/html' href='http://kangmyounghun.blogspot.com/2019/02/logstash-translate.html#comment-form' title='0개의 덧글'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/2597780270996323853/posts/default/2196499082797858043'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/2597780270996323853/posts/default/2196499082797858043'/><link rel='alternate' type='text/html' href='http://kangmyounghun.blogspot.com/2019/02/logstash-translate.html' title='Logstash 필터 translate'/><author><name>강명훈</name><uri>http://www.blogger.com/profile/04275122278203538865</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='//2.bp.blogspot.com/-2J7aNgScC8M/XGF81HaO4bI/AAAAAAAAIIU/lVc7T4qiyuIhSZ3tDNlhTW0Lspu2fA2jwCK4BGAYYCw/s72/kmh.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-2597780270996323853.post-8693677867513604901</id><published>2019-02-11T22:40:00.000+09:00</published><updated>2019-04-05T18:20:53.608+09:00</updated><category scheme="http://www.blogger.com/atom/ns#" term="book"/><title type='text'>모두 거짓말을 한다</title><content type='html'>&lt;div class=&quot;separator tr_bq&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-P4tFnyc7aTw/XF7VP7wOPOI/AAAAAAAAIHg/kg_y2UcMA0MXYNo1Z-7JfVD_YrB_lL-egCLcBGAs/s1600/187386112.jpg&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;1200&quot; data-original-width=&quot;848&quot; height=&quot;320&quot; src=&quot;https://4.bp.blogspot.com/-P4tFnyc7aTw/XF7VP7wOPOI/AAAAAAAAIHg/kg_y2UcMA0MXYNo1Z-7JfVD_YrB_lL-egCLcBGAs/s320/187386112.jpg&quot; width=&quot;226&quot; /&gt;&lt;/a&gt;&lt;/div&gt;(간만의 북리뷰. 짜임새가 탄탄할수록 리뷰가 잘 써진다. 고로 한동안 리뷰가 뜸했던 이유는 &lt;strike&gt;내가 게을러서가 아니라&lt;/strike&gt; 책들이 잘못한 거임. 이 책도 음.. 아니다)&lt;br /&gt;&lt;br /&gt;구글 트렌드로 미국 지역별 인종차별 성향의 실체를 밝혔다가 구글에 채용됐다는 세스 스티븐스 다비도위츠의 2017년 저서.&lt;br /&gt;&lt;br /&gt;제목에 끌려서 골랐는데 구글 검색 데이터가 사람들 예측에 유용하다는, 그리 새롭지는 않은 내용.&lt;br /&gt;&lt;br /&gt;대신 저자 유머 코드가 나랑 좀 맞아서 지루하지 않게 읽을 수 있었다(..) 이 책은 저자가 &lt;a href=&quot;http://trends.google.com/&quot; target=&quot;_blank&quot;&gt;구글 트렌드&lt;/a&gt;로 인종차별 지도를 그리면서 시작한다.&lt;br /&gt;&lt;br /&gt;2008년 버락 오바마의 대통령 당선은 유구했던 미국 인종차별주의 퇴색의 방증이라는 의견이 많았었다.&lt;br /&gt;&lt;br /&gt;&lt;a name=&#39;more&#39;&gt;&lt;/a&gt;그런데 웬걸, 같은 기대를 했던 저자가 구글 검색어를 뒤져보니&lt;br /&gt;&lt;i&gt;&lt;/i&gt;&lt;br /&gt;&lt;blockquote class=&quot;tr_bq&quot; style=&quot;text-align: center;&quot;&gt;&lt;i&gt;구글 트렌드에 처음 &#39;깜둥이&#39;를 입력해봤을 때가 기억난다... 그 말이 얼마나 모욕적인가를 고려했을 때 나는 검색량이 적으리라고 생각했다. 틀린 생각이었다.&lt;/i&gt;&amp;nbsp;(18페이지)&lt;/blockquote&gt;&lt;br /&gt;그렇게 그려진 인종차별 지도는 트럼프의 정치적 성공을 설명하는 데도 유용했다고.&lt;br /&gt;&lt;br /&gt;&lt;blockquote class=&quot;tr_bq&quot;&gt;&lt;div style=&quot;text-align: center;&quot;&gt;&lt;i&gt;트럼프의 지지율이 높은 지역은 &#39;깜둥이&#39;라는 구글 검색이 가장 많았던 지역&lt;/i&gt;&amp;nbsp;(25페이지)&lt;/div&gt;&lt;/blockquote&gt;&lt;div style=&quot;text-align: center;&quot;&gt;&lt;br /&gt;&lt;/div&gt;기존 언론은 물론 선거 결과 잘 맞추기로 소문난 네이트 실버조차 (타 언론보다 트럼프의 승률을 더 높게 예상했음에도) 당선까지는 예상하지 못했다.&lt;br /&gt;&lt;br /&gt;&lt;blockquote class=&quot;tr_bq&quot;&gt;&lt;div style=&quot;text-align: center;&quot;&gt;&lt;i&gt;&lt;a href=&quot;http://magazine.hankyung.com/business/apps/news?popup=0&amp;amp;nid=01&amp;amp;c1=1013&amp;amp;nkey=2016121201098000341&amp;amp;mode=sub_view&quot; target=&quot;_blank&quot;&gt;뉴욕타임스는 선거일 전날 클린턴의 당선 확률이 85%라고 발표했고 CNN도 91%의 확률로 클린턴이 이길 것이라고 추정했다. 지난 대선 결과를 맞혀 스타덤에 오른 네이트 실버도 클린턴의 승리 확률이 71%라고 주장&lt;/a&gt;&lt;/i&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;br /&gt;한창 줏가를 올리던 빅데이터로 무장한 그들은 왜 틀렸을까?&lt;br /&gt;&lt;br /&gt;&lt;b&gt;&lt;span style=&quot;font-size: x-large;&quot;&gt;사람들은 거짓말을 한다&lt;/span&gt;&lt;/b&gt;&lt;br /&gt;&lt;br /&gt;저자는 사람들의 생각이나 행동을 예측하기 위해 데이터를 수집하는 과정에 근본적인 문제가 있다고 얘기한다. 선의나 평판을 목적으로 사람들이 너무 쉽게 거짓말을 한다는 것.&lt;br /&gt;&lt;br /&gt;사람들은 대부분 자신이 도덕적으로 바람직한 사람으로 비춰지기를 바란다. 상당한 배짱 아니고는 비도덕적, 저급한 언사 및 인물 등에 대한 동조 의사를 드러내지 않는다는 얘기.&lt;br /&gt;&lt;br /&gt;어떻게 하면 진실을 말하게 할 수 있을까? 익명성을 제공해주면 된다. 사람이 아닌, 벽에다 대고 얘기하는 거라고 믿게 해주면 된다. 그것이 바로 검색창.&lt;br /&gt;&lt;br /&gt;&lt;blockquote class=&quot;tr_bq&quot;&gt;&lt;div style=&quot;text-align: center;&quot;&gt;&lt;i&gt;사람들은 친구, 연인, 의사, 설문조사원은 물론 자기 자신에게도 거짓말을 한다. 하지만 구글에서는 섹스 없는 결혼생활, 정신건강 문제, 불안감, 흑인을 향한 적대감에 관해 다른 곳에서는 내놓기 힘든 정보를 공유한다.&lt;/i&gt;&amp;nbsp;(35페이지)&lt;/div&gt;&lt;/blockquote&gt;&lt;br /&gt;공감한다. 최근에 지극히 개인적인, 남과 공유하기엔 솔직히 꺼림칙한 키워드인 &#39;똥 굵기&#39;를 망설이지 않고 검색한 적이 있다. 배가 자꾸 나와서 저녁량을 줄였더니 그런 게 궁금해지더라(..) 저녁량 늘리면 뱃살과 함께 바로 원상복귀 -_-&lt;br /&gt;&lt;br /&gt;검색창은 사람(?)이 아니니 나를 모를 거라는 기대, 내 검색이 나로 특징지어지지 않을 거라는 막연한 기대가 있기에 가능한 일. 누구나 비슷한 경험 한 번쯤은 있지 않을까?&lt;br /&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-u-Qzx8awP-g/XF-ynmxAiQI/AAAAAAAAIH4/RLNeLb_luVkNbRNJT5M4OLmMVic91BZjACLcBGAs/s1600/1.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;896&quot; data-original-width=&quot;1600&quot; src=&quot;https://4.bp.blogspot.com/-u-Qzx8awP-g/XF-ynmxAiQI/AAAAAAAAIH4/RLNeLb_luVkNbRNJT5M4OLmMVic91BZjACLcBGAs/s530/1.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;&lt;b&gt;&lt;a href=&quot;http://youtu.be/4ymo2hdRuQg&quot; target=&quot;_blank&quot;&gt;정하웅 교수가 이미 2014년에 다 한 말&lt;/a&gt;&lt;/b&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;/div&gt;&lt;br /&gt;결과적으로 검색 데이터는 나보다 더 나를 속속들이 잘 알고 있을 수 있다. &lt;strike&gt;빅브라더 탄생 그래도 사랑해 구글&lt;/strike&gt;&amp;nbsp;사람을 예측하는 데 이만한 데이터가 없다는 얘기.&lt;br /&gt;&lt;br /&gt;&lt;b&gt;&lt;span style=&quot;font-size: x-large;&quot;&gt;그래서 검색 데이터가 최고?&amp;nbsp;&lt;/span&gt;&lt;/b&gt;&lt;br /&gt;&lt;br /&gt;사실 트럼프 지지율이 높았던 지역이 흑인 비하 검색량도 높았다는 스토리는 너무 매력적이라 감히 반박할 엄두가 나지 않는다. 하지만 &#39;트럼프 지지자 = 인종차별주의자&#39;일까?&lt;br /&gt;&lt;br /&gt;성공한 사람들 중 노력하지 않은 사람은 없다. 그럼 노력하면 다 성공할 수 있을까? 로또에 당첨된 사람은 모두 로또를 샀으니, 나도 로또를 사면 당첨될 수 있을까? (네 이 책도 상관성과 인과성을 헷갈리지 말라는 얘기를 합니다.)&lt;br /&gt;&lt;br /&gt;&lt;blockquote class=&quot;tr_bq&quot;&gt;&lt;div style=&quot;text-align: center;&quot;&gt;&lt;i&gt;적절한 양의 알콜을 섭취하는 사람이 더 건강한 경향이 있다... 그것이 상관관계. 이것이 적절한 양의 술을 마시면 건강이 개선된다는 인과관계를 의미? 건강하기 때문에 적정한 양의 술을 마시는 것일 수도...&lt;/i&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;blockquote class=&quot;tr_bq&quot;&gt;&lt;div style=&quot;text-align: center;&quot;&gt;&lt;i&gt;적절한 음주와 건강 모두에 작용하는 독립 요인이 있을 수도 있다. 어쩌면 친구들과 많은 시간을 보내는 것이 적절한 알콜 소비와 건강으로 연결된 것일 수도...&lt;/i&gt;&amp;nbsp;(239페이지)&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br /&gt;하나의 현상에는 상호작용하는 수많은 변수와 함께 독립적으로 작용하는 변수도 존재할 수 있다. 결국 모든 변수의 관계를 모르는 상태에서 일부만 보고 전체를 판단하는 것은 그냥 운에 맡기는 것과 별반 다르지 않을 것이다. 그러니&lt;/div&gt;&lt;br /&gt;&lt;blockquote class=&quot;tr_bq&quot;&gt;&lt;div style=&quot;text-align: center;&quot;&gt;&lt;i&gt;자신의 연구에 대해 겸손해야 하고 자신이 찾아낸 결과와 사랑에 빠지지 말아야 한다&lt;/i&gt;&amp;nbsp;(287페이지)&lt;/div&gt;&lt;/blockquote&gt;&lt;br /&gt;음, 결국 연구자가 똘똘해야 한다는 얘기인가?-_- 결과를 계속 의심하면서 더 정확한 변수를 찾으라는 얘긴데 돈, 시간, 데이터도 받쳐줘야 하니 연구자만 똘똘해서 될 일은 아닌 듯(..)&lt;br /&gt;&lt;br /&gt;사람을 분석하는 건 참 어려운 일인 것 같다. 하긴 거짓말이라곤 1도 모르는 컴퓨터(IDS 넌 빼고) 분석도 어려워 쩔쩔 매는데 사람 분석하는 게 어디 쉬울까.&lt;br /&gt;&lt;br /&gt;&lt;b&gt;&lt;span style=&quot;font-size: x-large;&quot;&gt;나가며&lt;/span&gt;&lt;/b&gt;&lt;br /&gt;&lt;br /&gt;&lt;blockquote class=&quot;tr_bq&quot;&gt;&lt;span style=&quot;text-align: center;&quot;&gt;&quot;&lt;/span&gt;&lt;i style=&quot;text-align: center;&quot;&gt;마약 밀수업자를 100번 중 80번 정확하게 확인할 수 있는 모델을 구축할 수 있다면, 그 모델이 20퍼센트의 불행한 사람들을 끊임없이 괴롭힐 터...&amp;nbsp;&lt;/i&gt;&lt;i style=&quot;text-align: center;&quot;&gt;우리가 무엇을 계산하고 있으며 왜 그 계산을 하고 있는지에 대한 생각을 멈추지 말아야 한다&lt;/i&gt;&lt;span style=&quot;text-align: center;&quot;&gt;&quot; - &#39;&lt;a href=&quot;https://kangmyounghun.blogspot.com/2018/07/blog-post.html&quot; target=&quot;_blank&quot;&gt;벌거벗은 통계학&lt;/a&gt;&lt;/span&gt;&lt;span style=&quot;text-align: center;&quot;&gt;&#39;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;text-align: center;&quot;&gt;중&lt;/span&gt;&lt;/blockquote&gt;&lt;blockquote class=&quot;tr_bq&quot;&gt;&lt;span style=&quot;text-align: center;&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;text-align: center;&quot;&gt;&quot;&lt;/span&gt;&lt;i style=&quot;text-align: center;&quot;&gt;우리는 더 나은 가치를 알고리즘에 포함시키고, 윤리적 지표를 따르는 빅데이터 모형을 창조해야 한다. 그렇게 하려면 가끔은 이익보다 공정성을 우선시해야 한다.&lt;/i&gt;&lt;span style=&quot;text-align: center;&quot;&gt;&quot; -&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;text-align: center;&quot;&gt;&#39;&lt;/span&gt;&lt;a href=&quot;https://kangmyounghun.blogspot.com/2017/11/blog-post_26.html&quot; style=&quot;text-align: center;&quot; target=&quot;_blank&quot;&gt;대량살상 수학무기&lt;/a&gt;&lt;span style=&quot;text-align: center;&quot;&gt;&#39;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;text-align: center;&quot;&gt;중&lt;/span&gt;&lt;/blockquote&gt;&lt;div style=&quot;text-align: center;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;빅데이터 유행 이후 출간된 많은 책들이 빅데이터의 부작용을 경고한다. 이 책도 빅데이터 남용에 의한 비윤리를 걱정한다. 열 명의 범인을 놓치더라도 한 명의 무고한 죄인을 만들지는 말자는 얘기.&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;blockquote class=&quot;tr_bq&quot; style=&quot;text-align: center;&quot;&gt;&lt;i&gt;&lt;a href=&quot;http://techm.kr/bbs/board.php?bo_table=article&amp;amp;wr_id=4511&quot; target=&quot;_blank&quot;&gt;알고리즘은 가석방을 금지하거나 대출을 승인하는 등 사람들의 인생을 바꿀 수 있는 결정을 내린다&lt;/a&gt;&lt;/i&gt;&lt;/blockquote&gt;&lt;br /&gt;&lt;div style=&quot;text-align: left;&quot;&gt;그런데 잘 모르겠다. 십원 잃더라도 백원 벌 수 있다면 난 절대 망설이지 않을 것 같은데? 기억에 남는 문구를 남긴다.&lt;/div&gt;&lt;br /&gt;&lt;blockquote&gt;&lt;div style=&quot;text-align: center;&quot;&gt;&lt;i&gt;인간은 극적인 것에 강한 흥미를 느끼기 때문에 직관에 의지하면 판단이 흔들릴 수도 있다&lt;/i&gt;&amp;nbsp;(49페이지)&amp;nbsp;&lt;/div&gt;&lt;/blockquote&gt;&lt;blockquote&gt;&lt;div style=&quot;text-align: center;&quot;&gt;&lt;i&gt;사람들이 말하는 것을 믿지 말고 행동하는 것을 믿어라&lt;/i&gt;&amp;nbsp;(183페이지)&amp;nbsp;&lt;/div&gt;&lt;/blockquote&gt;&lt;blockquote&gt;&lt;div style=&quot;text-align: center;&quot;&gt;&lt;i&gt;검색 데이터는 성난 사람들을 가르치려 하면 오히려 분노가 커질 수 있다고 암시한다. 하지만 사람들의 호기심을 교묘하게 건드리고 그들이 분노하는 집단이 가진 새로운 이미지를 제시하면 그들의 생각을 좀 더 긍정적인 방향으로 바꿀 수 있다.&lt;/i&gt;&amp;nbsp;(190페이지)&amp;nbsp;&lt;/div&gt;&lt;/blockquote&gt;&lt;blockquote&gt;&lt;div style=&quot;text-align: center;&quot;&gt;&lt;i&gt;폭력적인 영화는 폭력성이 잠재된 사람들이 거리에 나가지 못하게 만든다&lt;/i&gt;&amp;nbsp;(224페이지)&amp;nbsp;&lt;/div&gt;&lt;/blockquote&gt;&lt;blockquote&gt;&lt;div style=&quot;text-align: center;&quot;&gt;&lt;i&gt;우리가 측정할 수 있는 것은 종종 우리가 관심을 갖고 마음을 쓰는 것과 일치하지 않는다&lt;/i&gt;&amp;nbsp;(291페이지)&lt;/div&gt;&lt;/blockquote&gt;&lt;br /&gt;보안장비 성능에 관심이 쏠리는 이유는 성능과 정확도가 정비례해서일까? 아니면 정확도를 측정하지 못해서일까? </content><link rel='replies' type='application/atom+xml' href='http://kangmyounghun.blogspot.com/feeds/8693677867513604901/comments/default' title='댓글'/><link rel='replies' type='text/html' href='http://kangmyounghun.blogspot.com/2019/02/blog-post_11.html#comment-form' title='0개의 덧글'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/2597780270996323853/posts/default/8693677867513604901'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/2597780270996323853/posts/default/8693677867513604901'/><link rel='alternate' type='text/html' href='http://kangmyounghun.blogspot.com/2019/02/blog-post_11.html' title='모두 거짓말을 한다'/><author><name>강명훈</name><uri>http://www.blogger.com/profile/04275122278203538865</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='//2.bp.blogspot.com/-2J7aNgScC8M/XGF81HaO4bI/AAAAAAAAIIU/lVc7T4qiyuIhSZ3tDNlhTW0Lspu2fA2jwCK4BGAYYCw/s72/kmh.jpg'/></author><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://4.bp.blogspot.com/-P4tFnyc7aTw/XF7VP7wOPOI/AAAAAAAAIHg/kg_y2UcMA0MXYNo1Z-7JfVD_YrB_lL-egCLcBGAs/s72-c/187386112.jpg" height="72" width="72"/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-2597780270996323853.post-7947831071892518659</id><published>2019-01-29T19:23:00.000+09:00</published><updated>2019-02-24T22:00:08.425+09:00</updated><category scheme="http://www.blogger.com/atom/ns#" term="tech"/><title type='text'>데이터 노가다 실수담</title><content type='html'>다음은 단골 강의 주제인 secure 로그 프로세스 발생 통계.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-1LauZzpe0G4/XE2v1c7KQxI/AAAAAAAAIEA/09KGEyiiwjUe-AG3iB13cmHcxgfrVD-RwCLcBGAs/s1600/2.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;438&quot; data-original-width=&quot;772&quot; src=&quot;https://4.bp.blogspot.com/-1LauZzpe0G4/XE2v1c7KQxI/AAAAAAAAIEA/09KGEyiiwjUe-AG3iB13cmHcxgfrVD-RwCLcBGAs/s530/2.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;a name=&#39;more&#39;&gt;&lt;/a&gt;발생한 프로세스의 종류는 6개.&amp;nbsp;&lt;a href=&quot;https://kangmyounghun.blogspot.com/2016/07/vim-4th.html&quot; target=&quot;_blank&quot;&gt;사전 분석&lt;/a&gt;&amp;nbsp;과정에서는 분명 7개였는데, sudo 프로세스 어디갔지?-_-&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-AE2xG_-7fG8/XE2v1KDh60I/AAAAAAAAID8/c0JLdh8eL-kfqAZVXBPuufQXTQtgfqXJACLcBGAs/s1600/1.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;383&quot; data-original-width=&quot;754&quot; src=&quot;https://4.bp.blogspot.com/-AE2xG_-7fG8/XE2v1KDh60I/AAAAAAAAID8/c0JLdh8eL-kfqAZVXBPuufQXTQtgfqXJACLcBGAs/s530/1.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;grok 필터에 사용된 정규표현식을 살펴봤다. login과 sshd 프로세스로만 테스트했구나. 그래도 다른 프로세스는 다 추출됐는데 왜 sudo만 빠졌을까?&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-PL32NElTzFo/XE26OhLxbRI/AAAAAAAAIEg/24xkjDieFC0pVbbLB5WXjJ2w0vumAQ2WgCLcBGAs/s1600/4.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;701&quot; data-original-width=&quot;1025&quot; src=&quot;https://4.bp.blogspot.com/-PL32NElTzFo/XE26OhLxbRI/AAAAAAAAIEg/24xkjDieFC0pVbbLB5WXjJ2w0vumAQ2WgCLcBGAs/s530/4.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;검사 대상에&amp;nbsp;sudo&amp;nbsp;프로세스도 포함시켜봤다. 다른 프로세스는 이어지는 문자열과 하나의 &#39;공백&#39;으로 구분되는데 sudo는 둘 이상의 &#39;공백&#39;으로 구분됨.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-uYan94IoXoM/XE297dQQz_I/AAAAAAAAIFE/FZsA9lgyzToFtcSw659JzuiU6nQgbsJxACLcBGAs/s1600/5.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;1094&quot; data-original-width=&quot;1600&quot; src=&quot;https://4.bp.blogspot.com/-uYan94IoXoM/XE297dQQz_I/AAAAAAAAIFE/FZsA9lgyzToFtcSw659JzuiU6nQgbsJxACLcBGAs/s530/5.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;둘 이상의 &#39;공백&#39;도 검사하도록 정규표현식 수정.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-kWLBz_ByWJE/XE297Z2WB3I/AAAAAAAAIFA/Tz5MePw44M0zFEq_iPqAtH8TPvgr--NiACLcBGAs/s1600/6.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;1095&quot; data-original-width=&quot;1600&quot; src=&quot;https://2.bp.blogspot.com/-kWLBz_ByWJE/XE297Z2WB3I/AAAAAAAAIFA/Tz5MePw44M0zFEq_iPqAtH8TPvgr--NiACLcBGAs/s530/6.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;/div&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;/div&gt;결국 결과 검증을 제대로 안해서 벌어진 일. 이걸 1년만에 알아차리다니, 강의 들어주신 분들께 죄송하다. 입만 열면 데이터 노가다가 제일 중요하다고 떠들어놓고는 정작 나는 대충 했구나. 반성합니다(..)&lt;br /&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-nd2oLAIv5Pk/XHKVHu4-ASI/AAAAAAAAINY/CJ2uPkq6TJ8LZVQfc0IzPacTnwlVFJEZwCLcBGAs/s1600/6.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;409&quot; data-original-width=&quot;960&quot; src=&quot;https://3.bp.blogspot.com/-nd2oLAIv5Pk/XHKVHu4-ASI/AAAAAAAAINY/CJ2uPkq6TJ8LZVQfc0IzPacTnwlVFJEZwCLcBGAs/s530/6.jpg&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;&lt;b&gt;&lt;a href=&quot;https://www.forbes.com/sites/gilpress/2016/03/23/data-preparation-most-time-consuming-least-enjoyable-data-science-task-survey-says/#4525d19b6f63&quot; target=&quot;_blank&quot;&gt;이게 다 데이터 노가다가 노잼이라 그럼&lt;/a&gt;&lt;/b&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;&lt;b&gt;사족&lt;/b&gt;&lt;br /&gt;변명같지만 VIM과 엑셀만으로 작업할 때는 이런 일이 없었다. 키바나가 그려주는 화려함에 시선을 뺏긴 것일까? 대충 해도 티 안나게 해줘서 고맙다. 이 요망한 키바나야 -_-</content><link rel='replies' type='application/atom+xml' href='http://kangmyounghun.blogspot.com/feeds/7947831071892518659/comments/default' title='댓글'/><link rel='replies' type='text/html' href='http://kangmyounghun.blogspot.com/2019/01/blog-post_90.html#comment-form' title='0개의 덧글'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/2597780270996323853/posts/default/7947831071892518659'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/2597780270996323853/posts/default/7947831071892518659'/><link rel='alternate' type='text/html' href='http://kangmyounghun.blogspot.com/2019/01/blog-post_90.html' title='데이터 노가다 실수담'/><author><name>강명훈</name><uri>http://www.blogger.com/profile/04275122278203538865</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='//2.bp.blogspot.com/-2J7aNgScC8M/XGF81HaO4bI/AAAAAAAAIIU/lVc7T4qiyuIhSZ3tDNlhTW0Lspu2fA2jwCK4BGAYYCw/s72/kmh.jpg'/></author><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://4.bp.blogspot.com/-1LauZzpe0G4/XE2v1c7KQxI/AAAAAAAAIEA/09KGEyiiwjUe-AG3iB13cmHcxgfrVD-RwCLcBGAs/s72-c/2.png" height="72" width="72"/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-2597780270996323853.post-5675969528973067584</id><published>2019-01-27T18:19:00.001+09:00</published><updated>2019-03-22T02:57:29.091+09:00</updated><category scheme="http://www.blogger.com/atom/ns#" term="tech"/><title type='text'>Logstash date 필터 이상 동작?</title><content type='html'>리눅스 secure 로그는 연도를 기록하지 않는다.&lt;br /&gt;&lt;br /&gt;&lt;pre&gt;&lt;code&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;Nov 30 02:38:21 Sensor sshd[2264]: Accepted password for root from 192.168.56.1 port 8246 ssh2&lt;br /&gt;Dec&amp;nbsp; 1 03:44:36 Sensor sshd[13361]: Received disconnect from ::ffff:192.168.244.18: 11: Disconnect requested by Windows SSH Client.&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;Dec  1 03:45:21 Sensor sshd[2354]: pam_unix(sshd:session): session opened for user root by (uid=0)&lt;br /&gt;Dec  1 03:45:27 Sensor login: pam_unix(login:session): session closed for user root&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;Dec  1 03:46:28 Sensor sshd[1445]: Received signal 15; terminating.&lt;br /&gt;Dec  1 03:46:28 Sensor sshd[1883]: Exiting on signal 15&lt;br /&gt;Dec  1 03:46:28 Sensor sshd[1883]: pam_unix(sshd:session): session closed for user root&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;br /&gt;&lt;div&gt;로그스태시 연동 시 date 필터는 이런 로그의 연도를 알아서 추정(?)하는데, 항상 로그 연동 시점의 연도가 적용된다. 작년까지 그랬음. 그런데 올해 첫 강의에서 희한한 경험을 했다. 다음은 로그스태시 연동 설정.&lt;/div&gt;&lt;br /&gt;&lt;a name=&#39;more&#39;&gt;&lt;/a&gt;&lt;pre&gt;&lt;code&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;input {&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;&amp;nbsp;file {&lt;br /&gt;&amp;nbsp; path =&amp;gt; &quot;D:/test.log&quot;&lt;br /&gt;&amp;nbsp; start_position =&amp;gt; &quot;beginning&quot;&lt;br /&gt;&amp;nbsp; sincedb_path =&amp;gt; &quot;nul&quot;&lt;br /&gt;&amp;nbsp;}&lt;br /&gt;}&lt;br /&gt;&lt;br /&gt;filter {&lt;br /&gt;&amp;nbsp;dissect {&lt;br /&gt;&amp;nbsp; mapping =&amp;gt; { &quot;message&quot; =&amp;gt; &quot;%{timestamp-&amp;gt;} %{+timestamp} %{+timestamp} %{hostname} %{another}&quot; }&lt;br /&gt;&amp;nbsp; }&lt;br /&gt;&lt;br /&gt;&amp;nbsp;date {&lt;br /&gt;&amp;nbsp; match =&amp;gt; [ &quot;timestamp&quot;, &quot;MMM&amp;nbsp; d HH:mm:ss&quot;, &quot;MMM dd HH:mm:ss&quot; ]&lt;br /&gt;&amp;nbsp;}&lt;br /&gt;}&lt;br /&gt;&lt;br /&gt;output {&lt;br /&gt;&amp;nbsp;elasticsearch {&lt;br /&gt;&amp;nbsp; hosts =&amp;gt; &quot;192.168.31.247:9200&quot;&lt;br /&gt;&amp;nbsp;}&lt;br /&gt;&amp;nbsp;stdout { codec =&amp;gt; rubydebug }&lt;br /&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;br /&gt;다음은 연동 결과. 1월부터 11월까지의 로그는 2019년으로 기록되는데, 12월 로그만 2018년으로 기록된다.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-Z2WZN9FKacQ/XE1v0Tp4aOI/AAAAAAAAIDo/z24v9xO1WDwPYPajf5GsUN1r3KWNBAhqQCLcBGAs/s1600/1.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;611&quot; data-original-width=&quot;1165&quot; src=&quot;https://4.bp.blogspot.com/-Z2WZN9FKacQ/XE1v0Tp4aOI/AAAAAAAAIDo/z24v9xO1WDwPYPajf5GsUN1r3KWNBAhqQCLcBGAs/s530/1.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;몇 번을 반복해도, 엘라스틱 버전을 바꿔봐도 마찬가지. 작년엔 1 ~ 12월 로그 모두 2018년으로 기록했었는데 왜 이러지?&lt;br /&gt;&lt;br /&gt;엘라스틱에 문의했더니 date 필터가 연도 추정을 잘못한 것 같긴 한데, 연도에 영향을 줄 수 있는 설정은 따로 없으니 아예 로그에 연도 정보를 추가하라는 답변이 왔다. 그래서 시키는대로 함(..)&lt;br /&gt;&lt;br /&gt;&lt;pre&gt;&lt;code&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;2019 Nov 30 02:38:21 Sensor sshd[2264]: Accepted password for root from 192.168.56.1 port 8246 ssh2&lt;br /&gt;2019 Dec&amp;nbsp; 1 03:44:36 Sensor sshd[13361]: Received disconnect from ::ffff:192.168.244.18: 11: Disconnect requested by Windows SSH Client.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;br /&gt;&lt;div&gt;필터 설정도 수정.&lt;/div&gt;&lt;br /&gt;&lt;pre&gt;&lt;code&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;filter {&lt;br /&gt;&amp;nbsp;dissect {&lt;br /&gt;&amp;nbsp; mapping =&amp;gt; { &quot;message&quot; =&amp;gt; &quot;%{timestamp} %{+timestamp-&amp;gt;} %{+timestamp} %{+timestamp} %{hostname} %{another}&quot; }&lt;br /&gt;&amp;nbsp; }&lt;br /&gt;&lt;br /&gt;&amp;nbsp;date {&lt;br /&gt;&amp;nbsp; match =&amp;gt; [ &quot;timestamp&quot;, &quot;yyyy MMM&amp;nbsp; d HH:mm:ss&quot;, &quot;yyyy MMM dd HH:mm:ss&quot; ]&lt;br /&gt;&amp;nbsp;}&lt;br /&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-7wlxtegXqzQ/XE1v4fawPmI/AAAAAAAAIDs/xEm5IeMb8hcIwl-c9gdcm7yBMB1zylLugCLcBGAs/s1600/2.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;611&quot; data-original-width=&quot;1165&quot; src=&quot;https://4.bp.blogspot.com/-7wlxtegXqzQ/XE1v4fawPmI/AAAAAAAAIDs/xEm5IeMb8hcIwl-c9gdcm7yBMB1zylLugCLcBGAs/s530/2.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;잘 되긴 하는데 뭔가 좀 찜찜하다. 항상 똑같은 로그 파일이 이상할 리는 없고, 2019년이 범인인가?-_-&lt;br /&gt;&lt;br /&gt;19.02.21.&lt;br /&gt;6.6 버전에서 정상 동작함. 버그였던 모양.</content><link rel='replies' type='application/atom+xml' href='http://kangmyounghun.blogspot.com/feeds/5675969528973067584/comments/default' title='댓글'/><link rel='replies' type='text/html' href='http://kangmyounghun.blogspot.com/2019/01/logstash-date.html#comment-form' title='0개의 덧글'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/2597780270996323853/posts/default/5675969528973067584'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/2597780270996323853/posts/default/5675969528973067584'/><link rel='alternate' type='text/html' href='http://kangmyounghun.blogspot.com/2019/01/logstash-date.html' title='Logstash date 필터 이상 동작?'/><author><name>강명훈</name><uri>http://www.blogger.com/profile/04275122278203538865</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='//2.bp.blogspot.com/-2J7aNgScC8M/XGF81HaO4bI/AAAAAAAAIIU/lVc7T4qiyuIhSZ3tDNlhTW0Lspu2fA2jwCK4BGAYYCw/s72/kmh.jpg'/></author><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://4.bp.blogspot.com/-Z2WZN9FKacQ/XE1v0Tp4aOI/AAAAAAAAIDo/z24v9xO1WDwPYPajf5GsUN1r3KWNBAhqQCLcBGAs/s72-c/1.png" height="72" width="72"/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-2597780270996323853.post-5883731055909018801</id><published>2019-01-14T14:19:00.002+09:00</published><updated>2019-01-27T14:39:16.868+09:00</updated><category scheme="http://www.blogger.com/atom/ns#" term="tech"/><title type='text'>Logstash 설정과 한글</title><content type='html'>윈도우 이벤트 로그 5156은 네트워크 연결 허용을 의미하며, 이때 &#39;연결, 수신/수락&#39; 등의 의미를 추가로 알려준다.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-IA_84uRG9jk/XDwUSSjIZBI/AAAAAAAAIC0/uxup5WDRZjUNmjsfZ4H-wJqu2FdvxL-TgCLcBGAs/s1600/1.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;720&quot; data-original-width=&quot;998&quot; src=&quot;https://3.bp.blogspot.com/-IA_84uRG9jk/XDwUSSjIZBI/AAAAAAAAIC0/uxup5WDRZjUNmjsfZ4H-wJqu2FdvxL-TgCLcBGAs/s530/1.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;a name=&#39;more&#39;&gt;&lt;/a&gt;winlogbeat를 이용해서 엘라스틱과 연동하면 event_data.LayerName이란 필드에 &#39;%%14610, %%14611&#39; 등의 값이 저장됨.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-zyvyO2QlU_E/XDwUSdWLP-I/AAAAAAAAIC4/RpLN0hzfFXwAdxUhjD87HC9WAw92qVbPwCLcBGAs/s1600/2.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;720&quot; data-original-width=&quot;998&quot; src=&quot;https://1.bp.blogspot.com/-zyvyO2QlU_E/XDwUSdWLP-I/AAAAAAAAIC4/RpLN0hzfFXwAdxUhjD87HC9WAw92qVbPwCLcBGAs/s530/2.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-lQ1BoBqa5T0/XDwUSWEq1dI/AAAAAAAAICw/wp5q5PfFRq8wq8CVSKIp0Wx6iwdQQOUuQCLcBGAs/s1600/3.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;628&quot; data-original-width=&quot;1243&quot; src=&quot;https://2.bp.blogspot.com/-lQ1BoBqa5T0/XDwUSWEq1dI/AAAAAAAAICw/wp5q5PfFRq8wq8CVSKIp0Wx6iwdQQOUuQCLcBGAs/s530/3.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&#39;계층 이름: 연결&#39;처럼 사람이 이해하기 쉬운 정보는 메시지 필드에 다른 정보들과 함께 저장된다. 해당 정보를 별도 필드로 추출하면 &#39;%%14611&#39;의 의미가 뭐였나 매번 머리 쥐어짤 필요가 없다는 얘기.&lt;br /&gt;&lt;br /&gt;물론 event_data.LayerName 필드값을&amp;nbsp;&lt;a href=&quot;http://kangmyounghun.blogspot.com/2017/07/logstash-mutate.html&quot; target=&quot;_blank&quot;&gt;mutate&lt;/a&gt;&amp;nbsp;필터로 바꿔줘도 되지만 이상하게 원본 보존하고 싶네(..) 다음은 해당 필드를 추출해주는&amp;nbsp;&lt;a href=&quot;http://kangmyounghun.blogspot.com/2017/06/elasticsearch-grok.html&quot; target=&quot;_blank&quot;&gt;grok&lt;/a&gt;&amp;nbsp;필터 표현식.&lt;br /&gt;&lt;br /&gt;&lt;pre&gt;&lt;code&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;grok {&amp;nbsp;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;&amp;nbsp;match =&amp;gt; {&amp;nbsp;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;&amp;nbsp; &quot;message&quot; =&amp;gt; &quot;계층 이름:\t\t(?&amp;lt;layer_name&amp;gt;\S+)&quot;&amp;nbsp;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;&amp;nbsp;}&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;br /&gt;그런데 에러 발생. 로그스태시가 한글을 못읽는구나.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-Cq2r7dl0zks/XDwUTtC4NyI/AAAAAAAAIC8/71nWtfrs2B05ErG86Fb0kb9TLKj0JzN1gCLcBGAs/s1600/4.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;623&quot; data-original-width=&quot;1246&quot; src=&quot;https://2.bp.blogspot.com/-Cq2r7dl0zks/XDwUTtC4NyI/AAAAAAAAIC8/71nWtfrs2B05ErG86Fb0kb9TLKj0JzN1gCLcBGAs/s530/4.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;로그스태시가 읽을 수 있도록 유니코드로 인코딩.&lt;br /&gt;&lt;br /&gt;&lt;pre&gt;&lt;code&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;grok {&lt;br /&gt;&amp;nbsp;match =&amp;gt; {&lt;br /&gt;&amp;nbsp; &quot;message&quot; =&amp;gt; &quot;\uacc4\uce35 \uc774\ub984:\t\t(?&amp;lt;layer_name&amp;gt;\S+)&quot;&lt;br /&gt;&amp;nbsp;}&lt;br /&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;br /&gt;올라잇~&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-hVLRboO6rFM/XDwUT0oKm9I/AAAAAAAAIDA/RykY28k79iQWSOrsvbg8eKJtwtGWFrrbwCLcBGAs/s1600/5.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;628&quot; data-original-width=&quot;1243&quot; src=&quot;https://4.bp.blogspot.com/-hVLRboO6rFM/XDwUT0oKm9I/AAAAAAAAIDA/RykY28k79iQWSOrsvbg8eKJtwtGWFrrbwCLcBGAs/s530/5.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;</content><link rel='replies' type='application/atom+xml' href='http://kangmyounghun.blogspot.com/feeds/5883731055909018801/comments/default' title='댓글'/><link rel='replies' type='text/html' href='http://kangmyounghun.blogspot.com/2019/01/logstash.html#comment-form' title='0개의 덧글'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/2597780270996323853/posts/default/5883731055909018801'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/2597780270996323853/posts/default/5883731055909018801'/><link rel='alternate' type='text/html' href='http://kangmyounghun.blogspot.com/2019/01/logstash.html' title='Logstash 설정과 한글'/><author><name>강명훈</name><uri>http://www.blogger.com/profile/04275122278203538865</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='//2.bp.blogspot.com/-2J7aNgScC8M/XGF81HaO4bI/AAAAAAAAIIU/lVc7T4qiyuIhSZ3tDNlhTW0Lspu2fA2jwCK4BGAYYCw/s72/kmh.jpg'/></author><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://3.bp.blogspot.com/-IA_84uRG9jk/XDwUSSjIZBI/AAAAAAAAIC0/uxup5WDRZjUNmjsfZ4H-wJqu2FdvxL-TgCLcBGAs/s72-c/1.png" height="72" width="72"/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-2597780270996323853.post-2084848549702604628</id><published>2019-01-06T13:40:00.000+09:00</published><updated>2019-03-03T12:52:12.280+09:00</updated><category scheme="http://www.blogger.com/atom/ns#" term="im thinking"/><title type='text'>미국의 오탐 대응</title><content type='html'>오탐은 태초부터 문제였다.&lt;br /&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-JbgOqAx3mxE/XDC13jypA9I/AAAAAAAAICc/PmzWKmKS9fkRLsftlaa2c4776l3UB-4hQCLcBGAs/s1600/2.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;720&quot; data-original-width=&quot;865&quot; src=&quot;https://3.bp.blogspot.com/-JbgOqAx3mxE/XDC13jypA9I/AAAAAAAAICc/PmzWKmKS9fkRLsftlaa2c4776l3UB-4hQCLcBGAs/s530/2.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;&lt;b&gt;&lt;a href=&quot;http://www.itdaily.kr/news/articleView.html?idxno=91565&quot; target=&quot;_blank&quot;&gt;링크&lt;/a&gt;&lt;/b&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;&lt;a name=&#39;more&#39;&gt;&lt;/a&gt;IDS를 만든 미국이 모를리 없다. 문제는 해결됐을까? 다음은 &#39;security, false positive&#39; 검색 결과. 기술자들끼리 이러쿵 저러쿵 하는 게 많고, 취약점 등을 연계해서 오탐을 줄여보자는&amp;nbsp;&lt;strike&gt;실패한&lt;/strike&gt; 시도들이 가끔 보인다. &#39;Finding The Needle&#39;이라는 제목이 애처롭다(..)&lt;br /&gt;&lt;ul&gt;&lt;/ul&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-HFyV4gxKYbA/XCr3j_y9xdI/AAAAAAAAH_8/j185mkjb204a5Fwcr_SPbQCaCdSIxHTDACLcBGAs/s1600/4.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;720&quot; data-original-width=&quot;1102&quot; src=&quot;https://3.bp.blogspot.com/-HFyV4gxKYbA/XCr3j_y9xdI/AAAAAAAAH_8/j185mkjb204a5Fwcr_SPbQCaCdSIxHTDACLcBGAs/s530/4.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;font-size: 12.8px;&quot;&gt;&lt;b&gt;&lt;a href=&quot;https://www.google.com/search?q=security+false+positives&amp;amp;tbs=cdr:1,cd_min:1/1/2000,cd_max:12/31/2012&amp;amp;ei=qvQqXKyIJoyIoAS28pHgBQ&amp;amp;start=30&amp;amp;sa=N&amp;amp;ved=0ahUKEwishcKe58vfAhUMBIgKHTZ5BFw4RhDy0wMIiwE&amp;amp;biw=1224&amp;amp;bih=2114&quot; target=&quot;_blank&quot;&gt;링크&lt;/a&gt;&lt;/b&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;흥미로운 부분은 2000년대 중반부터 이미 IDS 오탐 문제를&amp;nbsp;&lt;strike&gt;인공지능&lt;/strike&gt;기계학습으로 해결하려는 시도가 나타난다는 사실.&lt;br /&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-M1z8rsumyzI/XC45H3S8JrI/AAAAAAAAIBA/-r1XIr15rqEDTtrxdk8Z38rZikQkJI6SQCLcBGAs/s1600/1.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;648&quot; data-original-width=&quot;943&quot; src=&quot;https://1.bp.blogspot.com/-M1z8rsumyzI/XC45H3S8JrI/AAAAAAAAIBA/-r1XIr15rqEDTtrxdk8Z38rZikQkJI6SQCLcBGAs/s530/1.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;font-size: 12.8px;&quot;&gt;&lt;b&gt;&lt;a href=&quot;https://www.google.com/search?q=security+false+positives&amp;amp;tbs=cdr:1,cd_min:1/1/2000,cd_max:12/31/2012&amp;amp;ei=KjguXK6SGZTu8wWspZ3oAg&amp;amp;start=70&amp;amp;sa=N&amp;amp;ved=0ahUKEwiuz5SEhNLfAhUU97wKHaxSBy04PBDy0wMIkwE&amp;amp;biw=946&amp;amp;bih=509&quot; target=&quot;_blank&quot;&gt;링크&lt;/a&gt;&lt;/b&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;2006년 블랙햇 컨퍼런스 발표 자료를 읽어보니 수상한 인풋 트래픽이 발생했을 때 아웃풋과의 연관분석을 통해서 이상징후를 분석해보자는 내용. 이때&amp;nbsp;&lt;a href=&quot;https://kangmyounghun.blogspot.com/2016/09/blog-post.html&quot; target=&quot;_blank&quot;&gt;인공지능 이상징후 탐지 시스템?&lt;/a&gt;에 등장했던 SOM이라는 기계학습 모델을 사용한다.&lt;br /&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-6SxcD7U7v_0/XC5BtakIfhI/AAAAAAAAIBY/KAMD6i49GaM0fvdSj2RxaFikH0h8fxuWACLcBGAs/s1600/3.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;647&quot; data-original-width=&quot;937&quot; src=&quot;https://2.bp.blogspot.com/-6SxcD7U7v_0/XC5BtakIfhI/AAAAAAAAIBY/KAMD6i49GaM0fvdSj2RxaFikH0h8fxuWACLcBGAs/s530/3.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;&lt;b&gt;&lt;a href=&quot;http://www.google.com/url?sa=t&amp;amp;rct=j&amp;amp;q=&amp;amp;esrc=s&amp;amp;source=web&amp;amp;cd=71&amp;amp;ved=2ahUKEwiCo_-ShNLfAhWCbbwKHRy3AuY4RhAWMAB6BAgBEAI&amp;amp;url=http%3A%2F%2Fwww.blackhat.com%2Fpresentations%2Fbh-usa-06%2FBH-US-06-Zambon.pdf&amp;amp;usg=AOvVaw3HBDHBvymSrwRQw33X9Ftl&quot; target=&quot;_blank&quot;&gt;링크&lt;/a&gt;&lt;/b&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;검색어에 &#39;machine learning&#39;을 추가하면 더 많은 연구논문을 찾아볼 수 있다. 2000년대 중반부터 기계학습을 이용해서 탐지 정확도를 높여보려는 다양한 시도들이 있어 왔다는 얘기. 그 결과는?&lt;br /&gt;&lt;br /&gt;미국에서 대중적으로 성공한 기술은 대한민국에서 반드시 유행한다. 반대로 얘기하면 우리가 아직 문제를 안고 있다는 얘기는 미국도 문제를 해결하지 못했다는 뜻. 물론 당시엔 빅데이터나 딥러닝이 뜨지도 않았고 하드웨어도 구렸겠지. 이제 상황이 좀 달라졌을까?&lt;br /&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-MBFazglu05g/XC5SLFLUQgI/AAAAAAAAIBw/KfvA1eHuRnoANX1wY4NxFMTimeNZLpxPACLcBGAs/s1600/5.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;645&quot; data-original-width=&quot;934&quot; src=&quot;https://1.bp.blogspot.com/-MBFazglu05g/XC5SLFLUQgI/AAAAAAAAIBw/KfvA1eHuRnoANX1wY4NxFMTimeNZLpxPACLcBGAs/s530/5.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://www.google.com/search?q=security+false+positive&amp;amp;tbs=cdr:1,cd_min:1/1/2013,cd_max:12/31/2018&amp;amp;ei=YFEuXKauFYTK8wW046XgBQ&amp;amp;start=80&amp;amp;sa=N&amp;amp;ved=0ahUKEwim3tGJnNLfAhUE5bwKHbRxCVw4PBDy0wMIkAE&amp;amp;biw=944&amp;amp;bih=571&quot; target=&quot;_blank&quot;&gt;링크&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;2015년 블랙햇 컨퍼런스에서 발표된 자료를 보니 까탈스런 패턴매칭 쓰지 말고, 기계학습으로 시스템이나 네트워크에서 발생하는 행위들에 대한 통계분석을 하자는 내용. 결국 이상징후 분석하자는 얘기.&lt;br /&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-XqzJOE1MdS4/XC5LDitmPbI/AAAAAAAAIBk/YuH18K7pGaYUC9izOqz9Ijk6eqlQILbLACLcBGAs/s1600/4.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;647&quot; data-original-width=&quot;937&quot; src=&quot;https://1.bp.blogspot.com/-XqzJOE1MdS4/XC5LDitmPbI/AAAAAAAAIBk/YuH18K7pGaYUC9izOqz9Ijk6eqlQILbLACLcBGAs/s530/4.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;font-size: 12.8px;&quot;&gt;&lt;a href=&quot;https://www.google.com/url?sa=t&amp;amp;rct=j&amp;amp;q=&amp;amp;esrc=s&amp;amp;source=web&amp;amp;cd=75&amp;amp;ved=2ahUKEwjGg7KCjtLfAhUKBIgKHXfLAto4RhAWMAR6BAgCEAI&amp;amp;url=https%3A%2F%2Fwww.blackhat.com%2Fdocs%2Fus-15%2Fmaterials%2Fus-15-Zadeh-From-False-Positives-To-Actionable-Analysis-Behavioral-Intrusion-Detection-Machine-Learning-And-The-SOC.pdf&amp;amp;usg=AOvVaw2akPTSfSurwnay6u3qeUfh&quot; target=&quot;_blank&quot;&gt;링크&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;영어가 짧은 탓인지 패턴매칭, 즉 정오탐 구분 데이터를 이용한 기계학습 적용 사례는 못찾겠다. 분명 시도했을텐데 왜 안보이지? 여하간 현재 미국에서는 이상징후 분석이 대세인 모양.&lt;br /&gt;&lt;br /&gt;패턴매칭 기반 오탐 문제에 기계학습 적용이 성공한다면 미국 기술로 미국 콧대를 납작하게 해줄 수도 있다는 얘기. 상상만 해도 흐뭇해진다(..)&lt;br /&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-4WRB_63iV1k/XDCs_IsWeTI/AAAAAAAAIB8/A3rEGRqTwV4XKBZ87pPvFjzxGBO0jUNKQCLcBGAs/s1600/1.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;621&quot; data-original-width=&quot;1280&quot; src=&quot;https://1.bp.blogspot.com/-4WRB_63iV1k/XDCs_IsWeTI/AAAAAAAAIB8/A3rEGRqTwV4XKBZ87pPvFjzxGBO0jUNKQCLcBGAs/s530/1.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;&lt;b&gt;&lt;a href=&quot;http://arno.uvt.nl/show.cgi?fid=121502&quot; target=&quot;_blank&quot;&gt;링크&lt;/a&gt;&lt;/b&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;&lt;blockquote class=&quot;tr_bq&quot;&gt;&lt;div style=&quot;text-align: center;&quot;&gt;&lt;i&gt;&lt;a href=&quot;https://kangmyounghun.blogspot.com/2016/05/blog-post.html&quot; target=&quot;_blank&quot;&gt;로그가 많아서 문제라면 해결책은 로그를 줄이는 것 뿐이며, 룰이 부정확해서 문제라면 정확도를 높이는 것만이 해결책이 될 수 있다. 결국 &#39;패턴매칭&#39;이 문제라면 &#39;패턴매칭&#39;을 버리든지 또는 개선하든지, 둘 중 하나를 선택해야 한다&lt;/a&gt;&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;b&gt;관련 글&lt;/b&gt;&lt;br /&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://kangmyounghun.blogspot.com/2018/06/vs.html&quot; target=&quot;_blank&quot;&gt;인공지능 VS 보안&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://kangmyounghun.blogspot.com/2018/06/blog-post_17.html&quot; target=&quot;_blank&quot;&gt;기계학습과 침입탐지: 문법 추론 결과&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;ul&gt;&lt;/ul&gt;</content><link rel='replies' type='application/atom+xml' href='http://kangmyounghun.blogspot.com/feeds/2084848549702604628/comments/default' title='댓글'/><link rel='replies' type='text/html' href='http://kangmyounghun.blogspot.com/2019/01/blog-post.html#comment-form' title='0개의 덧글'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/2597780270996323853/posts/default/2084848549702604628'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/2597780270996323853/posts/default/2084848549702604628'/><link rel='alternate' type='text/html' href='http://kangmyounghun.blogspot.com/2019/01/blog-post.html' title='미국의 오탐 대응'/><author><name>강명훈</name><uri>http://www.blogger.com/profile/04275122278203538865</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='//2.bp.blogspot.com/-2J7aNgScC8M/XGF81HaO4bI/AAAAAAAAIIU/lVc7T4qiyuIhSZ3tDNlhTW0Lspu2fA2jwCK4BGAYYCw/s72/kmh.jpg'/></author><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://3.bp.blogspot.com/-JbgOqAx3mxE/XDC13jypA9I/AAAAAAAAICc/PmzWKmKS9fkRLsftlaa2c4776l3UB-4hQCLcBGAs/s72-c/2.png" height="72" width="72"/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-2597780270996323853.post-4263772095801685321</id><published>2019-01-01T19:55:00.002+09:00</published><updated>2019-04-20T00:49:24.450+09:00</updated><category scheme="http://www.blogger.com/atom/ns#" term="im thinking"/><title type='text'>2018년에 있었던 일</title><content type='html'>시간 정말 잘 간다. 벌써 2019년. 작년에 뭘 했지? 14년부터 한 교육기관에서만 강의를 해왔는데 작년부터 출강 기관을 늘렸다. 그래봐야 두 곳이지만(..)&lt;br /&gt;&lt;br /&gt;기존 기관이 보안 전문이었다면, 새로 계약한 곳은 IT 관련 분야를 거의 총망라한 교육을 진행한다. (인문학 강의도 하더라) 아무래도 성격이나 규모의 차이가 있다보니 초반 시행착오 발생.&lt;br /&gt;&lt;br /&gt;기존에는 공공기관 참여가 많았었는데 새로 시작한 곳은 민간이 더 많다. 그런 차이 때문인가? 과거엔 좀 빡세게 진행해도 무난했던 느낌이었다면, 새로운 곳에서는 전반적으로 교육을 여유있게 받고 싶어한다는 느낌을 받는다.&lt;br /&gt;&lt;br /&gt;물론 커리큘럼이나 교육 기간 등이 다르기 때문에 단순 비교는 어렵지만 과거엔 교재 과정 소화를 위해 좀 무리하게 진도를 빼도 딱히 불만을 접한 적이 없었는데, 지금은 어렵다는 피드백을 자주 접함(..)&lt;br /&gt;&lt;br /&gt;&lt;a name=&#39;more&#39;&gt;&lt;/a&gt;기존에 교재만으로 개인학습이 가능한 수준을 목표로 1일 200페이지 기준(SANS 기준이라나?)의 강의를 해왔던데다, 새 강의를 계획할 때 환경 구축 과정을 보강하면서 의욕이 너무 앞섰나? 강의량이 좀 많았나 보다.&lt;br /&gt;&lt;br /&gt;교재 검토 담당자도 그동안 검토했던 교재 중 제일 많은 분량이라며 놀람. 나중에야 컨텐츠 보호를 위해 교재 의존성을 낮추고 현장 강의에 주력하는 문화도 있음을 알게 됐다.&lt;br /&gt;&lt;br /&gt;역시 사람은 다양한 경험을 해볼 필요가 있다니깐. 하지만 이런 차이를 깨닫고 적응하기까지는 시간이 좀 필요했다. 덕분에 상반기엔 나름 열심히 했다 싶은데도 강의 평가가 좀 박해서 은근 마음이 쓰이더라.&amp;nbsp; &lt;br /&gt;&lt;br /&gt;&lt;b style=&quot;font-size: xx-large;&quot;&gt;하지만&lt;/b&gt;&lt;br /&gt;&lt;strike&gt;&lt;br /&gt;&lt;/strike&gt;하반기 강의 평가는 모두 만점. &lt;strike&gt;자랑자랑&lt;/strike&gt;&amp;nbsp;비결은 Snort 설치, 복잡한 룰 이론 등의 까탈스런 과정 최소화(..) 인기 주제 위주로, 최대한 사용자 입력을 줄이고 가상머신 실행만으로 가능한 수업을 목표로 했더니 만족도가 높아진 느낌이다.&lt;br /&gt;&lt;br /&gt;물론 여전히 만만치는 않다. 리눅스 기반 환경 구축 비중을 높인 이유는 별 거 없다. 그게 안 되면 아예 시작도 할 수 없기 때문. 그래서 사전 이해도나 업무 관련성이 낮은 수강생이 참여할 때면 모두가 만족할 수 있는 수업을 위한 고민이 커진다.&lt;br /&gt;&lt;br /&gt;명색이 고급 과정인데 리눅스에 익숙한 수강생만 받아볼까? 그랬다간 굶어죽겠지?-_- 이제 오픈소스 없는 IT 세상은 상상도 할 수 없다. 그런데 그 오픈소스 대부분 리눅스 기반에서 동작. 리눅스에 익숙하면 반은 먹고 들어간다는 얘기. 미국애들이 오픈소스로 북치고 장구치는 이유가 아닐까?&lt;br /&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-6jMn6rgqj9k/XCorLYEBktI/AAAAAAAAH-s/LR9i8TalI8sb0nU_WPAWRozz2Rm3ipVwgCLcBGAs/s1600/%25EC%259C%25A0%25EB%258B%2589%25EC%258A%25A4.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;372&quot; data-original-width=&quot;665&quot; src=&quot;https://2.bp.blogspot.com/-6jMn6rgqj9k/XCorLYEBktI/AAAAAAAAH-s/LR9i8TalI8sb0nU_WPAWRozz2Rm3ipVwgCLcBGAs/s500/%25EC%259C%25A0%25EB%258B%2589%25EC%258A%25A4.png&quot; width=&quot;500&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;&lt;b&gt;후덜덜한 미국 꼬맹이들&lt;/b&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;올해도 강의 진입장벽을 낮추는 고민은 계속 될 듯.&lt;br /&gt;&lt;br /&gt;&lt;b&gt;&lt;span style=&quot;font-size: x-large;&quot;&gt;또 무슨 일이 있었지?&lt;/span&gt;&lt;/b&gt;&lt;br /&gt;&lt;br /&gt;무려 &lt;a href=&quot;https://kangmyounghun.blogspot.com/2018/06/vs.html&quot; target=&quot;_blank&quot;&gt;IDS 룰 정확도를 검증해주고 돈을 벌었다&lt;/a&gt;. 정확히는 탐지로그 정오탐 구분해서 기계학습용 데이터 제공하는 거였고, 룰 개선과는 관련이 없어서 김이 좀 새긴 했지만, 이걸로 돈 버는 날이 왔다는 사실만으로도 감격.&lt;br /&gt;&lt;br /&gt;그동안 책도 팔고, 강의로 돈 벌지 않았냐고? 사실 작년에 출판사가 망했다. 친구가 다른 출판사 계약해서 개정판 내라고 그러더라. 짭짤했으면 진작에 그랬겠지. 하지만 겨우 담배값이나 버는 수준이라 의욕이 안 생김.-_-&lt;br /&gt;&lt;br /&gt;강의는 관심있어 하는 기술자들 호기심을 채워줬을 뿐, 현장에서 룰 개선으로 돈 번 적은 없다. 아마 내 강의를 들은 이들도 그걸로 돈 벌진 못했을 듯(..)&lt;br /&gt;&lt;br /&gt;다음은 어느 SIEM 장비 회사 인터뷰.&lt;br /&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-wuz53hjAwRI/XCxQ1rk-wzI/AAAAAAAAIAg/Ld3xiAPKtOU4BI26qqVWT2BXjMDSX-3VgCLcBGAs/s1600/3.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;710&quot; data-original-width=&quot;1514&quot; src=&quot;https://1.bp.blogspot.com/-wuz53hjAwRI/XCxQ1rk-wzI/AAAAAAAAIAg/Ld3xiAPKtOU4BI26qqVWT2BXjMDSX-3VgCLcBGAs/s530/3.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;&lt;b&gt;&lt;a href=&quot;http://www.itdaily.kr/news/articleView.html?idxno=91565&quot; target=&quot;_blank&quot;&gt;링크&lt;/a&gt;&lt;/b&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;오탐 문제는 &#39;단위보안 장비의 정책 최적화&#39;로 해결하는 게 먼저라고 한다. IDS와 같은 개별 보안 장비 회사가 해결할 문제라는 얘기. 아니면 장비 구매자?&lt;br /&gt;&lt;br /&gt;사실 맞는 말이다. IDS 파는 회사들도 꺼리는 룰 문제에 엮이고 싶진 않겠지. 다만 가장 어려운데도 고작 유지보수 수준의 잡무(?) 취급이나 받던 정책 최적화가 이제와서 인공지능 보안관제를 위한 필수 과정이 됐으니 아이러니할 뿐.&lt;br /&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;b&gt;&lt;span style=&quot;font-size: x-large;&quot;&gt;정책 최적화는&amp;nbsp;&lt;/span&gt;&lt;/b&gt;&lt;br /&gt;&lt;br /&gt;정오탐 구분을 통해 확인된 오탐 원인을 룰에서 제거하는 과정이다. 현재 인공지능 보안관제 방법론은 정책을 최적화 할 수 있는 정오탐 구분 데이터를&amp;nbsp;정책 최적화가 아닌 지도학습 데이터로만, 즉 탐지로그 처리 근거로만 쓰겠다는 아이디어.&lt;br /&gt;&lt;br /&gt;SIEM 등 보안관제 제품이나 서비스를 파는 회사들은 결국 정탐은 대응, 오탐은 무시 처리만 하면 되니 당연한 선택이긴 하다. 같은 오탐이 반복되면 더 좋다. 같은 방식으로 처리하면 되니 일이 더 쉬워짐!?&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-Oxxck9r8bZY/XLntfBNCUJI/AAAAAAAAIW4/JK_NtS0QAkk_FUI76HFjas15qzvfrRQkwCLcBGAs/s1600/%25EB%2586%2580%25EB%259E%2580%25EA%25B3%25A0%25EC%2596%2591%25EC%259D%25B4.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;300&quot; data-original-width=&quot;400&quot; height=&quot;300&quot; src=&quot;https://3.bp.blogspot.com/-Oxxck9r8bZY/XLntfBNCUJI/AAAAAAAAIW4/JK_NtS0QAkk_FUI76HFjas15qzvfrRQkwCLcBGAs/s400/%25EB%2586%2580%25EB%259E%2580%25EA%25B3%25A0%25EC%2596%2591%25EC%259D%25B4.JPG&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;어차피 깨진 독은 놔둔 채 물 붓기만 반복할 거라면 사람보다는 기계가 하는 게 낫겠지. 학습만 자알 시키면 분명 사람보다 더 빨리, 더 많은 로그를 처리할테고, 무엇보다 폼도 나고(..)&lt;br /&gt;&lt;br /&gt;갑자기 멕시코 어부 이야기가 떠오른다.&lt;br /&gt;&lt;br /&gt;&lt;blockquote class=&quot;tr_bq&quot;&gt;&lt;i&gt;(미국인) 물고기 더 안 잡아요?&lt;/i&gt;&amp;nbsp;&lt;/blockquote&gt;&lt;blockquote class=&quot;tr_bq&quot;&gt;&lt;i&gt;(어부) 이정도면 우리 식구 먹기 충분해요.&lt;/i&gt;&amp;nbsp;&lt;/blockquote&gt;&lt;blockquote class=&quot;tr_bq&quot;&gt;&lt;i&gt;&lt;br /&gt;&lt;/i&gt;&lt;i&gt;(미국인) 그럼 쉬는 시간에 뭐해요?&lt;/i&gt;&amp;nbsp;&lt;/blockquote&gt;&lt;blockquote class=&quot;tr_bq&quot;&gt;&lt;i&gt;(어부) 아이들과도 놀아주고 낮잠도 자고 와이프랑 동네 산책도 다니고 친구들과 술도 한잔 하죠.&lt;/i&gt;&amp;nbsp;&lt;/blockquote&gt;&lt;blockquote class=&quot;tr_bq&quot;&gt;&lt;i&gt;&lt;br /&gt;&lt;/i&gt;&lt;i&gt;(미국인) 노는 시간에 물고기 더 잡아서 그 돈으로 어선도 늘리고 공장도 지어서 크게 사업하고 싶지 않아요?&lt;/i&gt;&amp;nbsp;&lt;/blockquote&gt;&lt;blockquote class=&quot;tr_bq&quot;&gt;&lt;i&gt;(어부) 그렇게 될려면 얼마나 걸려요?&lt;/i&gt;&amp;nbsp;&lt;/blockquote&gt;&lt;blockquote class=&quot;tr_bq&quot;&gt;&lt;i&gt;(미국인) 10년 이상?&lt;/i&gt;&amp;nbsp;&lt;/blockquote&gt;&lt;blockquote class=&quot;tr_bq&quot;&gt;&lt;i&gt;&lt;br /&gt;&lt;/i&gt;&lt;i&gt;(어부) 그러면 뭐가 좋아요?&lt;/i&gt;&amp;nbsp;&lt;/blockquote&gt;&lt;blockquote class=&quot;tr_bq&quot;&gt;&lt;i&gt;&lt;/i&gt;&lt;i&gt;(미국인) 큰 부자가 되는 거죠.&lt;/i&gt;&amp;nbsp;&lt;/blockquote&gt;&lt;blockquote class=&quot;tr_bq&quot;&gt;&lt;i&gt;&lt;br /&gt;&lt;/i&gt;&lt;i&gt;(어부) 부자가 되면?&lt;/i&gt;&amp;nbsp;&lt;/blockquote&gt;&lt;blockquote class=&quot;tr_bq&quot;&gt;&lt;i&gt;&lt;/i&gt;&lt;i&gt;(미국인) 은퇴해서 아이들과도 놀아주고 낮잠도 자고 와이프랑 동네 산책도 다니고 친구들과 술도 한잔(..)&lt;/i&gt;&lt;/blockquote&gt;&lt;br /&gt;내가 원하는 가치보다 남이 인정해주는 가치에 더 큰 의미를 부여하는 바람에 진짜 원하는 걸 얻으려면 더 먼 길을 돌아가야만 한다.&lt;br /&gt;&lt;br /&gt;&lt;b&gt;&lt;span style=&quot;font-size: x-large;&quot;&gt;나가며&lt;/span&gt;&lt;/b&gt;&lt;br /&gt;&lt;br /&gt;어쩌면 오탐은 보안 업계의 영원한 성장동력으로 그 존재가치를 갖는지도 모르겠다. 영원히 해결 불가능한 문제로 남아 새로운 컨셉의 제품을 계속 팔 수 있게 해주는 무한 성장동력. 자본주의 관점에서 아주 바람직.&lt;br /&gt;&lt;br /&gt;지난 한 해를 돌이켜보면서 새해 각오를 다져볼까 했는데 왜 우울해지지? 시작할 때는 이런 기분이 아니었는데-_-&lt;br /&gt;&lt;br /&gt;올해는 무슨 일이 생길까? 책을 하나 써보고 싶긴 한데 체력도 딸리고, 강의 밑천 드러난다며 말리는 지인들도 있고 해서 고민 중. 격렬하게 아무것도 안 하는 2019년도 괜찮아 보이는데😈&lt;br /&gt;&lt;br /&gt;&lt;b&gt;관련 글&lt;/b&gt;&lt;br /&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://kangmyounghun.blogspot.com/2016/01/2015.html&quot; target=&quot;_blank&quot;&gt;2015년에 있었던 일&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://kangmyounghun.blogspot.com/2017/01/2016.html&quot; target=&quot;_blank&quot;&gt;2016년에 있었던 일&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://kangmyounghun.blogspot.com/2018/01/2017.html&quot; target=&quot;_blank&quot;&gt;2017년에 있었던 일&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content><link rel='replies' type='application/atom+xml' href='http://kangmyounghun.blogspot.com/feeds/4263772095801685321/comments/default' title='댓글'/><link rel='replies' type='text/html' href='http://kangmyounghun.blogspot.com/2019/01/2018.html#comment-form' title='0개의 덧글'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/2597780270996323853/posts/default/4263772095801685321'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/2597780270996323853/posts/default/4263772095801685321'/><link rel='alternate' type='text/html' href='http://kangmyounghun.blogspot.com/2019/01/2018.html' title='2018년에 있었던 일'/><author><name>강명훈</name><uri>http://www.blogger.com/profile/04275122278203538865</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='//2.bp.blogspot.com/-2J7aNgScC8M/XGF81HaO4bI/AAAAAAAAIIU/lVc7T4qiyuIhSZ3tDNlhTW0Lspu2fA2jwCK4BGAYYCw/s72/kmh.jpg'/></author><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://2.bp.blogspot.com/-6jMn6rgqj9k/XCorLYEBktI/AAAAAAAAH-s/LR9i8TalI8sb0nU_WPAWRozz2Rm3ipVwgCLcBGAs/s72-c/%25EC%259C%25A0%25EB%258B%2589%25EC%258A%25A4.png" height="72" width="72"/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-2597780270996323853.post-6560015627127618086</id><published>2018-12-24T17:26:00.000+09:00</published><updated>2019-02-23T13:12:37.303+09:00</updated><category scheme="http://www.blogger.com/atom/ns#" term="im thinking"/><title type='text'>사내보안을 강화하려면</title><content type='html'>인터넷 끊으면 됨. 피싱이고 APT고 랜섬웨어고 뭐고 다 인터넷만 끊으면 걱정 끝. 이후엔 톰아저씨만 조심하며 된다. 진짜로(..)&lt;br /&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-mv0E7olafoI/XB-oqHQ03wI/AAAAAAAAH9I/JDgWQ0lrmm4sTjnbH-cQBbtfhjJ1Oy9AgCLcBGAs/s1600/457488_110151_4850.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;576&quot; data-original-width=&quot;860&quot; src=&quot;https://3.bp.blogspot.com/-mv0E7olafoI/XB-oqHQ03wI/AAAAAAAAH9I/JDgWQ0lrmm4sTjnbH-cQBbtfhjJ1Oy9AgCLcBGAs/s500/457488_110151_4850.jpg&quot; width=&quot;500&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;&lt;b&gt;인터넷 끊겨서 직접 왔어&lt;/b&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;&lt;a name=&#39;more&#39;&gt;&lt;/a&gt;피싱 등으로 직원 PC가 털린 후 고객정보 유출로 이어진 동종 업계 사례 때문에 고민인 분을 만났다. 근데 이분 본업은 DBA라고.-_-&lt;br /&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-hXe2xIsCoR0/W7F9JxwdcyI/AAAAAAAAHtI/fI6aAlQo3MoBoUAA_sSkSX3kJGC7AFx_ACLcBGAs/s1600/1.jpeg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;410&quot; data-original-width=&quot;800&quot; src=&quot;https://4.bp.blogspot.com/-hXe2xIsCoR0/W7F9JxwdcyI/AAAAAAAAHtI/fI6aAlQo3MoBoUAA_sSkSX3kJGC7AFx_ACLcBGAs/s500/1.jpeg&quot; width=&quot;500&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;&lt;b&gt;내가 보안 담당자라니&lt;/b&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;내부에서 간단하게 위험을 모니터링할 수 있는 방법을 알려달라고 하는데, 네트워크 통신량같은 거 보는 게 간단하겠지만 정보유출 때문에 통신량이 늘었다면 이미 털린 후.&lt;br /&gt;&lt;br /&gt;더 정밀한 사전징후 포착을 원한다면 (모니터링 대상은 대부분 윈도우 PC일테니) 방법은 이벤트 로그를 뒤지는 건데, 그게 간단했으면 고민일리가 없지.&lt;br /&gt;&lt;br /&gt;어찌어찌 로그 모니터링 체계를 갖추더라도 그 모니터링 제대로 해보자 마음 먹는 순간, DBA 업무는 바이바이(..) 결국 그분 입장에서 가장 간편한 해결책은 망분리라 생각한다. 인터넷과 업무망을 분리하면 뭐가 좋을까?&lt;br /&gt;&lt;br /&gt;인터넷망이 1차 방어선 역할을 해주니 그만큼 업무망이 안전해질 거라는 마음의 위안을 얻을 수 있다. 보안 시장은 기본적으로 보험 시장과 비슷하다. 안전을 위해 &lt;a href=&quot;https://kangmyounghun.blogspot.com/2015/07/blog-post_14.html&quot; target=&quot;_blank&quot;&gt;가만히 있지 않고 뭐라도 했다&lt;/a&gt;는 심리 덕을 본다는 얘기. 보험들면 덜 불안해지는 것과 같은 이치.&lt;br /&gt;&lt;br /&gt;&lt;b&gt;&lt;span style=&quot;font-size: x-large;&quot;&gt;마음의 위안 이상을 원한다면&amp;nbsp;&lt;/span&gt;&lt;/b&gt;&lt;br /&gt;&lt;br /&gt;망분리 이후가 중요하다. 망분리로 얻을 수 있는 유일한 이득은 인터넷망이 뚫리더라도 그 피해가 업무망 노출로 즉각 이어지지 않는다는 것이다. 최악의 상황까지 시간을 벌 수 있다는 얘기.&lt;br /&gt;&lt;br /&gt;당연히 그 시간이 의미가 있으려면 인터넷망에서 무슨 일이 벌어지는지를 알고 있어야 한다. 상황을 알아야 벌어놓은 시간 동안 대응을 할 수 있다. 모르면 최악의 상황이 그저 조금 늦춰질 뿐.&lt;br /&gt;&lt;br /&gt;그런데 망분리를 제안하자 직원들 반발이 심할거라며 그분 표정이 급어두워진다. 본의 아니게 보안 업무를 겸직하면서 마음 고생이 심한 듯.ㅜㅜ&lt;br /&gt;&lt;br /&gt;현재 방화벽만을 운영중이라는 그분 상황이 슬쩍 짐작이 간다. 보통 방화벽 기본 기능 외에 유해사이트 차단 기능을 사용하는 경우가 많은데 이때 방통위의 유해사이트 DB를 많이 이용한다.&lt;br /&gt;&lt;br /&gt;그런데 이 유해사이트 기준이 나름 훌륭(?)해서 불만이 제기될 때가 꽤 잦더라. 개인적으로도 업무 관련 해외 사이트 접속하려다 유해사이트나 접속하는 변태 취급에 광분해서 방화벽 담당자랑 아웅다웅했던 기억이(..)&lt;br /&gt;&lt;br /&gt;업무 수행에 필요한 적절한 지원 없이 위에서는 지시만 내리고, 밑에서는 불편해 못해먹겠다며 치받는 상황이라면 어떻게 해야 할까?&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-MEJHKPUd_1A/XCCHxbLJCtI/AAAAAAAAH9U/OMQIt1E2R58lpCsWdx1GQEA8gDdSeZO5wCLcBGAs/s1600/jj1r4.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;601&quot; data-original-width=&quot;600&quot; height=&quot;320&quot; src=&quot;https://1.bp.blogspot.com/-MEJHKPUd_1A/XCCHxbLJCtI/AAAAAAAAH9U/OMQIt1E2R58lpCsWdx1GQEA8gDdSeZO5wCLcBGAs/s320/jj1r4.jpg&quot; width=&quot;319&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;만만한 후임자라도 찾으시길(..)&lt;br /&gt;&lt;br /&gt;&lt;blockquote class=&quot;tr_bq&quot;&gt;&lt;i&gt;정보보호 조직장의 직급과 직책을 전사적으로 힘을 발휘할 수 있는 수준으로 만들어야 한다. 일할 수 있는 환경을 만들어 주고 일을 시켜야 일이 제대로 돌아간다&lt;/i&gt;&amp;nbsp;- &#39;&lt;a href=&quot;https://kangmyounghun.blogspot.com/2015/02/cxo.html&quot; target=&quot;_blank&quot;&gt;CxO가 읽어야할 정보보안&lt;/a&gt;&#39; 43페이지&lt;br /&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;/blockquote&gt;그나저나 오늘 크리스마스 이브네. 내일 빨간 날이란 뜻.-_- 이 글 보시는 분들 모두 메리 크리스마스~&lt;br /&gt;&lt;br /&gt;&lt;iframe allow=&quot;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&quot; allowfullscreen=&quot;&quot; frameborder=&quot;0&quot; height=&quot;315&quot; src=&quot;https://www.youtube.com/embed/NB9HL867-CQ&quot; width=&quot;560&quot;&gt;&lt;/iframe&gt;</content><link rel='replies' type='application/atom+xml' href='http://kangmyounghun.blogspot.com/feeds/6560015627127618086/comments/default' title='댓글'/><link rel='replies' type='text/html' href='http://kangmyounghun.blogspot.com/2018/12/blog-post_24.html#comment-form' title='0개의 덧글'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/2597780270996323853/posts/default/6560015627127618086'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/2597780270996323853/posts/default/6560015627127618086'/><link rel='alternate' type='text/html' href='http://kangmyounghun.blogspot.com/2018/12/blog-post_24.html' title='사내보안을 강화하려면'/><author><name>강명훈</name><uri>http://www.blogger.com/profile/04275122278203538865</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='//2.bp.blogspot.com/-2J7aNgScC8M/XGF81HaO4bI/AAAAAAAAIIU/lVc7T4qiyuIhSZ3tDNlhTW0Lspu2fA2jwCK4BGAYYCw/s72/kmh.jpg'/></author><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://3.bp.blogspot.com/-mv0E7olafoI/XB-oqHQ03wI/AAAAAAAAH9I/JDgWQ0lrmm4sTjnbH-cQBbtfhjJ1Oy9AgCLcBGAs/s72-c/457488_110151_4850.jpg" height="72" width="72"/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-2597780270996323853.post-6707050077194257102</id><published>2018-12-03T18:19:00.000+09:00</published><updated>2019-03-31T18:57:50.351+09:00</updated><category scheme="http://www.blogger.com/atom/ns#" term="tech"/><title type='text'>Query DSL 맛보기</title><content type='html'>&lt;a href=&quot;https://kangmyounghun.blogspot.com/2017/11/elasticsearch.html&quot; target=&quot;_blank&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;Elasticsearch&lt;/span&gt;에서 원하는 데이터만 삭제&lt;/a&gt;하고 싶을 때는 원하는 데이터만 골라주는 쿼리문을 작성해야 하는데, 이때&amp;nbsp;&lt;a href=&quot;https://www.json.org/json-ko.html&quot; target=&quot;_blank&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;JSON&lt;/span&gt;&lt;/a&gt;&amp;nbsp;기반의 &lt;a href=&quot;https://www.elastic.co/guide/en/elasticsearch/reference/6.x/query-dsl.html&quot; target=&quot;_blank&quot;&gt;쿼리문&lt;/a&gt;을 사용한다. 간단히 얘기하면&amp;nbsp;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;{}&lt;/span&gt;를 이용해서 계층을 구분하는 쿼리문.&lt;br /&gt;&lt;br /&gt;다음은 &lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;message&lt;/span&gt; 필드값이 &#39;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;this is a test&lt;/span&gt;&#39;인 데이터를 조회하는 &#39;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;query - match - &lt;/span&gt;필드명&#39; 구조의 쿼리문.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-0_vQTqcLAvQ/XAQCgDvJrWI/AAAAAAAAH78/OKvQzUzCSewTbuwJtIP8ur4hWT-Vuj7AgCLcBGAs/s1600/1.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;485&quot; data-original-width=&quot;974&quot; src=&quot;https://4.bp.blogspot.com/-0_vQTqcLAvQ/XAQCgDvJrWI/AAAAAAAAH78/OKvQzUzCSewTbuwJtIP8ur4hWT-Vuj7AgCLcBGAs/s530/1.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;a name=&#39;more&#39;&gt;&lt;/a&gt;쿼리문 작성 같은 건 당최 모르겠고 할 때, 전에는&amp;nbsp;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;Discover&lt;/span&gt; 메뉴에서 &lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;Request&lt;/span&gt; 소스코드에 박힌 쿼리문을 복사해올 수 있었다. 그런데 어느 순간 해당 기능이 사라짐(..)&lt;br /&gt;&lt;br /&gt;꼼짝없이 쿼리문을 작성해야 하는 상황. 근데 가만 보니 쿼리 구조가 그리 복잡해보이진 않는다. &#39;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;query - match - field&lt;/span&gt;&#39; 구조만 맞춰주면 되잖아? 다음은 &lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;event_id&lt;/span&gt;가 4688인 데이터만 조회하는 쿼리문. 조회 결과는 31개.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-ycO_NKnr4nc/XAQSos3yBiI/AAAAAAAAH8Q/fPodYH1MghY14igQ2jgN0BWlAwftt9pOQCLcBGAs/s1600/2.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;576&quot; data-original-width=&quot;1106&quot; src=&quot;https://1.bp.blogspot.com/-ycO_NKnr4nc/XAQSos3yBiI/AAAAAAAAH8Q/fPodYH1MghY14igQ2jgN0BWlAwftt9pOQCLcBGAs/s530/2.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;/div&gt;&lt;br /&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;Discover&lt;/span&gt; 메뉴에서 조회한 결과도 같다.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-wdzg8YHj4w8/XAQTFfPPM3I/AAAAAAAAH8Y/sr4GE8mS2dUniQEVr5EAlCcKNRe5Yq4ngCLcBGAs/s1600/3.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;576&quot; data-original-width=&quot;1106&quot; src=&quot;https://3.bp.blogspot.com/-wdzg8YHj4w8/XAQTFfPPM3I/AAAAAAAAH8Y/sr4GE8mS2dUniQEVr5EAlCcKNRe5Yq4ngCLcBGAs/s530/3.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;다음은 특정 기간 5분 동안 발생한 모든 데이터를 조회하는 쿼리문. &lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;&lt;a href=&quot;https://www.elastic.co/guide/en/elasticsearch/reference/6.x/query-dsl-match-query.html&quot; target=&quot;_blank&quot;&gt;match&lt;/a&gt;&lt;/span&gt; 대신 &lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;&lt;a href=&quot;https://www.elastic.co/guide/en/elasticsearch/reference/6.x/query-dsl-range-query.html&quot; target=&quot;_blank&quot;&gt;range&lt;/a&gt;&lt;/span&gt; 옵션 사용.&lt;br /&gt;&lt;br /&gt;참고로 엘라스틱 쿼리문에서 시간값은 유닉스 시간 형식으로 입력해야 하는데, 유닉스 시간은 10자리 초시간이지만 엘라스틱에서는 밀리초 단위까지 포함한 13자리 값을 입력해야 한다. (검색하면 유닉스 시간 변환기 많음)&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-3r1ioBoKkSU/XAQUTKiVulI/AAAAAAAAH8o/JjQTWPc9x8sqrNsgOIHloW0EY51IFBXJgCLcBGAs/s1600/4.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;576&quot; data-original-width=&quot;1106&quot; src=&quot;https://3.bp.blogspot.com/-3r1ioBoKkSU/XAQUTKiVulI/AAAAAAAAH8o/JjQTWPc9x8sqrNsgOIHloW0EY51IFBXJgCLcBGAs/s530/4.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;역시&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;&amp;nbsp;Discover&lt;/span&gt;&amp;nbsp;메뉴에서도 15개의 결과가 조회된다.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-LQqIqWZLU_U/XAQUTAv51gI/AAAAAAAAH8k/O5FfuzNIPm4sPdh6j9FHWCx0SN8B5v7AwCLcBGAs/s1600/5.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;576&quot; data-original-width=&quot;1106&quot; src=&quot;https://4.bp.blogspot.com/-LQqIqWZLU_U/XAQUTAv51gI/AAAAAAAAH8k/O5FfuzNIPm4sPdh6j9FHWCx0SN8B5v7AwCLcBGAs/s530/5.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;b&gt;&lt;span style=&quot;font-size: x-large;&quot;&gt;필드가 2개 이상이면?&lt;/span&gt;&lt;/b&gt;&lt;br /&gt;&lt;br /&gt;논리 연산을 지원하는 &lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;&lt;a href=&quot;https://www.elastic.co/guide/en/elasticsearch/reference/6.x/query-dsl-bool-query.html&quot; target=&quot;_blank&quot;&gt;bool&lt;/a&gt;&lt;/span&gt; 옵션을 사용하면 된다. 이때&amp;nbsp;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;must&lt;/span&gt;(&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;AND&lt;/span&gt; 연산), &lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;should&lt;/span&gt;(&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;OR&lt;/span&gt; 연산) 등의 하위 옵션을 이용해서 2개 이상의 필드를 검색 조건으로 지정할 수 있다. 다음은 &#39;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;event_id&lt;/span&gt; 값이 4688 &lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;AND&lt;/span&gt; 특정 기간 5분&#39; 조건의 쿼리문. 조회된 데이터는 6개.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-ofcOmr9ELWM/XAQWaFH0NxI/AAAAAAAAH84/bPki_TFMYC8NdqDfbWKt5BX8RcZYzs45ACLcBGAs/s1600/6.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;655&quot; data-original-width=&quot;1106&quot; src=&quot;https://4.bp.blogspot.com/-ofcOmr9ELWM/XAQWaFH0NxI/AAAAAAAAH84/bPki_TFMYC8NdqDfbWKt5BX8RcZYzs45ACLcBGAs/s530/6.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;Discover&lt;/span&gt;&amp;nbsp;메뉴에서 조회된 데이터도 6개.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-ROi3jfRE-iU/XAQWZ4ekElI/AAAAAAAAH80/I8m7oG1myAIBNMvwNttuV-nuwNW8aVXWgCLcBGAs/s1600/7.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;655&quot; data-original-width=&quot;1106&quot; src=&quot;https://1.bp.blogspot.com/-ROi3jfRE-iU/XAQWZ4ekElI/AAAAAAAAH80/I8m7oG1myAIBNMvwNttuV-nuwNW8aVXWgCLcBGAs/s530/7.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&#39;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;bool - must&lt;/span&gt;&#39; 구조 안에 &lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;event_id&lt;/span&gt;와&amp;nbsp;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;@timestamp&lt;/span&gt; 필드를 나열한 쿼리문 구조.&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;GET logstash-2018.11.29/_search&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;{&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;&amp;nbsp; &quot;query&quot;: {&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: #b4a7d6;&quot;&gt;&quot;bool&quot;: {&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: #b6d7a8;&quot;&gt;&quot;must&quot;: [&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; {&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: #fce5cd;&quot;&gt;&quot;match&quot;: {&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;background-color: #fce5cd;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;event_id&quot;: 4688&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;background-color: #fce5cd;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; },&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; {&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: #fce5cd;&quot;&gt;&quot;range&quot;: {&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;background-color: #fce5cd;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;@timestamp&quot;: {&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;background-color: #fce5cd;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;gte&quot;: 1543517400000,&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;background-color: #fce5cd;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;lte&quot;: 1543517700000&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;background-color: #fce5cd;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;background-color: #fce5cd;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;background-color: #b6d7a8;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; ]&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;background-color: #b4a7d6;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;&amp;nbsp; }&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;Dev Tools&lt;/span&gt; 메뉴의 자동완성 기능이 전체 구조를 유지해주기 때문에 몇 번 써보면 금방(?) 익숙해질 수 있을 것 같다.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;iframe allow=&quot;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&quot; allowfullscreen=&quot;&quot; frameborder=&quot;0&quot; height=&quot;315&quot; src=&quot;https://www.youtube.com/embed/b7NNikon7z8&quot; width=&quot;560&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;</content><link rel='replies' type='application/atom+xml' href='http://kangmyounghun.blogspot.com/feeds/6707050077194257102/comments/default' title='댓글'/><link rel='replies' type='text/html' href='http://kangmyounghun.blogspot.com/2018/12/query-dsl.html#comment-form' title='0개의 덧글'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/2597780270996323853/posts/default/6707050077194257102'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/2597780270996323853/posts/default/6707050077194257102'/><link rel='alternate' type='text/html' href='http://kangmyounghun.blogspot.com/2018/12/query-dsl.html' title='Query DSL 맛보기'/><author><name>강명훈</name><uri>http://www.blogger.com/profile/04275122278203538865</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='//2.bp.blogspot.com/-2J7aNgScC8M/XGF81HaO4bI/AAAAAAAAIIU/lVc7T4qiyuIhSZ3tDNlhTW0Lspu2fA2jwCK4BGAYYCw/s72/kmh.jpg'/></author><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://4.bp.blogspot.com/-0_vQTqcLAvQ/XAQCgDvJrWI/AAAAAAAAH78/OKvQzUzCSewTbuwJtIP8ur4hWT-Vuj7AgCLcBGAs/s72-c/1.png" height="72" width="72"/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-2597780270996323853.post-6866479630283275075</id><published>2018-11-30T12:52:00.000+09:00</published><updated>2018-12-24T00:05:17.397+09:00</updated><category scheme="http://www.blogger.com/atom/ns#" term="tech"/><title type='text'>Elasticsearch 플래티넘 기능 사용하기</title><content type='html'>6.3 버전부터 &lt;a href=&quot;https://kangmyounghun.blogspot.com/2018/05/x-pack.html&quot; target=&quot;_blank&quot;&gt;X-Pack&lt;/a&gt; 기능이 아예 통합된 건 다들 아실테고, &#39;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;Management &amp;gt; License Management&lt;/span&gt;&#39; 메뉴에서 &#39;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;Start trial&lt;/span&gt;&#39; 버튼을 클릭하면 해당 기능을 30일간 제한없이 사용할 수 있다. 물론 라이센스 있으면 업데이트 하면 되고.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-9P1xpdI74d4/XAAXQXCukMI/AAAAAAAAH6U/MKfjORW6nEAT8bLrjTG362ju3GXLs8nswCLcBGAs/s1600/1.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;710&quot; data-original-width=&quot;1240&quot; src=&quot;https://2.bp.blogspot.com/-9P1xpdI74d4/XAAXQXCukMI/AAAAAAAAH6U/MKfjORW6nEAT8bLrjTG362ju3GXLs8nswCLcBGAs/s530/1.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;a name=&#39;more&#39;&gt;&lt;/a&gt;베이직 라이센스를 쓸 때 가장 아쉬운 기능이 아마 인증일 것이다. 기본 설정 상태로 외부에 오픈했다가 아무나 들어와서 인덱스 지우고 튀는 사태가 벌어질 수도 있고(..)&lt;br /&gt;&lt;br /&gt;그런데 통합 전에는 X-Pack만 설치하면 알아서 인증 기능이 활성화됐는데 통합되고는 &#39;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;Start trial&lt;/span&gt;&#39; 버튼 클릭해도 바뀌는 게 없다. 설정을 직접 건드려야 한다는 얘기. &lt;strike&gt;왠지 더 불편&lt;/strike&gt;&lt;br /&gt;&lt;br /&gt;&lt;b&gt;&lt;span style=&quot;font-size: x-large;&quot;&gt;일단 인증&lt;/span&gt;&lt;/b&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;elasticsearch.yml&lt;/span&gt;에 인증 설정 추가&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-78rs5ffUWiI/XAAesAN2IOI/AAAAAAAAH6g/5rbKRj1GD2wX_HIyXBdy15C2nfAK5KaQwCLcBGAs/s1600/2.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;454&quot; data-original-width=&quot;1143&quot; src=&quot;https://3.bp.blogspot.com/-78rs5ffUWiI/XAAesAN2IOI/AAAAAAAAH6g/5rbKRj1GD2wX_HIyXBdy15C2nfAK5KaQwCLcBGAs/s530/2.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;계정 활성화.&lt;br /&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-XJL1cTbCbmQ/XAAgAAAXz3I/AAAAAAAAH6w/SR82vM-e8RYrcIptN2_TAFWGkZ3f0I2fgCLcBGAs/s1600/3.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;666&quot; data-original-width=&quot;1141&quot; src=&quot;https://2.bp.blogspot.com/-XJL1cTbCbmQ/XAAgAAAXz3I/AAAAAAAAH6w/SR82vM-e8RYrcIptN2_TAFWGkZ3f0I2fgCLcBGAs/s530/3.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;&lt;b&gt;기본 계정만 6개&lt;/b&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;/div&gt;&lt;br /&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;kibana.yml&lt;/span&gt;에도 사용할 계정 설정 추가.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-p39QjebbJ3Y/XAAgoDB4RpI/AAAAAAAAH68/Boxy__VdIEEUWeI53Ty5ciTefrVE9tEigCLcBGAs/s1600/4.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;454&quot; data-original-width=&quot;1143&quot; src=&quot;https://4.bp.blogspot.com/-p39QjebbJ3Y/XAAgoDB4RpI/AAAAAAAAH68/Boxy__VdIEEUWeI53Ty5ciTefrVE9tEigCLcBGAs/s530/4.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;고운 자태 뽐내는 키바나 인증창.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-zrQVwCUO8K0/XAAhw-akdtI/AAAAAAAAH7I/6az86NRzNF8ao_t0NscbolBeG5_XVdGxACLcBGAs/s1600/5.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;710&quot; data-original-width=&quot;1240&quot; src=&quot;https://3.bp.blogspot.com/-zrQVwCUO8K0/XAAhw-akdtI/AAAAAAAAH7I/6az86NRzNF8ao_t0NscbolBeG5_XVdGxACLcBGAs/s530/5.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;b&gt;&lt;span style=&quot;font-size: x-large;&quot;&gt;이제 모니터링&lt;/span&gt;&lt;/b&gt;&lt;br /&gt;&lt;br /&gt;&#39;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;Monitoring&lt;/span&gt;&#39; 메뉴에서 &#39;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;Turn on monitoring&lt;/span&gt;&#39; 버튼을 클릭하면 해당 기능을 사용할 수 있다.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-0Qnu48rU0Bc/XAAidbQEzJI/AAAAAAAAH7Q/XaRhQCRSniY8qERAqV7VbtoQZbq3smuLwCLcBGAs/s1600/6.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;710&quot; data-original-width=&quot;1240&quot; src=&quot;https://3.bp.blogspot.com/-0Qnu48rU0Bc/XAAidbQEzJI/AAAAAAAAH7Q/XaRhQCRSniY8qERAqV7VbtoQZbq3smuLwCLcBGAs/s530/6.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-rsRM2mIQTJ4/XAAkaPvyO1I/AAAAAAAAH7c/wWRTuRnq9scRqLJYkRH2dowaaRGCf6TCgCLcBGAs/s1600/7.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;710&quot; data-original-width=&quot;1240&quot; src=&quot;https://2.bp.blogspot.com/-rsRM2mIQTJ4/XAAkaPvyO1I/AAAAAAAAH7c/wWRTuRnq9scRqLJYkRH2dowaaRGCf6TCgCLcBGAs/s530/7.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;로그스태시 모니터링은 추가 설정 필요.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-aqFbaadi64I/XAA06aR5b0I/AAAAAAAAH7o/8YKvatd0lEEDa6FOBZTT9bJetkPEAXwIACLcBGAs/s1600/8.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;424&quot; data-original-width=&quot;1143&quot; src=&quot;https://2.bp.blogspot.com/-aqFbaadi64I/XAA06aR5b0I/AAAAAAAAH7o/8YKvatd0lEEDa6FOBZTT9bJetkPEAXwIACLcBGAs/s530/8.png&quot; width=&quot;530&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;잘 된다. &lt;strike&gt;왜 집에서만 잘 되지?&lt;/strike&gt;&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&