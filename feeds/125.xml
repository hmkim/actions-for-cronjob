<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
<channel>
<title>Repository for memory</title>
<link>http://myboor.tistory.com/</link>
<description>Problems cannot be solved by the same level of thinking that created them.  - Albert Einstein</description>
<language>ko</language>
<pubDate>Tue, 31 May 2016 11:49:20 +0900</pubDate>
<generator>TISTORY</generator>
<managingEditor>myboor</managingEditor>
<image>
<title>Repository for memory</title>
<url>http://cfile22.uf.tistory.com/image/2518353454B36B2D041D36</url>
<link>http://myboor.tistory.com</link>
<description>Problems cannot be solved by the same level of thinking that created them.  - Albert Einstein</description>
</image>
<item>
<title>Java Persistence</title>
<link>http://myboor.tistory.com/58</link>
<description>&lt;P&gt;Java Persistence에 대한 회사 교육용으로 만든 PPT&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;&lt;IFRAME style=&quot;MARGIN-BOTTOM: 5px; MAX-WIDTH: 100%; BORDER-TOP: #ccc 1px solid; BORDER-RIGHT: #ccc 1px solid; BORDER-BOTTOM: #ccc 1px solid; BORDER-LEFT: #ccc 1px solid&quot; height=355 marginHeight=0 src=&quot;//www.slideshare.net/slideshow/embed_code/43886082&quot; frameBorder=0 width=425 marginWidth=0 scrolling=no allowfullscreen&gt; &lt;/IFRAME&gt; 
&lt;DIV style=&quot;MARGIN-BOTTOM: 5px&quot;&gt;&lt;STRONG&gt;&lt;A title=&quot;What is persistence in java&quot; href=&quot;//www.slideshare.net/benjaminbkim9/what-is-persistenceinjava&quot; target=_blank&gt;What is persistence in java&lt;/A&gt; &lt;/STRONG&gt;from &lt;STRONG&gt;&lt;A href=&quot;//www.slideshare.net/benjaminbkim9&quot; target=_blank&gt;Benjamin Kim&lt;/A&gt;&lt;/STRONG&gt; &lt;/DIV&gt;&lt;/P&gt;
&lt;p&gt;&amp;nbsp;&lt;/p&gt;&lt;div class=&quot;entry-ccl&quot; style=&quot;clear: both; text-align: right; margin-bottom: 10px&quot;&gt;
	&lt;a href=&quot;http://creativecommons.org/licenses/by-nc-nd/4.0/deed.ko&quot; target=&quot;_blank&quot; style=&quot;text-decoration: none&quot;&gt;
	&lt;img id=&quot;ccl-icon-58-0&quot; class=&quot;entry-ccl-by&quot; src=&quot;//i1.daumcdn.net/cfs.tistory/resource/4191/static/admin/editor/ccl_black01.png&quot; alt=&quot;저작자 표시&quot;/&gt;
	&lt;img id=&quot;ccl-icon-58-1&quot; class=&quot;entry-ccl-nc&quot; src=&quot;//i1.daumcdn.net/cfs.tistory/resource/4191/static/admin/editor/ccl_black02.png&quot; alt=&quot;비영리&quot;/&gt;
	&lt;img id=&quot;ccl-icon-58-2&quot; class=&quot;entry-ccl-nd&quot; src=&quot;//i1.daumcdn.net/cfs.tistory/resource/4191/static/admin/editor/ccl_black03.png&quot; alt=&quot;변경 금지&quot;/&gt;
	&lt;!--
	&lt;rdf:RDF xmlns=&quot;http://web.resource.org/cc/&quot; xmlns:dc=&quot;http://purl.org/dc/elements/1.1/&quot; xmlns:rdf=&quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#&quot;&gt;
		&lt;Work rdf:about=&quot;&quot;&gt;
			&lt;license rdf:resource=&quot;http://creativecommons.org/licenses/by-nc-nd/2.0/kr/&quot; /&gt;
		&lt;/Work&gt;
		&lt;License rdf:about=&quot;http://creativecommons.org/licenses/by-nc-nd/&quot;&gt;
			&lt;permits rdf:resource=&quot;http://web.resource.org/cc/Reproduction&quot;/&gt;
			&lt;permits rdf:resource=&quot;http://web.resource.org/cc/Distribution&quot;/&gt;
			&lt;requires rdf:resource=&quot;http://web.resource.org/cc/Notice&quot;/&gt;
			&lt;requires rdf:resource=&quot;http://web.resource.org/cc/Attribution&quot;/&gt;
			&lt;prohibits rdf:resource=&quot;http://web.resource.org/cc/CommercialUse&quot;/&gt;
		&lt;/License&gt;
	&lt;/rdf:RDF&gt;
	--&gt;
	&lt;/a&gt;
&lt;/div&gt;
</description>
<category>SlideShare</category>
<author>myboor</author>
<guid>http://myboor.tistory.com/58</guid>
<comments>http://myboor.tistory.com/58#entry58comment</comments>
<pubDate>Mon, 26 Jan 2015 12:29:34 +0900</pubDate>
</item>
<item>
<title>Spring Proxy</title>
<link>http://myboor.tistory.com/57</link>
<description>&lt;DIV id=id_54bdc7f18bcfb4381297822 class=&quot;text_exposed_root text_exposed&quot;&gt;
&lt;P&gt;Spring Transaction 설정은 다음과 같다.&lt;/P&gt;
&lt;P&gt;&amp;lt;tx:annotation-driven proxy-target-class=&quot;true&quot; /&amp;gt;&lt;/P&gt;
&lt;P&gt;proxy-target-class 옵션이 궁금해서 찾아보다가 &lt;SPAN class=text_exposed_hide&gt;...&lt;/SPAN&gt;&lt;/P&gt;
&lt;P&gt;&lt;SPAN class=text_exposed_hide&gt;&lt;/SPAN&gt;&lt;SPAN class=text_exposed_show&gt;&lt;br /&gt;박재성님의 글도 보고, (&lt;A href=&quot;http://wiki.javajigi.net/pages/viewpage.action?pageId=1065&quot; rel=nofollow target=_blank&gt;&lt;U&gt;&lt;FONT color=#0066cc&gt;http://wiki.javajigi.net/pages/viewpage.action?pageId=1065&lt;/FONT&gt;&lt;/U&gt;&lt;/A&gt;)&lt;/SPAN&gt;&lt;/P&gt;
&lt;DIV class=text_exposed_show&gt;
&lt;P&gt;백기선님의 글도 보고 (&lt;A href=&quot;http://whiteship.me/?p=11084&quot; rel=nofollow target=_blank&gt;&lt;U&gt;&lt;FONT color=#0066cc&gt;http://whiteship.me/?p=11084&lt;/FONT&gt;&lt;/U&gt;&lt;/A&gt;)&lt;/P&gt;
&lt;P&gt;Proxy Design Pattern 도 보고(&lt;A href=&quot;http://en.wikipedia.org/wiki/Proxy_pattern&quot; rel=nofollow target=_blank&gt;&lt;U&gt;&lt;FONT color=#0066cc&gt;http://en.wikipedia.org/wiki/Proxy_pattern&lt;/FONT&gt;&lt;/U&gt;&lt;/A&gt;)&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;간단히 정리하면 @Transactional 어노테이션을 사용하기 위해서는 위의 설정을 사용해야 하는데..&lt;/P&gt;
&lt;P&gt;- proxy-target-class 옵션이 false 이면 JDK의 다이나믹 프록시를 사용해야 하고, true 이면 CGLIB의 프록시를 사용해야 한다.&lt;/P&gt;
&lt;P&gt;- JDK의 다이나믹 프록시는 interface가 반드시 필요하고&lt;/P&gt;
&lt;P&gt;- CGLIB의 프록시는 클래스만 있어도 된다&lt;/P&gt;
&lt;P&gt;- 성능은 CGLIB이 빠르긴하다&lt;/P&gt;
&lt;P&gt;- java 옵션 -server를 붙이면 JDK의 다이나믹 프록시도 올라간다.&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;정리하기 위해서 메모 포스팅.&lt;/P&gt;&lt;/DIV&gt;&lt;/DIV&gt;&lt;div class=&quot;entry-ccl&quot; style=&quot;clear: both; text-align: right; margin-bottom: 10px&quot;&gt;
	&lt;a href=&quot;http://creativecommons.org/licenses/by-nc-nd/4.0/deed.ko&quot; target=&quot;_blank&quot; style=&quot;text-decoration: none&quot;&gt;
	&lt;img id=&quot;ccl-icon-57-0&quot; class=&quot;entry-ccl-by&quot; src=&quot;//i1.daumcdn.net/cfs.tistory/resource/4191/static/admin/editor/ccl_black01.png&quot; alt=&quot;저작자 표시&quot;/&gt;
	&lt;img id=&quot;ccl-icon-57-1&quot; class=&quot;entry-ccl-nc&quot; src=&quot;//i1.daumcdn.net/cfs.tistory/resource/4191/static/admin/editor/ccl_black02.png&quot; alt=&quot;비영리&quot;/&gt;
	&lt;img id=&quot;ccl-icon-57-2&quot; class=&quot;entry-ccl-nd&quot; src=&quot;//i1.daumcdn.net/cfs.tistory/resource/4191/static/admin/editor/ccl_black03.png&quot; alt=&quot;변경 금지&quot;/&gt;
	&lt;!--
	&lt;rdf:RDF xmlns=&quot;http://web.resource.org/cc/&quot; xmlns:dc=&quot;http://purl.org/dc/elements/1.1/&quot; xmlns:rdf=&quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#&quot;&gt;
		&lt;Work rdf:about=&quot;&quot;&gt;
			&lt;license rdf:resource=&quot;http://creativecommons.org/licenses/by-nc-nd/2.0/kr/&quot; /&gt;
		&lt;/Work&gt;
		&lt;License rdf:about=&quot;http://creativecommons.org/licenses/by-nc-nd/&quot;&gt;
			&lt;permits rdf:resource=&quot;http://web.resource.org/cc/Reproduction&quot;/&gt;
			&lt;permits rdf:resource=&quot;http://web.resource.org/cc/Distribution&quot;/&gt;
			&lt;requires rdf:resource=&quot;http://web.resource.org/cc/Notice&quot;/&gt;
			&lt;requires rdf:resource=&quot;http://web.resource.org/cc/Attribution&quot;/&gt;
			&lt;prohibits rdf:resource=&quot;http://web.resource.org/cc/CommercialUse&quot;/&gt;
		&lt;/License&gt;
	&lt;/rdf:RDF&gt;
	--&gt;
	&lt;/a&gt;
&lt;/div&gt;
</description>
<category>Spring</category>
<author>myboor</author>
<guid>http://myboor.tistory.com/57</guid>
<comments>http://myboor.tistory.com/57#entry57comment</comments>
<pubDate>Tue, 20 Jan 2015 12:18:02 +0900</pubDate>
</item>
<item>
<title>RESTful API Guide</title>
<link>http://myboor.tistory.com/55</link>
<description>&lt;P&gt;REST API Guide &lt;/P&gt;
&lt;P&gt;사내 개발 가이드용으로 발표한것 남깁니다.&lt;/P&gt;
&lt;P&gt;여러 블로그에서 내용을 조합한것 입니다.&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;&lt;IFRAME style=&quot;BORDER-TOP: medium none; BORDER-RIGHT: medium none; BORDER-BOTTOM: medium none; BORDER-LEFT: medium none&quot; height=570 marginHeight=0 src=&quot;http://www.slideshare.net/benjaminbkim9/slideshelf&quot; frameBorder=0 width=760 marginWidth=0 scrolling=no mozallowfullscreen webkitallowfullscreen allowfullscreen&gt;&lt;/IFRAME&gt;&lt;/P&gt;
&lt;p&gt;&amp;nbsp;&lt;/p&gt;&lt;div class=&quot;entry-ccl&quot; style=&quot;clear: both; text-align: right; margin-bottom: 10px&quot;&gt;
	&lt;a href=&quot;http://creativecommons.org/licenses/by-nc-nd/4.0/deed.ko&quot; target=&quot;_blank&quot; style=&quot;text-decoration: none&quot;&gt;
	&lt;img id=&quot;ccl-icon-55-0&quot; class=&quot;entry-ccl-by&quot; src=&quot;//i1.daumcdn.net/cfs.tistory/resource/4191/static/admin/editor/ccl_black01.png&quot; alt=&quot;저작자 표시&quot;/&gt;
	&lt;img id=&quot;ccl-icon-55-1&quot; class=&quot;entry-ccl-nc&quot; src=&quot;//i1.daumcdn.net/cfs.tistory/resource/4191/static/admin/editor/ccl_black02.png&quot; alt=&quot;비영리&quot;/&gt;
	&lt;img id=&quot;ccl-icon-55-2&quot; class=&quot;entry-ccl-nd&quot; src=&quot;//i1.daumcdn.net/cfs.tistory/resource/4191/static/admin/editor/ccl_black03.png&quot; alt=&quot;변경 금지&quot;/&gt;
	&lt;!--
	&lt;rdf:RDF xmlns=&quot;http://web.resource.org/cc/&quot; xmlns:dc=&quot;http://purl.org/dc/elements/1.1/&quot; xmlns:rdf=&quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#&quot;&gt;
		&lt;Work rdf:about=&quot;&quot;&gt;
			&lt;license rdf:resource=&quot;http://creativecommons.org/licenses/by-nc-nd/2.0/kr/&quot; /&gt;
		&lt;/Work&gt;
		&lt;License rdf:about=&quot;http://creativecommons.org/licenses/by-nc-nd/&quot;&gt;
			&lt;permits rdf:resource=&quot;http://web.resource.org/cc/Reproduction&quot;/&gt;
			&lt;permits rdf:resource=&quot;http://web.resource.org/cc/Distribution&quot;/&gt;
			&lt;requires rdf:resource=&quot;http://web.resource.org/cc/Notice&quot;/&gt;
			&lt;requires rdf:resource=&quot;http://web.resource.org/cc/Attribution&quot;/&gt;
			&lt;prohibits rdf:resource=&quot;http://web.resource.org/cc/CommercialUse&quot;/&gt;
		&lt;/License&gt;
	&lt;/rdf:RDF&gt;
	--&gt;
	&lt;/a&gt;
&lt;/div&gt;
</description>
<author>myboor</author>
<guid>http://myboor.tistory.com/55</guid>
<comments>http://myboor.tistory.com/55#entry55comment</comments>
<pubDate>Mon, 12 Jan 2015 15:26:31 +0900</pubDate>
</item>
<item>
<title>MySQL에서 Transaction이 안되는 경우</title>
<link>http://myboor.tistory.com/52</link>
<description>&lt;P&gt;1. 상황&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;Spring 프레임워크의 service layer에서 2개의 테이블에 동시에 데이터를 insert 해야할일이 있었습니다. 1:N 의 관계를 갖는 테이블들에 데이터를 동시에 넣을때 트렌젝션 보장이 되어야 합니다. 하지만&amp;nbsp;sys_spec 테이블과 sys_spec_item 테이블에 데이터를 넣는 도중 sys_spec_item 테이블에 에러가 발생했습니다.&amp;nbsp;다음과 같은 구문으로 분명 transaction rollback 처리를 했지만 정상처리되지 않았습니다. 즉 sys_spec 테이블에 레코드하나가 생성되었고, sys_spec_item 에 3개의 레코드가 생성되었어야 하지만, 2개만 생성되었고 1개는 유실됨.&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;TransacionManager.begin();&lt;/P&gt;
&lt;P&gt;try{&lt;/P&gt;
&lt;P style=&quot;MARGIN-LEFT: 2em&quot;&gt;specDao.insert(specVo);&lt;/P&gt;
&lt;P style=&quot;MARGIN-LEFT: 2em&quot;&gt;for(specItemVo : itemVoList){&lt;/P&gt;
&lt;P style=&quot;MARGIN-LEFT: 4em&quot;&gt;specItemDao.insert(specItemVo);&lt;/P&gt;
&lt;P style=&quot;MARGIN-LEFT: 2em&quot;&gt;}&lt;/P&gt;
&lt;P style=&quot;MARGIN-LEFT: 2em&quot;&gt;TransactionManager.commit();&amp;nbsp;&lt;/P&gt;
&lt;P&gt;catch(Exception e){&lt;/P&gt;
&lt;P style=&quot;MARGIN-LEFT: 2em&quot;&gt;TransactionManager.rollback();&lt;/P&gt;
&lt;P&gt;}&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;제가 사용하는 TransactionManager 클래슨 Spring IoC 컨테이너에 의해서 connection이 자동으로 release 되므로 TransactionManager.end()를 할필요가 없습니다.&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;2. 해결방법&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;MySQL은 Oracle과 달리 기본적으로 autocommit 이 true 이다.&lt;/P&gt;
&lt;P&gt;그러므로 이 autocommit을 해제하는 구문을 TransactionManager.begin() 메소드에 구현하거나 혹은 MySQL 기본 설정을 바꾸도록 합니다.&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;&lt;SPAN style=&quot;COLOR: rgb(0,0,255)&quot;&gt;SELECT @@AUTOCOMMIT; &amp;nbsp; // AUTOCOMMIT 여부 확인 0이면 false, 1면 true&lt;/SPAN&gt;&lt;br /&gt;SET AUTOCOMMIT = TRUE; &amp;nbsp; // AUTOCOMMIT 설정&lt;br /&gt;SET AUTOCOMMIT = FALSE; &amp;nbsp; // AUTOCOMMIT 해제&lt;br /&gt;&lt;/P&gt;
&lt;P&gt;이걸로도 해결이 안되었고 mysql에는 2개의 db engine이 존재함을 알았다. MyISAM, InnoDB.&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;MyISAM은 테이블 단위의 락을 걸지만 InnoDB는 레코드 단위의 락을 걸수 있어 내가 처리하고자하는 일을 할때는 반드시 innoDB를 사용토록 한다. read/write 성능과 저장할수 있는 테이블의 size는 myISAM이 더 낫지만... 정확한 트렌젝션을 하기 위해선&amp;nbsp; innoDB를 사용하는것이 좋을것 같다.&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;특히 로그성 데이터는 그 데이터 양이 방대하고 table 단위의 lock만 제공하면 되기때문에 log성 데이터를 myISAM을 사용하는것도 하나의 방법.&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;#mysql -u [사용자명] -p&lt;/P&gt;
&lt;P&gt;#use [데이터베이스 명]&lt;/P&gt;
&lt;P&gt;#show tables&lt;/P&gt;
&lt;P&gt;#show table status (이러면 어떤 엔진을 사용하는지 알수 있음)&lt;/P&gt;
&lt;P&gt;#&lt;SPAN class=kw1&gt;&lt;STRONG&gt;&lt;FONT color=#993333&gt;ALTER&lt;/FONT&gt;&lt;/STRONG&gt;&lt;/SPAN&gt; &lt;SPAN class=kw1&gt;&lt;STRONG&gt;&lt;FONT color=#993333&gt;TABLE&lt;/FONT&gt;&lt;/STRONG&gt;&lt;/SPAN&gt;&amp;nbsp; &lt;SPAN class=st0&gt;&lt;FONT color=#ff0000&gt;`테이블명`&lt;/FONT&gt;&lt;/SPAN&gt; ENGINE &lt;SPAN class=sy0&gt;&lt;FONT color=#66cc66&gt;=&lt;/FONT&gt;&lt;/SPAN&gt; INNODB&lt;/P&gt;
&lt;P&gt;#&lt;SPAN class=kw1&gt;&lt;STRONG&gt;&lt;FONT color=#993333&gt;ALTER&lt;/FONT&gt;&lt;/STRONG&gt;&lt;/SPAN&gt; &lt;SPAN class=kw1&gt;&lt;STRONG&gt;&lt;FONT color=#993333&gt;TABLE&lt;/FONT&gt;&lt;/STRONG&gt;&lt;/SPAN&gt;&amp;nbsp; &lt;SPAN class=st0&gt;&lt;FONT color=#ff0000&gt;`테이블명`&lt;/FONT&gt;&lt;/SPAN&gt; ENGINE &lt;SPAN class=sy0&gt;&lt;FONT color=#66cc66&gt;=&lt;/FONT&gt;&lt;/SPAN&gt; MYISAM&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;div class=&quot;entry-ccl&quot; style=&quot;clear: both; text-align: right; margin-bottom: 10px&quot;&gt;
	&lt;a href=&quot;http://creativecommons.org/licenses/by-nc-nd/4.0/deed.ko&quot; target=&quot;_blank&quot; style=&quot;text-decoration: none&quot;&gt;
	&lt;img id=&quot;ccl-icon-52-0&quot; class=&quot;entry-ccl-by&quot; src=&quot;//i1.daumcdn.net/cfs.tistory/resource/4191/static/admin/editor/ccl_black01.png&quot; alt=&quot;저작자 표시&quot;/&gt;
	&lt;img id=&quot;ccl-icon-52-1&quot; class=&quot;entry-ccl-nc&quot; src=&quot;//i1.daumcdn.net/cfs.tistory/resource/4191/static/admin/editor/ccl_black02.png&quot; alt=&quot;비영리&quot;/&gt;
	&lt;img id=&quot;ccl-icon-52-2&quot; class=&quot;entry-ccl-nd&quot; src=&quot;//i1.daumcdn.net/cfs.tistory/resource/4191/static/admin/editor/ccl_black03.png&quot; alt=&quot;변경 금지&quot;/&gt;
	&lt;!--
	&lt;rdf:RDF xmlns=&quot;http://web.resource.org/cc/&quot; xmlns:dc=&quot;http://purl.org/dc/elements/1.1/&quot; xmlns:rdf=&quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#&quot;&gt;
		&lt;Work rdf:about=&quot;&quot;&gt;
			&lt;license rdf:resource=&quot;http://creativecommons.org/licenses/by-nc-nd/2.0/kr/&quot; /&gt;
		&lt;/Work&gt;
		&lt;License rdf:about=&quot;http://creativecommons.org/licenses/by-nc-nd/&quot;&gt;
			&lt;permits rdf:resource=&quot;http://web.resource.org/cc/Reproduction&quot;/&gt;
			&lt;permits rdf:resource=&quot;http://web.resource.org/cc/Distribution&quot;/&gt;
			&lt;requires rdf:resource=&quot;http://web.resource.org/cc/Notice&quot;/&gt;
			&lt;requires rdf:resource=&quot;http://web.resource.org/cc/Attribution&quot;/&gt;
			&lt;prohibits rdf:resource=&quot;http://web.resource.org/cc/CommercialUse&quot;/&gt;
		&lt;/License&gt;
	&lt;/rdf:RDF&gt;
	--&gt;
	&lt;/a&gt;
&lt;/div&gt;
</description>
<category>MySQL</category>
<author>myboor</author>
<guid>http://myboor.tistory.com/52</guid>
<comments>http://myboor.tistory.com/52#entry52comment</comments>
<pubDate>Sat, 22 Feb 2014 23:17:43 +0900</pubDate>
</item>
<item>
<title>PostgreSQL Backup and Restore - 2</title>
<link>http://myboor.tistory.com/51</link>
<description>&lt;P&gt;원본글 : &lt;A href=&quot;http://www.postgresql.org/docs/9.2/static/continuous-archiving.html&quot;&gt;http://www.postgresql.org/docs/9.2/static/continuous-archiving.html&lt;/A&gt;&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;Oracle 의 경우에는 Archive mode 가 있어 트렌젝션단위마다 log로 관리하고 있다. 그래서 backup 파일 이후 redo log에 남아있는 데이터를 살려야 할때, backup 작업 이후 데이터를 복구해야할때, archive log 를 복구한다. 저는 RMAN으로 보통 Backup 과 복구 모두를 관리하도록 했습니다. 어째든 PostgreSQL 또한 Backup 이후 데이터를 PITR로 복구 할 수 있도록 설계되어 있습니다. 이를 위해서는 PostgreSQL 에 Archive log mode 와 같은 WAL(Write Ahead Log)를 쌓도록 변경해야 합니다. 이 WAL 파일을 이용해서 backup 이후의 데이터를 복구 할 수 있습니다. Oracle의 Incremental backup 과 같은 그런 기능은 제공하지 않지만 full backup 과 WAL 를 이용한 PITR backup을&amp;nbsp; 사용하면 데이터 손실없이 복구할 수 있을것 같다.&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;1. WAL 특징&lt;/P&gt;
&lt;P&gt;WAL 파일은 postgresql data 디렉토리의 pg_xlog/ 디렉토리에 위치하고 있다. 이 파일은 모든 트렌젝션에 대한 로그를 기록하고 있으며, DB가 깨지는것에 대해 대비하기 위해 존재한다. (원문에서는 WAL 파일을 이용한 복구를 'playing' 이라고 하는듯....) WAL 의 특징은 다음과 같다. (특징은 특징일뿐.. 상황에 맞는 Backup Plan이 필요하다. 특징은 참고함 하면 될듯.)&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;-&amp;nbsp;BACKUP 파일이 완전 무결할 필요가 없다. 단지 Backup 한 시점 이후의 WAL 파일을 이용하면 된다.&lt;/P&gt;
&lt;P&gt;- WAL 파일의 숫자는 많아도 상관없다. 즉 가끔 full backup 하고 그뒤의 WAL 파일이 순차적으로 있으면 된다. &lt;/P&gt;
&lt;P&gt;- WAL 파일을 끝까지 replay 할 필요는 없다. 원하는 시간에 중단할 수 도 있다. 그래서 WAL 을 이용한 복구를 point-in-time recovery 라고 한다. &lt;/P&gt;
&lt;P&gt;- WAL 을 이용하면 replication 서버를 구성할 수 있다. 이 내용은 추후 stream-replication에 대해서 다시 언급된다. &lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;2. WAL 설정&lt;/P&gt;
&lt;P&gt;WAL 파일은&amp;nbsp;segment file 로 나뉘게 되며, 각각의 파일은 기본적으로 16M 사이즈를 갖게 된다. (컴파일 하는 과정에서 기본 사이즈는 변경할 수 있다.)&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;postgresql.conf 파일을 열면 다음과 같이 설정을 하자.&amp;nbsp;&lt;/P&gt;
&lt;P&gt;
&lt;TABLE style=&quot;BORDER-BOTTOM: medium none; BORDER-LEFT: medium none; BORDER-COLLAPSE: collapse; FONT-FAMILY: 돋움; FONT-SIZE: 9pt; BORDER-TOP: medium none; BORDER-RIGHT: medium none&quot; class=txc-table border=0 cellSpacing=0 cellPadding=0 width=564&gt;
&lt;TBODY&gt;
&lt;TR&gt;
&lt;TD style=&quot;BORDER-BOTTOM: #ccc 1px solid; BORDER-LEFT: #ccc 1px solid; WIDTH: 564px; HEIGHT: 24px; BORDER-TOP: #ccc 1px solid; BORDER-RIGHT: #ccc 1px solid&quot;&gt;wal_level = archive&lt;br /&gt;archive_mode = on&lt;br /&gt;archive_command = 'cp %p /usr/local/pgsql9.0/standalone/archive/%f'&amp;nbsp;&lt;/TD&gt;&lt;/TR&gt;&lt;/TBODY&gt;&lt;/TABLE&gt;&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;postgreSQL을 restart 하거나 혹은 다음과 같이 postmaster 프로세스만 재기동 한다.&amp;nbsp;&lt;/P&gt;
&lt;P&gt;
&lt;TABLE style=&quot;BORDER-BOTTOM: medium none; BORDER-LEFT: medium none; BORDER-COLLAPSE: collapse; FONT-FAMILY: 돋움; FONT-SIZE: 9pt; BORDER-TOP: medium none; BORDER-RIGHT: medium none&quot; class=txc-table border=0 cellSpacing=0 cellPadding=0 width=564&gt;
&lt;TBODY&gt;
&lt;TR&gt;
&lt;TD style=&quot;BORDER-BOTTOM: #ccc 1px solid; BORDER-LEFT: #ccc 1px solid; WIDTH: 564px; HEIGHT: 24px; BORDER-TOP: #ccc 1px solid; BORDER-RIGHT: #ccc 1px solid&quot;&gt;
&lt;P&gt;pkill -HUP -f postmaster&amp;nbsp;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TBODY&gt;&lt;/TABLE&gt;&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;div class=&quot;entry-ccl&quot; style=&quot;clear: both; text-align: right; margin-bottom: 10px&quot;&gt;
	&lt;a href=&quot;http://creativecommons.org/licenses/by-nc-nd/4.0/deed.ko&quot; target=&quot;_blank&quot; style=&quot;text-decoration: none&quot;&gt;
	&lt;img id=&quot;ccl-icon-51-0&quot; class=&quot;entry-ccl-by&quot; src=&quot;//i1.daumcdn.net/cfs.tistory/resource/4191/static/admin/editor/ccl_black01.png&quot; alt=&quot;저작자 표시&quot;/&gt;
	&lt;img id=&quot;ccl-icon-51-1&quot; class=&quot;entry-ccl-nc&quot; src=&quot;//i1.daumcdn.net/cfs.tistory/resource/4191/static/admin/editor/ccl_black02.png&quot; alt=&quot;비영리&quot;/&gt;
	&lt;img id=&quot;ccl-icon-51-2&quot; class=&quot;entry-ccl-nd&quot; src=&quot;//i1.daumcdn.net/cfs.tistory/resource/4191/static/admin/editor/ccl_black03.png&quot; alt=&quot;변경 금지&quot;/&gt;
	&lt;!--
	&lt;rdf:RDF xmlns=&quot;http://web.resource.org/cc/&quot; xmlns:dc=&quot;http://purl.org/dc/elements/1.1/&quot; xmlns:rdf=&quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#&quot;&gt;
		&lt;Work rdf:about=&quot;&quot;&gt;
			&lt;license rdf:resource=&quot;http://creativecommons.org/licenses/by-nc-nd/2.0/kr/&quot; /&gt;
		&lt;/Work&gt;
		&lt;License rdf:about=&quot;http://creativecommons.org/licenses/by-nc-nd/&quot;&gt;
			&lt;permits rdf:resource=&quot;http://web.resource.org/cc/Reproduction&quot;/&gt;
			&lt;permits rdf:resource=&quot;http://web.resource.org/cc/Distribution&quot;/&gt;
			&lt;requires rdf:resource=&quot;http://web.resource.org/cc/Notice&quot;/&gt;
			&lt;requires rdf:resource=&quot;http://web.resource.org/cc/Attribution&quot;/&gt;
			&lt;prohibits rdf:resource=&quot;http://web.resource.org/cc/CommercialUse&quot;/&gt;
		&lt;/License&gt;
	&lt;/rdf:RDF&gt;
	--&gt;
	&lt;/a&gt;
&lt;/div&gt;
</description>
<category>Postgresql</category>
<author>myboor</author>
<guid>http://myboor.tistory.com/51</guid>
<comments>http://myboor.tistory.com/51#entry51comment</comments>
<pubDate>Tue, 19 Mar 2013 16:47:24 +0900</pubDate>
</item>
<item>
<title>PostgreSQL Backup and Restore - 1</title>
<link>http://myboor.tistory.com/50</link>
<description>&lt;P&gt;원본글 : &lt;A href=&quot;http://www.postgresql.org/docs/9.2/static/backup.html&quot;&gt;http://www.postgresql.org/docs/9.2/static/backup.html&lt;/A&gt;&lt;/P&gt;
&lt;P&gt;환경 : PostgreSQL 9.2.2&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;noSQL 이던 newSQL 이던 RDBMS 이던 ORDBMS 이던 간에, DB에서 가장 중요한 것중 하나는 Backup 과 Restore 이다. 아무리 성능이 뛰어나고 SQL 을 지원하고 확장성이 뛰어나다고 하더라도 Backup &amp;amp; Restore가 부족하면, 적용하기 힘듭니다.&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;PostgreSQL 에서 지원하는 Backup 방식은 3가지 방법이 있습니다.&lt;/P&gt;
&lt;P&gt;1. SQL Dump&lt;/P&gt;
&lt;P&gt;2. File System Level Backup&lt;/P&gt;
&lt;P&gt;3. Continuous archiving&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;위에서 언급한 각각의 방법에는 장단점이 분명히 존재한다. 특히 2번 방법은 cold backup 을 해야하는 단점이 존재한다. 저같은 경우에는 주로 오라클을 사용했으며, Oracle 백업&amp;nbsp;경우에는 Full Backup 과 Increment Backup 그리고 Archive Log mode 이렇게 세가지를 사용하여 최대한 원본에 가깝게 저장하려고 했다. 일단 각각의 방법에 대해서 정리해보도록 합시다.&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;1. SQL Dump 방법&lt;/P&gt;
&lt;P&gt;1.1 pg_dump 명령어&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;
&lt;TABLE style=&quot;BORDER-BOTTOM: medium none; BORDER-LEFT: medium none; BORDER-COLLAPSE: collapse; FONT-FAMILY: 돋움; FONT-SIZE: 9pt; BORDER-TOP: medium none; BORDER-RIGHT: medium none&quot; class=txc-table border=0 cellSpacing=0 cellPadding=0 width=564&gt;
&lt;TBODY&gt;
&lt;TR&gt;
&lt;TD style=&quot;BORDER-BOTTOM: #ccc 1px solid; BORDER-LEFT: #ccc 1px solid; WIDTH: 564px; HEIGHT: 24px; BORDER-TOP: #ccc 1px solid; BORDER-RIGHT: #ccc 1px solid&quot;&gt;pg_dump &lt;EM&gt;&lt;TT class=&quot;REPLACEABLE c2&quot;&gt;dbname&lt;/TT&gt; &amp;gt; &lt;TT class=&quot;REPLACEABLE c2&quot;&gt;outfile&lt;/TT&gt;&lt;/EM&gt;&amp;nbsp;&lt;/TD&gt;&lt;/TR&gt;&lt;/TBODY&gt;&lt;/TABLE&gt;&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;pg_dump를 실행하는 그 순간의 모든 데이터들이 outfile 로 출력된다. 그래서 dump 를 뜬 파일은 pg_dump를 실행한 순간의 snapshot 과 같음을 의미한다. 또한 pg_dump 명령어는 PostgreSQL이 동작중에도 사용할 수 있는 hot-backup의 한종류이다.&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;pg_dump의 특징중 하나는 remote 서버&amp;nbsp;에서 PostgreSQL 서버에 접속해서 데이터 베이스를 덤프뜰 수 있다. &lt;/P&gt;
&lt;P&gt;File level backup 이나 archiving 방식은 PostgreSQL 서버 버전이나 32bit/64bit OS에 따라서 호환성의 문제가 있지만, pg_dump는 호환성문제로부터 자유롭다. 특히 migration을 진행한다면 생각해볼 옵션중 하나다.&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;-h&amp;nbsp; host 옵션&lt;/P&gt;
&lt;P&gt;-p &amp;nbsp;port 옵션&lt;/P&gt;
&lt;P&gt;-U&amp;nbsp; dump를 생성하는 user 계정&lt;/P&gt;
&lt;P&gt;-F&amp;nbsp; p(plain) : plain-text SQL script 파일로 출력&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; c(custom) : 바이너리 백업. 복구시에는 반드시 pg_restore 를 사용해야함&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; t (tar) : tar 압축 백업. 마찬가지로 복구시에는 반드시 pg_restore 를 사용해야함&lt;/P&gt;
&lt;P&gt;-t&amp;nbsp;&amp;nbsp;table 이름만 dump 하는&amp;nbsp;옵션&lt;/P&gt;
&lt;P&gt;-T table 이름을 제외하고 dump 하는 옵션&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;pg_dump의 다양한 옵션들 : &lt;A href=&quot;http://www.postgresql.org/docs/current/static/app-pgdump.html&quot;&gt;http://www.postgresql.org/docs/current/static/app-pgdump.html&lt;/A&gt;&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;&amp;gt; 기본 백업&amp;nbsp;&lt;/P&gt;
&lt;P&gt;
&lt;TABLE style=&quot;BORDER-BOTTOM: medium none; BORDER-LEFT: medium none; BORDER-COLLAPSE: collapse; FONT-FAMILY: 돋움; FONT-SIZE: 9pt; BORDER-TOP: medium none; BORDER-RIGHT: medium none&quot; class=txc-table border=0 cellSpacing=0 cellPadding=0 width=564&gt;
&lt;TBODY&gt;
&lt;TR&gt;
&lt;TD style=&quot;BORDER-BOTTOM: #ccc 1px solid; BORDER-LEFT: #ccc 1px solid; WIDTH: 564px; HEIGHT: 24px; BORDER-TOP: #ccc 1px solid; BORDER-RIGHT: #ccc 1px solid&quot;&gt;
&lt;P&gt;&lt;A href=&quot;mailto:pgsql@LUNA:/home/pgsql%3Epg_dump&quot;&gt;pgsql@LUNA:/home/pgsql&amp;gt;pg_dump&lt;/A&gt; sass &amp;gt; sass.sql&lt;br /&gt;&lt;A href=&quot;mailto:pgsql@LUNA:/home/pgsql%3Els&quot;&gt;pgsql@LUNA:/home/pgsql&amp;gt;ls&lt;/A&gt; -al&lt;br /&gt;total 249246&lt;br /&gt;drwxr-xr-x&amp;nbsp;&amp;nbsp; 2 pgsql&amp;nbsp;&amp;nbsp;&amp;nbsp; other&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 512 Mar 19 13:33 .&lt;br /&gt;drwxr-xr-x&amp;nbsp; 21 root&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; root&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 512 Feb 20 15:24 ..&lt;br /&gt;-rw-r--r--&amp;nbsp;&amp;nbsp; 1 pgsql&amp;nbsp;&amp;nbsp;&amp;nbsp; other&amp;nbsp;&amp;nbsp;&amp;nbsp; 116437938 Mar 19 13:33 sass.sql&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TBODY&gt;&lt;/TABLE&gt;&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;&amp;gt; Custom 백업&lt;/P&gt;
&lt;P&gt;
&lt;TABLE style=&quot;BORDER-BOTTOM: medium none; BORDER-LEFT: medium none; BORDER-COLLAPSE: collapse; FONT-FAMILY: 돋움; FONT-SIZE: 9pt; BORDER-TOP: medium none; BORDER-RIGHT: medium none&quot; class=txc-table border=0 cellSpacing=0 cellPadding=0 width=564&gt;
&lt;TBODY&gt;
&lt;TR&gt;
&lt;TD style=&quot;BORDER-BOTTOM: #ccc 1px solid; BORDER-LEFT: #ccc 1px solid; WIDTH: 564px; HEIGHT: 24px; BORDER-TOP: #ccc 1px solid; BORDER-RIGHT: #ccc 1px solid&quot;&gt;&lt;A href=&quot;mailto:pgsql@LUNA:/home/pgsql%3Epg_dump&quot;&gt;pgsql@LUNA:/home/pgsql&amp;gt;pg_dump&lt;/A&gt; -Fc sass &amp;gt; sass.dump&amp;nbsp;&lt;/TD&gt;&lt;/TR&gt;&lt;/TBODY&gt;&lt;/TABLE&gt;&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;&amp;gt; 특정 table만 백업&amp;nbsp;&lt;/P&gt;
&lt;P&gt;
&lt;TABLE style=&quot;BORDER-BOTTOM: medium none; BORDER-LEFT: medium none; BORDER-COLLAPSE: collapse; FONT-FAMILY: 돋움; FONT-SIZE: 9pt; BORDER-TOP: medium none; BORDER-RIGHT: medium none&quot; class=txc-table border=0 cellSpacing=0 cellPadding=0 width=564&gt;
&lt;TBODY&gt;
&lt;TR&gt;
&lt;TD style=&quot;BORDER-BOTTOM: #ccc 1px solid; BORDER-LEFT: #ccc 1px solid; WIDTH: 564px; HEIGHT: 24px; BORDER-TOP: #ccc 1px solid; BORDER-RIGHT: #ccc 1px solid&quot;&gt;pg_dump -t 'stat*' sass &amp;gt; sass_stat_table.sql&amp;nbsp;&lt;/TD&gt;&lt;/TR&gt;&lt;/TBODY&gt;&lt;/TABLE&gt;&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;&amp;gt;&amp;gt; 백업 복구&lt;/P&gt;
&lt;P&gt;custom 형태로 dump를 받은경우 복구법&lt;/P&gt;
&lt;P&gt;
&lt;TABLE style=&quot;BORDER-BOTTOM: medium none; BORDER-LEFT: medium none; BORDER-COLLAPSE: collapse; FONT-FAMILY: 돋움; FONT-SIZE: 9pt; BORDER-TOP: medium none; BORDER-RIGHT: medium none&quot; class=txc-table border=0 cellSpacing=0 cellPadding=0 width=564&gt;
&lt;TBODY&gt;
&lt;TR&gt;
&lt;TD style=&quot;BORDER-BOTTOM: #ccc 1px solid; BORDER-LEFT: #ccc 1px solid; WIDTH: 564px; HEIGHT: 24px; BORDER-TOP: #ccc 1px solid; BORDER-RIGHT: #ccc 1px solid&quot;&gt;
&lt;P&gt;pg_dump -Fc &lt;TT class=&quot;REPLACEABLE c2&quot;&gt;dbname&lt;/TT&gt; &amp;gt; &lt;TT class=&quot;REPLACEABLE c2&quot;&gt;filename&lt;/TT&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;pg_restore -d &lt;TT class=&quot;REPLACEABLE c2&quot;&gt;dbname&lt;/TT&gt; &lt;TT class=&quot;REPLACEABLE c2&quot;&gt;filename&lt;/TT&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TBODY&gt;&lt;/TABLE&gt;&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;sql 형태로 dump를 받은경우 복구법&lt;/P&gt;
&lt;P&gt;
&lt;TABLE style=&quot;BORDER-BOTTOM: medium none; BORDER-LEFT: medium none; BORDER-COLLAPSE: collapse; FONT-FAMILY: 돋움; FONT-SIZE: 9pt; BORDER-TOP: medium none; BORDER-RIGHT: medium none&quot; class=txc-table border=0 cellSpacing=0 cellPadding=0 width=564&gt;
&lt;TBODY&gt;
&lt;TR&gt;
&lt;TD style=&quot;BORDER-BOTTOM: #ccc 1px solid; BORDER-LEFT: #ccc 1px solid; WIDTH: 564px; HEIGHT: 38px; BORDER-TOP: #ccc 1px solid; BORDER-RIGHT: #ccc 1px solid&quot;&gt;psql &lt;TT class=&quot;REPLACEABLE c2&quot;&gt;dbname&lt;/TT&gt; &amp;lt; &lt;TT class=&quot;REPLACEABLE c2&quot;&gt;infile&lt;/TT&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TBODY&gt;&lt;/TABLE&gt;&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;1.2 pg_dumpall 명령어&lt;/P&gt;
&lt;P&gt;pg_dump는 지정한 database에 대해서만 dump를 뜨고, role 이나 tablespace 정보는 dump 뜨지 않는다. 반면에 pg_dumpall 은 모든 database와 role, tablespace 정보 같은 모든 정보를 덤프 뜬다.&amp;nbsp;pg_dumpall 명령어는&amp;nbsp;내부적으로는 다음과 같은 과정을 거친다. 'role 생성' &amp;gt; 'tablespasce 생성' &amp;gt; '빈 database 생성' &amp;gt; '각각의 데이터 베이스에 따라서 pg_dump 실행' &lt;/P&gt;
&lt;P&gt;Full Backup 을 받는 거라면 차라리 pg_dumpall 을 이용해서 뜨는 것이 낫겠다. 그리고 각 database 들에 대한 consistency를 위해서라도 pg_dumpall 로 fullbackup 하는것이 유용할듯 하다. 또한 pg_dumpall 로 덤프를 만들면 plain SQL 방식이므로 다음과 같이 처리하자.&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;&amp;gt; 기본 백업&amp;nbsp;&lt;/P&gt;
&lt;P&gt;
&lt;TABLE style=&quot;BORDER-BOTTOM: medium none; BORDER-LEFT: medium none; BORDER-COLLAPSE: collapse; FONT-FAMILY: 돋움; FONT-SIZE: 9pt; BORDER-TOP: medium none; BORDER-RIGHT: medium none&quot; class=txc-table border=0 cellSpacing=0 cellPadding=0 width=564&gt;
&lt;TBODY&gt;
&lt;TR&gt;
&lt;TD style=&quot;BORDER-BOTTOM: #ccc 1px solid; BORDER-LEFT: #ccc 1px solid; WIDTH: 564px; HEIGHT: 24px; BORDER-TOP: #ccc 1px solid; BORDER-RIGHT: #ccc 1px solid&quot;&gt;pg_dumpall &amp;gt; dumpall.sql&lt;/TD&gt;&lt;/TR&gt;&lt;/TBODY&gt;&lt;/TABLE&gt;&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;&amp;gt; 압축 백업&lt;/P&gt;
&lt;P&gt;
&lt;TABLE style=&quot;BORDER-BOTTOM: medium none; BORDER-LEFT: medium none; BORDER-COLLAPSE: collapse; FONT-FAMILY: 돋움; FONT-SIZE: 9pt; BORDER-TOP: medium none; BORDER-RIGHT: medium none&quot; class=txc-table border=0 cellSpacing=0 cellPadding=0 width=564&gt;
&lt;TBODY&gt;
&lt;TR&gt;
&lt;TD style=&quot;BORDER-BOTTOM: #ccc 1px solid; BORDER-LEFT: #ccc 1px solid; WIDTH: 564px; HEIGHT: 24px; BORDER-TOP: #ccc 1px solid; BORDER-RIGHT: #ccc 1px solid&quot;&gt;
&lt;P&gt;&amp;nbsp;pg_dumpall | gzip &amp;gt; dumapall.sql.gz&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TBODY&gt;&lt;/TABLE&gt;&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;압축 백업으로 실행하면 약 10배 이상의 압축 효과를 볼 수 있다. (Plain Text를 압축하는 것이라 당연하지만...)&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;&amp;gt; 백업 복원&lt;/P&gt;
&lt;P&gt;
&lt;TABLE style=&quot;BORDER-BOTTOM: medium none; BORDER-LEFT: medium none; BORDER-COLLAPSE: collapse; FONT-FAMILY: 돋움; FONT-SIZE: 9pt; BORDER-TOP: medium none; BORDER-RIGHT: medium none&quot; class=txc-table border=0 cellSpacing=0 cellPadding=0 width=564&gt;
&lt;TBODY&gt;
&lt;TR&gt;
&lt;TD style=&quot;BORDER-BOTTOM: #ccc 1px solid; BORDER-LEFT: #ccc 1px solid; WIDTH: 564px; HEIGHT: 24px; BORDER-TOP: #ccc 1px solid; BORDER-RIGHT: #ccc 1px solid&quot;&gt;&lt;A href=&quot;mailto:pgsql@LUNA:/home/pgsql%3Epsql&quot;&gt;pgsql@LUNA:/home/pgsql&amp;gt;psql&lt;/A&gt; -U sass sass &amp;lt; dumpall.sql&lt;/TD&gt;&lt;/TR&gt;&lt;/TBODY&gt;&lt;/TABLE&gt;&lt;/P&gt;
&lt;P&gt;sass 데이터 베이스를 sass 계정으로 dumpall.sql 로 복원&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;
&lt;TABLE style=&quot;BORDER-BOTTOM: medium none; BORDER-LEFT: medium none; BORDER-COLLAPSE: collapse; FONT-FAMILY: 돋움; FONT-SIZE: 9pt; BORDER-TOP: medium none; BORDER-RIGHT: medium none&quot; class=txc-table border=0 cellSpacing=0 cellPadding=0 width=564&gt;
&lt;TBODY&gt;
&lt;TR&gt;
&lt;TD style=&quot;BORDER-BOTTOM: #ccc 1px solid; BORDER-LEFT: #ccc 1px solid; WIDTH: 564px; HEIGHT: 24px; BORDER-TOP: #ccc 1px solid; BORDER-RIGHT: #ccc 1px solid&quot;&gt;&lt;A href=&quot;mailto:pgsql@LUNA:/home/pgsql%3Epsql&quot;&gt;pgsql@LUNA:/home/pgsql&amp;gt;psql&lt;/A&gt; -f dumpall.sql postgres&lt;/TD&gt;&lt;/TR&gt;&lt;/TBODY&gt;&lt;/TABLE&gt;&lt;/P&gt;
&lt;P&gt;postgres 계정으로 dumpall.sql 을 모두 복원&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;2. File System Level Backup&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;PostgreSQL 데이터 디렉토리를 tar 명령어로 통째로 묶어 버리는 방법. 추천하지는 않음. cold backup 으로 처리해야함.&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;
&lt;TABLE style=&quot;BORDER-BOTTOM: medium none; BORDER-LEFT: medium none; BORDER-COLLAPSE: collapse; FONT-FAMILY: 돋움; FONT-SIZE: 9pt; BORDER-TOP: medium none; BORDER-RIGHT: medium none&quot; class=txc-table border=0 cellSpacing=0 cellPadding=0 width=564&gt;
&lt;TBODY&gt;
&lt;TR&gt;
&lt;TD style=&quot;BORDER-BOTTOM: #ccc 1px solid; BORDER-LEFT: #ccc 1px solid; WIDTH: 564px; HEIGHT: 24px; BORDER-TOP: #ccc 1px solid; BORDER-RIGHT: #ccc 1px solid&quot;&gt;tar -cvf backup.tar /data2/postgresql/data&amp;nbsp;&lt;/TD&gt;&lt;/TR&gt;&lt;/TBODY&gt;&lt;/TABLE&gt;&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;3. Archiving Backup 은 별도로 포스팅 합니다.&lt;/P&gt;&lt;div class=&quot;entry-ccl&quot; style=&quot;clear: both; text-align: right; margin-bottom: 10px&quot;&gt;
	&lt;a href=&quot;http://creativecommons.org/licenses/by-nc-nd/4.0/deed.ko&quot; target=&quot;_blank&quot; style=&quot;text-decoration: none&quot;&gt;
	&lt;img id=&quot;ccl-icon-50-0&quot; class=&quot;entry-ccl-by&quot; src=&quot;//i1.daumcdn.net/cfs.tistory/resource/4191/static/admin/editor/ccl_black01.png&quot; alt=&quot;저작자 표시&quot;/&gt;
	&lt;img id=&quot;ccl-icon-50-1&quot; class=&quot;entry-ccl-nc&quot; src=&quot;//i1.daumcdn.net/cfs.tistory/resource/4191/static/admin/editor/ccl_black02.png&quot; alt=&quot;비영리&quot;/&gt;
	&lt;img id=&quot;ccl-icon-50-2&quot; class=&quot;entry-ccl-nd&quot; src=&quot;//i1.daumcdn.net/cfs.tistory/resource/4191/static/admin/editor/ccl_black03.png&quot; alt=&quot;변경 금지&quot;/&gt;
	&lt;!--
	&lt;rdf:RDF xmlns=&quot;http://web.resource.org/cc/&quot; xmlns:dc=&quot;http://purl.org/dc/elements/1.1/&quot; xmlns:rdf=&quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#&quot;&gt;
		&lt;Work rdf:about=&quot;&quot;&gt;
			&lt;license rdf:resource=&quot;http://creativecommons.org/licenses/by-nc-nd/2.0/kr/&quot; /&gt;
		&lt;/Work&gt;
		&lt;License rdf:about=&quot;http://creativecommons.org/licenses/by-nc-nd/&quot;&gt;
			&lt;permits rdf:resource=&quot;http://web.resource.org/cc/Reproduction&quot;/&gt;
			&lt;permits rdf:resource=&quot;http://web.resource.org/cc/Distribution&quot;/&gt;
			&lt;requires rdf:resource=&quot;http://web.resource.org/cc/Notice&quot;/&gt;
			&lt;requires rdf:resource=&quot;http://web.resource.org/cc/Attribution&quot;/&gt;
			&lt;prohibits rdf:resource=&quot;http://web.resource.org/cc/CommercialUse&quot;/&gt;
		&lt;/License&gt;
	&lt;/rdf:RDF&gt;
	--&gt;
	&lt;/a&gt;
&lt;/div&gt;
</description>
<category>Postgresql</category>
<author>myboor</author>
<guid>http://myboor.tistory.com/50</guid>
<comments>http://myboor.tistory.com/50#entry50comment</comments>
<pubDate>Tue, 19 Mar 2013 15:58:01 +0900</pubDate>
</item>
<item>
<title>PSQL 사용법</title>
<link>http://myboor.tistory.com/49</link>
<description>&lt;P&gt;psql 명령어는 Oracle의 sqlplus 와 같은 CLI 기반의 인터페이스를 제공하고 있습니다.&lt;/P&gt;
&lt;P&gt;GUI 환경으로는 pgAdmin 툴을 제공하고 있으므로, &lt;A href=&quot;http://www.pgadmin.org/&quot;&gt;http://www.pgadmin.org/&lt;/A&gt;&amp;nbsp;에서 다운로드 받아 사용하도록 합니다. &lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;* psql 기본 사용법&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;- Postgresql 접속&lt;/P&gt;
&lt;P&gt;&amp;gt; psql [database name]&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;- Postgresql 종료&lt;/P&gt;
&lt;P&gt;sass=#&amp;nbsp;&amp;nbsp;\q&lt;br /&gt;&lt;br /&gt;- 데이터 베이스의 테이블 List&lt;/P&gt;
&lt;P&gt;sass=# \dt;&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;- 테이블의 스키마 확인&lt;/P&gt;
&lt;P&gt;sass=# \d [table_name];&lt;br /&gt;&lt;/P&gt;
&lt;P&gt;- 쿼리한 내용을 파일로 저장&lt;br /&gt;sass=# \copy ([쿼리문]) to '[파일명]' with [확장자] header;&lt;br /&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;
&lt;TABLE style=&quot;BORDER-BOTTOM: medium none; BORDER-LEFT: medium none; BORDER-COLLAPSE: collapse; FONT-FAMILY: 돋움; FONT-SIZE: 9pt; BORDER-TOP: medium none; BORDER-RIGHT: medium none&quot; class=txc-table border=0 cellSpacing=0 cellPadding=0 width=564&gt;
&lt;TBODY&gt;
&lt;TR&gt;
&lt;TD style=&quot;BORDER-BOTTOM: #ccc 1px solid; BORDER-LEFT: #ccc 1px solid; WIDTH: 564px; HEIGHT: 24px; BORDER-TOP: #ccc 1px solid; BORDER-RIGHT: #ccc 1px solid&quot;&gt;sass=# \copy (select * from stat_code) to 'stat_code.csv' with csv header;&amp;nbsp;&lt;/TD&gt;&lt;/TR&gt;&lt;/TBODY&gt;&lt;/TABLE&gt;&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;- 데이터 베이스 이름 확인&lt;/P&gt;
&lt;P&gt;# psql -l&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;
&lt;TABLE style=&quot;BORDER-BOTTOM: medium none; BORDER-LEFT: medium none; BORDER-COLLAPSE: collapse; FONT-FAMILY: 돋움; FONT-SIZE: 9pt; BORDER-TOP: medium none; BORDER-RIGHT: medium none&quot; class=txc-table border=0 cellSpacing=0 cellPadding=0 width=564&gt;
&lt;TBODY&gt;
&lt;TR&gt;
&lt;TD style=&quot;BORDER-BOTTOM: #ccc 1px solid; BORDER-LEFT: #ccc 1px solid; WIDTH: 564px; HEIGHT: 24px; BORDER-TOP: #ccc 1px solid; BORDER-RIGHT: #ccc 1px solid&quot;&gt;&lt;A href=&quot;mailto:pgsql@LUNA:/data2/postgresql/data%3Epsql&quot;&gt;pgsql@LUNA:/data2/postgresql/data&amp;gt;psql&lt;/A&gt; -l&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; List of databases&lt;br /&gt;&amp;nbsp;&amp;nbsp; Name&amp;nbsp;&amp;nbsp;&amp;nbsp; |&amp;nbsp; Owner&amp;nbsp;&amp;nbsp; | Encoding | Collate | Ctype |&amp;nbsp;&amp;nbsp; Access privileges&amp;nbsp;&amp;nbsp; &lt;br /&gt;-----------+----------+----------+---------+-------+-----------------------&lt;br /&gt;&amp;nbsp;opennms&amp;nbsp;&amp;nbsp; | postgres | UTF8&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; | C&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; | C&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; | =Tc/postgres&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; +&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; |&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; |&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; |&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; |&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; | postgres=CTc/postgres+&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; |&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; |&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; |&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; |&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; | opennms=CTc/postgres&lt;br /&gt;&amp;nbsp;postgres&amp;nbsp; | pgsql&amp;nbsp;&amp;nbsp;&amp;nbsp; | UTF8&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; | C&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; | C&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; | &lt;br /&gt;&amp;nbsp;sass&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; | sass&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; | UTF8&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; | C&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; | C&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; | &lt;br /&gt;&amp;nbsp;template0 | pgsql&amp;nbsp;&amp;nbsp;&amp;nbsp; | UTF8&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; | C&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; | C&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; | =c/pgsql&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; +&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; |&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; |&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; |&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; |&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; | pgsql=CTc/pgsql&lt;br /&gt;&amp;nbsp;template1 | pgsql&amp;nbsp;&amp;nbsp;&amp;nbsp; | UTF8&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; | C&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; | C&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; | =c/pgsql&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; +&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; |&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; |&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; |&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; |&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; | pgsql=CTc/pgsql&amp;nbsp;&lt;/TD&gt;&lt;/TR&gt;&lt;/TBODY&gt;&lt;/TABLE&gt;&lt;/P&gt;
&lt;P&gt;&lt;br /&gt;&lt;br /&gt;- SQL 파일을 실행&lt;/P&gt;
&lt;P&gt;# psql&amp;nbsp;sass &amp;lt; test.sql // 여기서 psql 뒤에 sass는 데이터베이스명이고 test.sql은 sql문 파일명이다.&lt;/P&gt;
&lt;DIV class=autosourcing-stub&gt;&amp;nbsp;&lt;/DIV&gt;&lt;div class=&quot;entry-ccl&quot; style=&quot;clear: both; text-align: right; margin-bottom: 10px&quot;&gt;
	&lt;a href=&quot;http://creativecommons.org/licenses/by-nc-nd/4.0/deed.ko&quot; target=&quot;_blank&quot; style=&quot;text-decoration: none&quot;&gt;
	&lt;img id=&quot;ccl-icon-49-0&quot; class=&quot;entry-ccl-by&quot; src=&quot;//i1.daumcdn.net/cfs.tistory/resource/4191/static/admin/editor/ccl_black01.png&quot; alt=&quot;저작자 표시&quot;/&gt;
	&lt;img id=&quot;ccl-icon-49-1&quot; class=&quot;entry-ccl-nc&quot; src=&quot;//i1.daumcdn.net/cfs.tistory/resource/4191/static/admin/editor/ccl_black02.png&quot; alt=&quot;비영리&quot;/&gt;
	&lt;img id=&quot;ccl-icon-49-2&quot; class=&quot;entry-ccl-nd&quot; src=&quot;//i1.daumcdn.net/cfs.tistory/resource/4191/static/admin/editor/ccl_black03.png&quot; alt=&quot;변경 금지&quot;/&gt;
	&lt;!--
	&lt;rdf:RDF xmlns=&quot;http://web.resource.org/cc/&quot; xmlns:dc=&quot;http://purl.org/dc/elements/1.1/&quot; xmlns:rdf=&quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#&quot;&gt;
		&lt;Work rdf:about=&quot;&quot;&gt;
			&lt;license rdf:resource=&quot;http://creativecommons.org/licenses/by-nc-nd/2.0/kr/&quot; /&gt;
		&lt;/Work&gt;
		&lt;License rdf:about=&quot;http://creativecommons.org/licenses/by-nc-nd/&quot;&gt;
			&lt;permits rdf:resource=&quot;http://web.resource.org/cc/Reproduction&quot;/&gt;
			&lt;permits rdf:resource=&quot;http://web.resource.org/cc/Distribution&quot;/&gt;
			&lt;requires rdf:resource=&quot;http://web.resource.org/cc/Notice&quot;/&gt;
			&lt;requires rdf:resource=&quot;http://web.resource.org/cc/Attribution&quot;/&gt;
			&lt;prohibits rdf:resource=&quot;http://web.resource.org/cc/CommercialUse&quot;/&gt;
		&lt;/License&gt;
	&lt;/rdf:RDF&gt;
	--&gt;
	&lt;/a&gt;
&lt;/div&gt;
</description>
<category>Postgresql</category>
<author>myboor</author>
<guid>http://myboor.tistory.com/49</guid>
<comments>http://myboor.tistory.com/49#entry49comment</comments>
<pubDate>Mon, 18 Mar 2013 17:53:01 +0900</pubDate>
</item>
<item>
<title>Postgresql 소개</title>
<link>http://myboor.tistory.com/48</link>
<description>&lt;P&gt;2012년 말부터 Postgresql 를 사용하고 있는데, 이전에는 주로 Oracle만 사용했었다.&lt;/P&gt;
&lt;P&gt;원가 절감의 특성상, 무료라이센스로 제공되는 DB가 필요하여 Postgresql를 처음 도입한다.&lt;/P&gt;
&lt;P&gt;무료라고 알려진 MySQL은 무조건 무료는 아니다...&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;
&lt;TABLE style=&quot;BORDER-BOTTOM: medium none; BORDER-LEFT: medium none; BORDER-COLLAPSE: collapse; FONT-FAMILY: 돋움; FONT-SIZE: 9pt; BORDER-TOP: medium none; BORDER-RIGHT: medium none&quot; class=txc-table border=0 cellSpacing=0 cellPadding=0 width=564&gt;
&lt;TBODY&gt;
&lt;TR&gt;
&lt;TD style=&quot;BORDER-BOTTOM: #ccc 1px solid; BORDER-LEFT: #ccc 1px solid; WIDTH: 564px; HEIGHT: 24px; BORDER-TOP: #ccc 1px solid; BORDER-RIGHT: #ccc 1px solid&quot;&gt;
&lt;P&gt;&lt;A href=&quot;http://www.mysqlkorea.co.kr/&quot;&gt;http://www.mysqlkorea.co.kr&lt;/A&gt;&amp;nbsp; 에서 License 에서 따온 내용&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;권장사항 &lt;br /&gt;&amp;nbsp; &lt;br /&gt;Oracle Corporation는 사용자에게 적합한 라이센스를 권장합니다. 물론 최종 판결은 법정에서만 가능합니다. &lt;br /&gt;우리는 모든 영리기관과 정부에 상용 라이센스를 권장합니다. &lt;br /&gt;그러면 GPL 라이센스의 폭넓고 엄격한 요구사항 (소스를 공개 해야하는 요구사항)으로부터 자유로울 수 있습니다.&lt;/P&gt;
&lt;P&gt;무료 소프트웨어를 선호하는 사용자에게는 GPL라이센스를 권장합니다. &lt;br /&gt;Oracle Corporation는 GPL라이센스 하에서 모두에게 소프트웨어를 제공하는 세계적인 회사입니다.&lt;/P&gt;
&lt;P&gt;구분이 모호한 사용자에게는 상용 라이센스를 권장합니다. 이것은 잘못된 것이 아닙니다. &lt;br /&gt;소프트웨어 제작에 있어 효율적인 생산비용 덕분에 우리는 상용 라이센스를 업계 최저가로 공급할 수 있습니다. &lt;/P&gt;
&lt;P&gt;&lt;br /&gt;[출처] ::: MySQL Korea ::: - &lt;A href=&quot;http://www.mysqlkorea.co.kr/&quot;&gt;http://www.mysqlkorea.co.kr/&lt;/A&gt;&lt;/P&gt;
&lt;P&gt;MySQL Korea 사이트의 컨텐츠 소유권은 MySQL Korea 에 있으므로&lt;br /&gt;허락 없이 이를 무단전재 하는 경우 저작권법에 민형사적 책임을 지게 되므로&lt;br /&gt;절대 무단 사용을 금해 주시기 바 랍니다&lt;br /&gt;MySQL Korea 저작권 공지 : &lt;A href=&quot;http://www.mysqlkorea.co.kr/sub.html?mcode=others&amp;amp;scode=04&quot;&gt;http://www.mysqlkorea.co.kr/sub.html?mcode=others&amp;amp;scode=04&lt;/A&gt;&lt;/P&gt;
&lt;P&gt;Copyright ⓒ 2010 ssebiz Co., Ltd. All Rights Reserved.&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TBODY&gt;&lt;/TABLE&gt;&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;또한 OMS 특성상 DB가 깨지는것에 대해서 민감하지 않아, 될데로 되라지란 마음가짐으로 도입했지만 매우 만족스러운 성능과 기능을 제공하고 있다. 블로깅하면서 차근차근 그 내용을 정리해서 올리도록 하겠습니다. :)&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;사실 한국에서는 많이 사용하고 있지 않고(MySQL, Oracle, MS-SQL 등을 주로 사용하더라..) 외국에서 많이 사용된다고 한다. 특히 미국쪽에서는 매우 인기 있는 Database 라고 한다. &lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;PostgreSQL : &lt;A href=&quot;http://www.postgresql.org/&quot;&gt;http://www.postgresql.org/&lt;/A&gt;&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;여담으로 Hadoop 도 그렇고 PostgreSQL 도 그렇고 LOGO 가 항상 코끼리이다. 인터넷으로 서칭해보니 코끼리가 기억력이 좋다는 점에서 착안하여 로고를 만들었다고 한다. 그러고 보니 요즘 나오는 오픈 소스들은 대부분 동물이고 그걸 관리하는 eco system 은 zoo keeper 이니 참 잼있다.&amp;nbsp; &lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;div class=&quot;entry-ccl&quot; style=&quot;clear: both; text-align: right; margin-bottom: 10px&quot;&gt;
	&lt;a href=&quot;http://creativecommons.org/licenses/by-nc-nd/4.0/deed.ko&quot; target=&quot;_blank&quot; style=&quot;text-decoration: none&quot;&gt;
	&lt;img id=&quot;ccl-icon-48-0&quot; class=&quot;entry-ccl-by&quot; src=&quot;//i1.daumcdn.net/cfs.tistory/resource/4191/static/admin/editor/ccl_black01.png&quot; alt=&quot;저작자 표시&quot;/&gt;
	&lt;img id=&quot;ccl-icon-48-1&quot; class=&quot;entry-ccl-nc&quot; src=&quot;//i1.daumcdn.net/cfs.tistory/resource/4191/static/admin/editor/ccl_black02.png&quot; alt=&quot;비영리&quot;/&gt;
	&lt;img id=&quot;ccl-icon-48-2&quot; class=&quot;entry-ccl-nd&quot; src=&quot;//i1.daumcdn.net/cfs.tistory/resource/4191/static/admin/editor/ccl_black03.png&quot; alt=&quot;변경 금지&quot;/&gt;
	&lt;!--
	&lt;rdf:RDF xmlns=&quot;http://web.resource.org/cc/&quot; xmlns:dc=&quot;http://purl.org/dc/elements/1.1/&quot; xmlns:rdf=&quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#&quot;&gt;
		&lt;Work rdf:about=&quot;&quot;&gt;
			&lt;license rdf:resource=&quot;http://creativecommons.org/licenses/by-nc-nd/2.0/kr/&quot; /&gt;
		&lt;/Work&gt;
		&lt;License rdf:about=&quot;http://creativecommons.org/licenses/by-nc-nd/&quot;&gt;
			&lt;permits rdf:resource=&quot;http://web.resource.org/cc/Reproduction&quot;/&gt;
			&lt;permits rdf:resource=&quot;http://web.resource.org/cc/Distribution&quot;/&gt;
			&lt;requires rdf:resource=&quot;http://web.resource.org/cc/Notice&quot;/&gt;
			&lt;requires rdf:resource=&quot;http://web.resource.org/cc/Attribution&quot;/&gt;
			&lt;prohibits rdf:resource=&quot;http://web.resource.org/cc/CommercialUse&quot;/&gt;
		&lt;/License&gt;
	&lt;/rdf:RDF&gt;
	--&gt;
	&lt;/a&gt;
&lt;/div&gt;
</description>
<category>Postgresql</category>
<author>myboor</author>
<guid>http://myboor.tistory.com/48</guid>
<comments>http://myboor.tistory.com/48#entry48comment</comments>
<pubDate>Mon, 18 Mar 2013 17:43:47 +0900</pubDate>
</item>
<item>
<title>Jetty 9 Release</title>
<link>http://myboor.tistory.com/47</link>
<description>&lt;P&gt;원본글 : &lt;A href=&quot;http://dev.eclipse.org/mhonarc/lists/jetty-dev/msg01692.html&quot;&gt;http://dev.eclipse.org/mhonarc/lists/jetty-dev/msg01692.html&lt;/A&gt;&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;DIV&gt;&lt;STRONG&gt;Distributions Downloads:&lt;br /&gt;&lt;/STRONG&gt;&lt;A href=&quot;http://download.eclipse.org/jetty/stable-9/dist/&quot;&gt;http://download.eclipse.org/jetty/stable-9/dist/&lt;/A&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;br /&gt;&lt;STRONG&gt;Java Artifacts Available on Maven Central:&lt;br /&gt;&lt;/STRONG&gt;&lt;A href=&quot;http://search.maven.org/#search%7Cga%7C1%7Cg%3A%22org.eclipse.jetty%22%20AND%20v%3A%229.0.0..v20130308%22&quot;&gt;http://search.maven.org/#search%7Cga%7C1%7Cg%3A%22org.eclipse.jetty%22%20AND%20v%3A%229.0.0..v20130308%22&lt;/A&gt;&lt;/DIV&gt;
&lt;DIV&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;가장 큰 변화는 SPDY와 WebSocket 을 지원한다는 점.&lt;/P&gt;
&lt;P&gt;SPDY는 구글에서 밀고 있는 HTTP 프로토콜로서 일반 HTTP 보다 20% 정도 빠르다고 알고 있음.&lt;/P&gt;
&lt;P&gt;일반 HTTP 프로토콜의 내용을 개선한 내용임.&lt;/P&gt;
&lt;P&gt;구글에서 검색이나 메일등에서 사용하고 있으며, chrome에서도 사용하고 있다.&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;Jetty 9.x Features:&lt;/P&gt;
&lt;LI&gt;Completely overhauled I/O layer 
&lt;LI&gt;Servlet API 3.0 
&lt;LI&gt;JSP 2.2 
&lt;LI&gt;SPDY/3 
&lt;LI&gt;WebSocket (RFC-6455)&lt;/LI&gt;&lt;/DIV&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;Jetty 9.x 에서 사용하기 위한 노트.&lt;/P&gt;
&lt;LI&gt;Java 1.7 이상의 JDK 
&lt;LI&gt;Jetty Maven Plugin 이 'org.eclipse.jetty'&amp;nbsp;groupId로 옮겨감 
&lt;LI&gt;초기 WebSocket draft는 배제되고 RFC-6455 spec을 제공함 
&lt;LI&gt;jetty-all 이라는 1개의 JAR 파일만 있으면됨 
&lt;LI&gt;&lt;STRONG&gt;&lt;U&gt;Blocking IO는 더이상 사용하지 않고 NIO 만 사용함&lt;/U&gt;&lt;/STRONG&gt; 
&lt;LI&gt;&lt;STRONG&gt;&lt;U&gt;Jetty WebSocket Servlet 과 WebSocket Client&amp;nbsp; 제공&lt;/U&gt;&lt;/STRONG&gt; 
&lt;LI&gt;&lt;STRONG&gt;&lt;U&gt;Jetty Async Http Client&amp;nbsp; 제공&lt;/U&gt;&lt;/STRONG&gt; 
&lt;LI&gt;기타 등등&lt;/LI&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;아하하하 :)&lt;/P&gt;&lt;div class=&quot;entry-ccl&quot; style=&quot;clear: both; text-align: right; margin-bottom: 10px&quot;&gt;
	&lt;a href=&quot;http://creativecommons.org/licenses/by-nc-nd/4.0/deed.ko&quot; target=&quot;_blank&quot; style=&quot;text-decoration: none&quot;&gt;
	&lt;img id=&quot;ccl-icon-47-0&quot; class=&quot;entry-ccl-by&quot; src=&quot;//i1.daumcdn.net/cfs.tistory/resource/4191/static/admin/editor/ccl_black01.png&quot; alt=&quot;저작자 표시&quot;/&gt;
	&lt;img id=&quot;ccl-icon-47-1&quot; class=&quot;entry-ccl-nc&quot; src=&quot;//i1.daumcdn.net/cfs.tistory/resource/4191/static/admin/editor/ccl_black02.png&quot; alt=&quot;비영리&quot;/&gt;
	&lt;img id=&quot;ccl-icon-47-2&quot; class=&quot;entry-ccl-nd&quot; src=&quot;//i1.daumcdn.net/cfs.tistory/resource/4191/static/admin/editor/ccl_black03.png&quot; alt=&quot;변경 금지&quot;/&gt;
	&lt;!--
	&lt;rdf:RDF xmlns=&quot;http://web.resource.org/cc/&quot; xmlns:dc=&quot;http://purl.org/dc/elements/1.1/&quot; xmlns:rdf=&quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#&quot;&gt;
		&lt;Work rdf:about=&quot;&quot;&gt;
			&lt;license rdf:resource=&quot;http://creativecommons.org/licenses/by-nc-nd/2.0/kr/&quot; /&gt;
		&lt;/Work&gt;
		&lt;License rdf:about=&quot;http://creativecommons.org/licenses/by-nc-nd/&quot;&gt;
			&lt;permits rdf:resource=&quot;http://web.resource.org/cc/Reproduction&quot;/&gt;
			&lt;permits rdf:resource=&quot;http://web.resource.org/cc/Distribution&quot;/&gt;
			&lt;requires rdf:resource=&quot;http://web.resource.org/cc/Notice&quot;/&gt;
			&lt;requires rdf:resource=&quot;http://web.resource.org/cc/Attribution&quot;/&gt;
			&lt;prohibits rdf:resource=&quot;http://web.resource.org/cc/CommercialUse&quot;/&gt;
		&lt;/License&gt;
	&lt;/rdf:RDF&gt;
	--&gt;
	&lt;/a&gt;
&lt;/div&gt;
</description>
<category>Util</category>
<author>myboor</author>
<guid>http://myboor.tistory.com/47</guid>
<comments>http://myboor.tistory.com/47#entry47comment</comments>
<pubDate>Tue, 12 Mar 2013 17:22:50 +0900</pubDate>
</item>
<item>
<title>SOCAT 포트 포워딩 툴</title>
<link>http://myboor.tistory.com/46</link>
<description>&lt;P&gt;본인이 개발하는 프로세스는 모든 장비에서 하나의 서버로 UDP를 사용하여 패킷을 전송한다.&lt;/P&gt;
&lt;P&gt;목적 : Major 버전 업그레이드전 혹은 장비 변경전 정상적으로 동작하는지 알아보기 위해서 UDP 패킷을 포워딩한다.&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;TCP/IP를 사용하면 TCPXD로 포트포워딩하면 되겠지만 UDP는 지원하지 않는다.&lt;/P&gt;
&lt;P&gt;찾아본 결과 SOCAT 이라는 녀석이 상당히 많은 기능을 제공하여 적용해보았다.&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;SOCAT download site : &lt;A href=&quot;http://www.dest-unreach.org/socat/&quot;&gt;http://www.dest-unreach.org/socat/&lt;/A&gt;&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;설치는 다음과 같은 과정으로 처리한다.&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;
&lt;TABLE style=&quot;BORDER-BOTTOM: medium none; BORDER-LEFT: medium none; BORDER-COLLAPSE: collapse; FONT-FAMILY: 돋움; FONT-SIZE: 9pt; BORDER-TOP: medium none; BORDER-RIGHT: medium none&quot; class=txc-table border=0 cellSpacing=0 cellPadding=0 width=664&gt;
&lt;TBODY&gt;
&lt;TR&gt;
&lt;TD style=&quot;BORDER-BOTTOM: #ccc 1px solid; BORDER-LEFT: #ccc 1px solid; WIDTH: 664px; HEIGHT: 24px; BORDER-TOP: #ccc 1px solid; BORDER-RIGHT: #ccc 1px solid&quot;&gt;
&lt;P&gt;&lt;A href=&quot;mailto:root@OLP&quot;&gt;root@OLP&lt;/A&gt; # ./configure&lt;/P&gt;
&lt;P&gt;&lt;A href=&quot;mailto:root@OLP&quot;&gt;root@OLP&lt;/A&gt; # make&lt;/P&gt;
&lt;P&gt;&lt;A href=&quot;mailto:root@OLP&quot;&gt;root@OLP&lt;/A&gt; # make install&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TBODY&gt;&lt;/TABLE&gt;&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;만약 위의 과정에서 make 과정에서 다음과 같은 에러를 발견하면 다음과 같이 처리한다.&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;
&lt;TABLE style=&quot;BORDER-BOTTOM: medium none; BORDER-LEFT: medium none; BORDER-COLLAPSE: collapse; FONT-FAMILY: 돋움; FONT-SIZE: 9pt; BORDER-TOP: medium none; BORDER-RIGHT: medium none&quot; class=txc-table border=0 cellSpacing=0 cellPadding=0 width=664&gt;
&lt;TBODY&gt;
&lt;TR&gt;
&lt;TD style=&quot;BORDER-BOTTOM: #ccc 1px solid; BORDER-LEFT: #ccc 1px solid; WIDTH: 664px; HEIGHT: 74px; BORDER-TOP: #ccc 1px solid; BORDER-RIGHT: #ccc 1px solid&quot;&gt;
&lt;P&gt;&lt;FONT face=&quot;Courier New&quot;&gt;xioopts.c: In function 'applyopts_single':&lt;br /&gt;xioopts.c:3998: error: 'struct single' has no member named 'fd1'&lt;br /&gt;xioopts.c:4000: error: 'struct single' has no member named 'fd1'&lt;br /&gt;make[1]: *** [xioopts.o] Error 1&lt;/FONT&gt;&amp;nbsp;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TBODY&gt;&lt;/TABLE&gt;&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;xioopts.c 의 코드중에서 3998 &amp;amp; 4000라인의 fd1 을 rfd로 변경하고 다시 make 한다.&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;
&lt;TABLE style=&quot;BORDER-BOTTOM: medium none; BORDER-LEFT: medium none; BORDER-COLLAPSE: collapse; FONT-FAMILY: 돋움; FONT-SIZE: 9pt; BORDER-TOP: medium none; BORDER-RIGHT: medium none&quot; class=txc-table border=0 cellSpacing=0 cellPadding=0 width=664&gt;
&lt;TBODY&gt;
&lt;TR&gt;
&lt;TD style=&quot;BORDER-BOTTOM: #ccc 1px solid; BORDER-LEFT: #ccc 1px solid; WIDTH: 664px; HEIGHT: 24px; BORDER-TOP: #ccc 1px solid; BORDER-RIGHT: #ccc 1px solid&quot;&gt;
&lt;P&gt;&lt;A href=&quot;mailto:sass@OLP:/home/sass/socat-2.0.0-b5%3Evi&quot;&gt;sass@OLP:/home/sass/socat-2.0.0-b5&amp;gt;vi&lt;/A&gt; xioopts.c &lt;/P&gt;
&lt;P&gt;if (Setsockopt(xfd-&amp;gt;&lt;STRONG&gt;&lt;U&gt;rfd&lt;/U&gt;&lt;/STRONG&gt;, opt-&amp;gt;desc-&amp;gt;major, opt-&amp;gt;desc-&amp;gt;minor,&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;amp;ip4_mreqn.mreq, sizeof(ip4_mreqn.mreq)) &amp;lt; 0) {&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; Error7(&quot;setsockopt(%d, %d, %d, {0x%08x,0x%08x}, &quot;F_Zu&quot;): %s&quot;,&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; xfd-&amp;gt;&lt;STRONG&gt;&lt;U&gt;rfd&lt;/U&gt;&lt;/STRONG&gt;, opt-&amp;gt;desc-&amp;gt;major, opt-&amp;gt;desc-&amp;gt;minor,&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TBODY&gt;&lt;/TABLE&gt;&lt;/P&gt;
&lt;P&gt;자신의 서버에서 9111 포트로 받은 UDP 패킷을 10.192.1.1 서버의 9111 포트로 다시 재전송하려면 다음과 같이하면 된다.&lt;/P&gt;
&lt;P&gt;특히 fork 는 데몬과 같이 동작하라는 옵션이다.&amp;nbsp;&lt;/P&gt;
&lt;P&gt;
&lt;TABLE style=&quot;BORDER-BOTTOM: medium none; BORDER-LEFT: medium none; BORDER-COLLAPSE: collapse; FONT-FAMILY: 돋움; FONT-SIZE: 9pt; BORDER-TOP: medium none; BORDER-RIGHT: medium none&quot; class=txc-table border=0 cellSpacing=0 cellPadding=0 width=664&gt;
&lt;TBODY&gt;
&lt;TR&gt;
&lt;TD style=&quot;BORDER-BOTTOM: #ccc 1px solid; BORDER-LEFT: #ccc 1px solid; WIDTH: 664px; HEIGHT: 21px; BORDER-TOP: #ccc 1px solid; BORDER-RIGHT: #ccc 1px solid&quot;&gt;
&lt;P&gt;&amp;nbsp;&lt;A href=&quot;mailto:root@OLP&quot;&gt;root@OLP&lt;/A&gt; # socat UDP4-RECVFROM:9111,fork UDP4-SENDTO:10.192.1.1:9111&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TBODY&gt;&lt;/TABLE&gt;&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;어째든 잘된다. :)&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;만약 Background Daemon으로 돌리려면 nohup 명령어와 같이 사용하면 된다.&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;
&lt;TABLE style=&quot;BORDER-BOTTOM: medium none; BORDER-LEFT: medium none; BORDER-COLLAPSE: collapse; FONT-FAMILY: 돋움; FONT-SIZE: 9pt; BORDER-TOP: medium none; BORDER-RIGHT: medium none&quot; class=txc-table border=0 cellSpacing=0 cellPadding=0 width=664&gt;
&lt;TBODY&gt;
&lt;TR&gt;
&lt;TD style=&quot;BORDER-BOTTOM: #ccc 1px solid; BORDER-LEFT: #ccc 1px solid; WIDTH: 664px; HEIGHT: 24px; BORDER-TOP: #ccc 1px solid; BORDER-RIGHT: #ccc 1px solid&quot;&gt;nohup socat -lm UDP4-RECVFROM:9111,fork UDP4-SENDTO:10.192.1.1:9111 2&amp;gt;&amp;amp;1 &amp;amp; &amp;nbsp;&lt;/TD&gt;&lt;/TR&gt;&lt;/TBODY&gt;&lt;/TABLE&gt;&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;&amp;nbsp;&lt;/P&gt;
&lt;P&gt;참고 : &lt;/P&gt;
&lt;P&gt;&lt;A href=&quot;http://www.dest-unreach.org/socat/&quot;&gt;http://www.dest-unreach.org/socat/&lt;/A&gt;&lt;/P&gt;
&lt;P&gt;&lt;A href=&quot;http://www.rajatswarup.com/blog/2013/01/15/socat-compilation-on-cygwin/&quot;&gt;http://www.rajatswarup.com/blog/2013/01/15/socat-compilation-on-cygwin/&lt;/A&gt;&lt;/P&gt;
&lt;P&gt;&lt;A href=&quot;http://mattryall.net/blog/2011/09/udp-port-forwarding-with-socat&quot;&gt;http://mattryall.net/blog/2011/09/udp-port-forwarding-with-socat&lt;/A&gt;&lt;/P&gt;&lt;div class=&quot;entry-ccl&quot; style=&quot;clear: both; text-align: right; margin-bottom: 10px&quot;&gt;
	&lt;a href=&quot;http://creativecommons.org/licenses/by-nc-nd/4.0/deed.ko&quot; target=&quot;_blank&quot; style=&quot;text-decoration: none&quot;&gt;
	&lt;img id=&quot;ccl-icon-46-0&quot; class=&quot;entry-ccl-by&quot; src=&quot;//i1.daumcdn.net/cfs.tistory/resource/4191/static/admin/editor/ccl_black01.png&quot; alt=&quot;저작자 표시&quot;/&gt;
	&lt;img id=&quot;ccl-icon-46-1&quot; class=&quot;entry-ccl-nc&quot; src=&quot;//i1.daumcdn.net/cfs.tistory/resource/4191/static/admin/editor/ccl_black02.png&quot; alt=&quot;비영리&quot;/&gt;
	&lt;img id=&quot;ccl-icon-46-2&quot; class=&quot;entry-ccl-nd&quot; src=&quot;//i1.daumcdn.net/cfs.tistory/resource/4191/static/admin/editor/ccl_black03.png&quot; alt=&quot;변경 금지&quot;/&gt;
	&lt;!--
	&lt;rdf:RDF xmlns=&quot;http://web.resource.org/cc/&quot; xmlns:dc=&quot;http://purl.org/dc/elements/1.1/&quot; xmlns:rdf=&quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#&quot;&gt;
		&lt;Work rdf:about=&quot;&quot;&gt;
			&lt;license rdf:resource=&quot;http://creativecommons.org/licenses/by-nc-nd/2.0/kr/&quot; /&gt;
		&lt;/Work&gt;
		&lt;License rdf:about=&quot;http://creativecommons.org/licenses/by-nc-nd/&quot;&gt;
			&lt;permits rdf:resource=&quot;http://web.resource.org/cc/Reproduction&quot;/&gt;
			&lt;permits rdf:resource=&quot;http://web.resource.org/cc/Distribution&quot;/&gt;
			&lt;requires rdf:resource=&quot;http://web.resource.org/cc/Notice&quot;/&gt;
			&lt;requires rdf:resource=&quot;http://web.resource.org/cc/Attribution&quot;/&gt;
			&lt;prohibits rdf:resource=&quot;http://web.resource.org/cc/CommercialUse&quot;/&gt;
		&lt;/License&gt;
	&lt;/rdf:RDF&gt;
	--&gt;
	&lt;/a&gt;
&lt;/div&gt;
</description>
<category>Util</category>
<author>myboor</author>
<guid>http://myboor.tistory.com/46</guid>
<comments>http://myboor.tistory.com/46#entry46comment</comments>
<pubDate>Tue, 12 Mar 2013 13:31:22 +0900</pubDate>
</item>
</channel>
</rss>